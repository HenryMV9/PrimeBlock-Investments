function Im(n,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in n)){const c=Object.getOwnPropertyDescriptor(a,u);c&&Object.defineProperty(n,u,c.get?c:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Um(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var go={exports:{}},Cs={},vo={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function Lm(){if(sh)return oe;sh=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function k(C,$,le){this.props=C,this.context=$,this.refs=N,this.updater=le||T}k.prototype.isReactComponent={},k.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function I(){}I.prototype=k.prototype;function E(C,$,le){this.props=C,this.context=$,this.refs=N,this.updater=le||T}var U=E.prototype=new I;U.constructor=E,j(U,k.prototype),U.isPureReactComponent=!0;var B=Array.isArray,G=Object.prototype.hasOwnProperty,Q={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ce(C,$,le){var de,fe={},pe=null,_e=null;if($!=null)for(de in $.ref!==void 0&&(_e=$.ref),$.key!==void 0&&(pe=""+$.key),$)G.call($,de)&&!q.hasOwnProperty(de)&&(fe[de]=$[de]);var ve=arguments.length-2;if(ve===1)fe.children=le;else if(1<ve){for(var Ee=Array(ve),gt=0;gt<ve;gt++)Ee[gt]=arguments[gt+2];fe.children=Ee}if(C&&C.defaultProps)for(de in ve=C.defaultProps,ve)fe[de]===void 0&&(fe[de]=ve[de]);return{$$typeof:n,type:C,key:pe,ref:_e,props:fe,_owner:Q.current}}function Ne(C,$){return{$$typeof:n,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function St(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Wt(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(le){return $[le]})}var we=/\/+/g;function et(C,$){return typeof C=="object"&&C!==null&&C.key!=null?Wt(""+C.key):$.toString(36)}function Pt(C,$,le,de,fe){var pe=typeof C;(pe==="undefined"||pe==="boolean")&&(C=null);var _e=!1;if(C===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(C.$$typeof){case n:case r:_e=!0}}if(_e)return _e=C,fe=fe(_e),C=de===""?"."+et(_e,0):de,B(fe)?(le="",C!=null&&(le=C.replace(we,"$&/")+"/"),Pt(fe,$,le,"",function(gt){return gt})):fe!=null&&(St(fe)&&(fe=Ne(fe,le+(!fe.key||_e&&_e.key===fe.key?"":(""+fe.key).replace(we,"$&/")+"/")+C)),$.push(fe)),1;if(_e=0,de=de===""?".":de+":",B(C))for(var ve=0;ve<C.length;ve++){pe=C[ve];var Ee=de+et(pe,ve);_e+=Pt(pe,$,le,Ee,fe)}else if(Ee=_(C),typeof Ee=="function")for(C=Ee.call(C),ve=0;!(pe=C.next()).done;)pe=pe.value,Ee=de+et(pe,ve++),_e+=Pt(pe,$,le,Ee,fe);else if(pe==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return _e}function Vt(C,$,le){if(C==null)return C;var de=[],fe=0;return Pt(C,de,"","",function(pe){return $.call(le,pe,fe++)}),de}function ut(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(le){(C._status===0||C._status===-1)&&(C._status=1,C._result=le)},function(le){(C._status===0||C._status===-1)&&(C._status=2,C._result=le)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var Ae={current:null},F={transition:null},ne={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:F,ReactCurrentOwner:Q};function H(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:Vt,forEach:function(C,$,le){Vt(C,function(){$.apply(this,arguments)},le)},count:function(C){var $=0;return Vt(C,function(){$++}),$},toArray:function(C){return Vt(C,function($){return $})||[]},only:function(C){if(!St(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},oe.Component=k,oe.Fragment=s,oe.Profiler=u,oe.PureComponent=E,oe.StrictMode=a,oe.Suspense=m,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,oe.act=H,oe.cloneElement=function(C,$,le){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var de=j({},C.props),fe=C.key,pe=C.ref,_e=C._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,_e=Q.current),$.key!==void 0&&(fe=""+$.key),C.type&&C.type.defaultProps)var ve=C.type.defaultProps;for(Ee in $)G.call($,Ee)&&!q.hasOwnProperty(Ee)&&(de[Ee]=$[Ee]===void 0&&ve!==void 0?ve[Ee]:$[Ee])}var Ee=arguments.length-2;if(Ee===1)de.children=le;else if(1<Ee){ve=Array(Ee);for(var gt=0;gt<Ee;gt++)ve[gt]=arguments[gt+2];de.children=ve}return{$$typeof:n,type:C.type,key:fe,ref:pe,props:de,_owner:_e}},oe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},oe.createElement=ce,oe.createFactory=function(C){var $=ce.bind(null,C);return $.type=C,$},oe.createRef=function(){return{current:null}},oe.forwardRef=function(C){return{$$typeof:p,render:C}},oe.isValidElement=St,oe.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ut}},oe.memo=function(C,$){return{$$typeof:v,type:C,compare:$===void 0?null:$}},oe.startTransition=function(C){var $=F.transition;F.transition={};try{C()}finally{F.transition=$}},oe.unstable_act=H,oe.useCallback=function(C,$){return Ae.current.useCallback(C,$)},oe.useContext=function(C){return Ae.current.useContext(C)},oe.useDebugValue=function(){},oe.useDeferredValue=function(C){return Ae.current.useDeferredValue(C)},oe.useEffect=function(C,$){return Ae.current.useEffect(C,$)},oe.useId=function(){return Ae.current.useId()},oe.useImperativeHandle=function(C,$,le){return Ae.current.useImperativeHandle(C,$,le)},oe.useInsertionEffect=function(C,$){return Ae.current.useInsertionEffect(C,$)},oe.useLayoutEffect=function(C,$){return Ae.current.useLayoutEffect(C,$)},oe.useMemo=function(C,$){return Ae.current.useMemo(C,$)},oe.useReducer=function(C,$,le){return Ae.current.useReducer(C,$,le)},oe.useRef=function(C){return Ae.current.useRef(C)},oe.useState=function(C){return Ae.current.useState(C)},oe.useSyncExternalStore=function(C,$,le){return Ae.current.useSyncExternalStore(C,$,le)},oe.useTransition=function(){return Ae.current.useTransition()},oe.version="18.3.1",oe}var ih;function Go(){return ih||(ih=1,vo.exports=Lm()),vo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function $m(){if(ah)return Cs;ah=1;var n=Go(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,v){var y,w={},_=null,T=null;v!==void 0&&(_=""+v),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(T=m.ref);for(y in m)a.call(m,y)&&!c.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:_,ref:T,props:w,_owner:u.current}}return Cs.Fragment=s,Cs.jsx=h,Cs.jsxs=h,Cs}var lh;function Dm(){return lh||(lh=1,go.exports=$m()),go.exports}var l=Dm(),R=Go();const zm=Um(R),Mm=Im({__proto__:null,default:zm},[R]);var na={},yo={exports:{}},mt={},xo={exports:{}},wo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function Bm(){return oh||(oh=1,(function(n){function r(F,ne){var H=F.length;F.push(ne);e:for(;0<H;){var C=H-1>>>1,$=F[C];if(0<u($,ne))F[C]=ne,F[H]=$,H=C;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ne=F[0],H=F.pop();if(H!==ne){F[0]=H;e:for(var C=0,$=F.length,le=$>>>1;C<le;){var de=2*(C+1)-1,fe=F[de],pe=de+1,_e=F[pe];if(0>u(fe,H))pe<$&&0>u(_e,fe)?(F[C]=_e,F[pe]=H,C=pe):(F[C]=fe,F[de]=H,C=de);else if(pe<$&&0>u(_e,H))F[C]=_e,F[pe]=H,C=pe;else break e}}return ne}function u(F,ne){var H=F.sortIndex-ne.sortIndex;return H!==0?H:F.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var m=[],v=[],y=1,w=null,_=3,T=!1,j=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(F){for(var ne=s(v);ne!==null;){if(ne.callback===null)a(v);else if(ne.startTime<=F)a(v),ne.sortIndex=ne.expirationTime,r(m,ne);else break;ne=s(v)}}function B(F){if(N=!1,U(F),!j)if(s(m)!==null)j=!0,ut(G);else{var ne=s(v);ne!==null&&Ae(B,ne.startTime-F)}}function G(F,ne){j=!1,N&&(N=!1,I(ce),ce=-1),T=!0;var H=_;try{for(U(ne),w=s(m);w!==null&&(!(w.expirationTime>ne)||F&&!Wt());){var C=w.callback;if(typeof C=="function"){w.callback=null,_=w.priorityLevel;var $=C(w.expirationTime<=ne);ne=n.unstable_now(),typeof $=="function"?w.callback=$:w===s(m)&&a(m),U(ne)}else a(m);w=s(m)}if(w!==null)var le=!0;else{var de=s(v);de!==null&&Ae(B,de.startTime-ne),le=!1}return le}finally{w=null,_=H,T=!1}}var Q=!1,q=null,ce=-1,Ne=5,St=-1;function Wt(){return!(n.unstable_now()-St<Ne)}function we(){if(q!==null){var F=n.unstable_now();St=F;var ne=!0;try{ne=q(!0,F)}finally{ne?et():(Q=!1,q=null)}}else Q=!1}var et;if(typeof E=="function")et=function(){E(we)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,Vt=Pt.port2;Pt.port1.onmessage=we,et=function(){Vt.postMessage(null)}}else et=function(){k(we,0)};function ut(F){q=F,Q||(Q=!0,et())}function Ae(F,ne){ce=k(function(){F(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){j||T||(j=!0,ut(G))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(F){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var H=_;_=ne;try{return F()}finally{_=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=_;_=F;try{return ne()}finally{_=H}},n.unstable_scheduleCallback=function(F,ne,H){var C=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?C+H:C):H=C,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,F={id:y++,callback:ne,priorityLevel:F,startTime:H,expirationTime:$,sortIndex:-1},H>C?(F.sortIndex=H,r(v,F),s(m)===null&&F===s(v)&&(N?(I(ce),ce=-1):N=!0,Ae(B,H-C))):(F.sortIndex=$,r(m,F),j||T||(j=!0,ut(G))),F},n.unstable_shouldYield=Wt,n.unstable_wrapCallback=function(F){var ne=_;return function(){var H=_;_=ne;try{return F.apply(this,arguments)}finally{_=H}}}})(wo)),wo}var uh;function Fm(){return uh||(uh=1,xo.exports=Bm()),xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function qm(){if(ch)return mt;ch=1;var n=Go(),r=Fm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function T(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,i,o){if(t===null||typeof t>"u"||T(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,i,o,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,E);k[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,E);k[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,E);k[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,i,o){var d=k.hasOwnProperty(t)?k[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,i,d,o)&&(i=null),o||d===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Q=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),Wt=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),F=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,C;function $(e){if(C===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var le=!1;function de(e,t){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var o=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){o=A}e.call(t.prototype)}else{try{throw Error()}catch(A){o=A}e()}}catch(A){if(A&&o&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),f=o.stack.split(`
`),g=d.length-1,x=f.length-1;1<=g&&0<=x&&d[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(d[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||d[g]!==f[x]){var b=`
`+d[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=x);break}}}finally{le=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$(e):""}function fe(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case Q:return"Portal";case Ne:return"Profiler";case ce:return"StrictMode";case et:return"Suspense";case Pt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wt:return(e.displayName||"Context")+".Consumer";case St:return(e._context.displayName||"Context")+".Provider";case we:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vt:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case ut:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gt(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=gt(e))}function cu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,t){var i=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function du(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ve(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hu(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function ja(e,t){hu(e,t);var i=ve(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sa(e,t.type,i):t.hasOwnProperty("defaultValue")&&Sa(e,t.type,ve(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Sa(e,t,i){(t!=="number"||Js(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Wn=Array.isArray;function rn(e,t,i,o){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ve(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pu(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Wn(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ve(i)}}function mu(e,t){var i=ve(t.value),o=ve(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gs,yu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Df=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){Df.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function xu(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function wu(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=xu(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var zf=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(e,t){if(t){if(zf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ta(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Ra(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,nn=null,sn=null;function _u(e){if(e=ps(e)){if(typeof Pa!="function")throw Error(s(280));var t=e.stateNode;t&&(t=yi(t),Pa(e.stateNode,e.type,t))}}function bu(e){nn?sn?sn.push(e):sn=[e]:nn=e}function ju(){if(nn){var e=nn,t=sn;if(sn=nn=null,_u(e),t)for(e=0;e<t.length;e++)_u(t[e])}}function Su(e,t){return e(t)}function ku(){}var Oa=!1;function Nu(e,t,i){if(Oa)return e(t,i);Oa=!0;try{return Su(e,t,i)}finally{Oa=!1,(nn!==null||sn!==null)&&(ku(),ju())}}function Kn(e,t){var i=e.stateNode;if(i===null)return null;var o=yi(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Aa=!1;if(p)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Aa=!1}function Mf(e,t,i,o,d,f,g,x,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(i,A)}catch(D){this.onError(D)}}var Gn=!1,Qs=null,Ys=!1,Ia=null,Bf={onError:function(e){Gn=!0,Qs=e}};function Ff(e,t,i,o,d,f,g,x,b){Gn=!1,Qs=null,Mf.apply(Bf,arguments)}function qf(e,t,i,o,d,f,g,x,b){if(Ff.apply(this,arguments),Gn){if(Gn){var A=Qs;Gn=!1,Qs=null}else throw Error(s(198));Ys||(Ys=!0,Ia=A)}}function $r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if($r(e)!==e)throw Error(s(188))}function Wf(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Tu(d),e;if(f===o)return Tu(d),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=d,o=f;else{for(var g=!1,x=d.child;x;){if(x===i){g=!0,i=d,o=f;break}if(x===o){g=!0,o=d,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,o=d;break}if(x===o){g=!0,o=f,i=d;break}x=x.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function Cu(e){return e=Wf(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var Pu=r.unstable_scheduleCallback,Ou=r.unstable_cancelCallback,Vf=r.unstable_shouldYield,Hf=r.unstable_requestPaint,Le=r.unstable_now,Kf=r.unstable_getCurrentPriorityLevel,Ua=r.unstable_ImmediatePriority,Au=r.unstable_UserBlockingPriority,Xs=r.unstable_NormalPriority,Jf=r.unstable_LowPriority,Iu=r.unstable_IdlePriority,Zs=null,Ht=null;function Gf(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Xf,Qf=Math.log,Yf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Qf(e)/Yf|0)|0}var ei=64,ti=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~d;x!==0?o=Qn(x):(f&=g,f!==0&&(o=Qn(f)))}else g=i&~d,g!==0?o=Qn(g):f!==0&&(o=Qn(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ot(t),d=1<<i,o|=e[i],t&=~d;return o}function Zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Ot(f),x=1<<g,b=d[g];b===-1?((x&i)===0||(x&o)!==0)&&(d[g]=Zf(x,t)):b<=t&&(e.expiredLanes|=x),f&=~x}}function La(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uu(){var e=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),e}function $a(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yn(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=i}function tp(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Ot(i),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,i&=~f}}function Da(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ot(i),d=1<<o;d&t|e[o]&t&&(e[o]|=t),i&=~d}}var ye=0;function Lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $u,za,Du,zu,Mu,Ma=!1,ni=[],cr=null,dr=null,hr=null,Xn=new Map,Zn=new Map,fr=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function es(e,t,i,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=ps(t),t!==null&&za(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function np(e,t,i,o,d){switch(t){case"focusin":return cr=es(cr,e,t,i,o,d),!0;case"dragenter":return dr=es(dr,e,t,i,o,d),!0;case"mouseover":return hr=es(hr,e,t,i,o,d),!0;case"pointerover":var f=d.pointerId;return Xn.set(f,es(Xn.get(f)||null,e,t,i,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Zn.set(f,es(Zn.get(f)||null,e,t,i,o,d)),!0}return!1}function Fu(e){var t=Dr(e.target);if(t!==null){var i=$r(t);if(i!==null){if(t=i.tag,t===13){if(t=Eu(i),t!==null){e.blockedOn=t,Mu(e.priority,function(){Du(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ca=o,i.target.dispatchEvent(o),Ca=null}else return t=ps(i),t!==null&&za(t),e.blockedOn=i,!1;t.shift()}return!0}function qu(e,t,i){si(e)&&i.delete(t)}function sp(){Ma=!1,cr!==null&&si(cr)&&(cr=null),dr!==null&&si(dr)&&(dr=null),hr!==null&&si(hr)&&(hr=null),Xn.forEach(qu),Zn.forEach(qu)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sp)))}function rs(e){function t(d){return ts(d,e)}if(0<ni.length){ts(ni[0],e);for(var i=1;i<ni.length;i++){var o=ni[i];o.blockedOn===e&&(o.blockedOn=null)}}for(cr!==null&&ts(cr,e),dr!==null&&ts(dr,e),hr!==null&&ts(hr,e),Xn.forEach(t),Zn.forEach(t),i=0;i<fr.length;i++)o=fr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<fr.length&&(i=fr[0],i.blockedOn===null);)Fu(i),i.blockedOn===null&&fr.shift()}var an=B.ReactCurrentBatchConfig,ii=!0;function ip(e,t,i,o){var d=ye,f=an.transition;an.transition=null;try{ye=1,Ba(e,t,i,o)}finally{ye=d,an.transition=f}}function ap(e,t,i,o){var d=ye,f=an.transition;an.transition=null;try{ye=4,Ba(e,t,i,o)}finally{ye=d,an.transition=f}}function Ba(e,t,i,o){if(ii){var d=Fa(e,t,i,o);if(d===null)il(e,t,o,ai,i),Bu(e,o);else if(np(d,e,t,i,o))o.stopPropagation();else if(Bu(e,o),t&4&&-1<rp.indexOf(e)){for(;d!==null;){var f=ps(d);if(f!==null&&$u(f),f=Fa(e,t,i,o),f===null&&il(e,t,o,ai,i),f===d)break;d=f}d!==null&&o.stopPropagation()}else il(e,t,o,null,i)}}var ai=null;function Fa(e,t,i,o){if(ai=null,e=Ra(o),e=Dr(e),e!==null)if(t=$r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Eu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function Wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case Ua:return 1;case Au:return 4;case Xs:case Jf:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var pr=null,qa=null,li=null;function Vu(){if(li)return li;var e,t=qa,i=t.length,o,d="value"in pr?pr.value:pr.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===d[f-o];o++);return li=d.slice(e,1<o?1-o:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function Hu(){return!1}function vt(e){function t(i,o,d,f,g){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ui:Hu,this.isPropagationStopped=Hu,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=vt(ln),ns=H({},ln,{view:0,detail:0}),lp=vt(ns),Va,Ha,ss,ci=H({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(Va=e.screenX-ss.screenX,Ha=e.screenY-ss.screenY):Ha=Va=0,ss=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),Ku=vt(ci),op=H({},ci,{dataTransfer:0}),up=vt(op),cp=H({},ns,{relatedTarget:0}),Ka=vt(cp),dp=H({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=vt(dp),fp=H({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pp=vt(fp),mp=H({},ln,{data:0}),Ju=vt(mp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yp[e])?!!t[e]:!1}function Ja(){return xp}var wp=H({},ns,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_p=vt(wp),bp=H({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=vt(bp),jp=H({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Sp=vt(jp),kp=H({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=vt(kp),Ep=H({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=vt(Ep),Cp=[9,13,27,32],Ga=p&&"CompositionEvent"in window,is=null;p&&"documentMode"in document&&(is=document.documentMode);var Rp=p&&"TextEvent"in window&&!is,Qu=p&&(!Ga||is&&8<is&&11>=is),Yu=" ",Xu=!1;function Zu(e,t){switch(e){case"keyup":return Cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function Pp(e,t){switch(e){case"compositionend":return ec(t);case"keypress":return t.which!==32?null:(Xu=!0,Yu);case"textInput":return e=t.data,e===Yu&&Xu?null:e;default:return null}}function Op(e,t){if(on)return e==="compositionend"||!Ga&&Zu(e,t)?(e=Vu(),li=qa=pr=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function rc(e,t,i,o){bu(o),t=mi(t,"onChange"),0<t.length&&(i=new Wa("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var as=null,ls=null;function Ip(e){wc(e,0)}function di(e){var t=fn(e);if(cu(t))return e}function Up(e,t){if(e==="change")return t}var nc=!1;if(p){var Qa;if(p){var Ya="oninput"in document;if(!Ya){var sc=document.createElement("div");sc.setAttribute("oninput","return;"),Ya=typeof sc.oninput=="function"}Qa=Ya}else Qa=!1;nc=Qa&&(!document.documentMode||9<document.documentMode)}function ic(){as&&(as.detachEvent("onpropertychange",ac),ls=as=null)}function ac(e){if(e.propertyName==="value"&&di(ls)){var t=[];rc(t,ls,e,Ra(e)),Nu(Ip,t)}}function Lp(e,t,i){e==="focusin"?(ic(),as=t,ls=i,as.attachEvent("onpropertychange",ac)):e==="focusout"&&ic()}function $p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(ls)}function Dp(e,t){if(e==="click")return di(t)}function zp(e,t){if(e==="input"||e==="change")return di(t)}function Mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Mp;function os(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!m.call(t,d)||!At(e[d],t[d]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var i=lc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lc(i)}}function uc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cc(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Js(e.document)}return t}function Xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bp(e){var t=cc(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&uc(i.ownerDocument.documentElement,i)){if(o!==null&&Xa(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=oc(i,f);var g=oc(i,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fp=p&&"documentMode"in document&&11>=document.documentMode,un=null,Za=null,us=null,el=!1;function dc(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;el||un==null||un!==Js(o)||(o=un,"selectionStart"in o&&Xa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),us&&os(us,o)||(us=o,o=mi(Za,"onSelect"),0<o.length&&(t=new Wa("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=un)))}function hi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var cn={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},tl={},hc={};p&&(hc=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function fi(e){if(tl[e])return tl[e];if(!cn[e])return e;var t=cn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in hc)return tl[e]=t[i];return e}var fc=fi("animationend"),pc=fi("animationiteration"),mc=fi("animationstart"),gc=fi("transitionend"),vc=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){vc.set(e,t),c(t,[e])}for(var rl=0;rl<yc.length;rl++){var nl=yc[rl],qp=nl.toLowerCase(),Wp=nl[0].toUpperCase()+nl.slice(1);mr(qp,"on"+Wp)}mr(fc,"onAnimationEnd"),mr(pc,"onAnimationIteration"),mr(mc,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(gc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function xc(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,qf(o,t,void 0,e),e.currentTarget=null}function wc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],b=x.instance,A=x.currentTarget;if(x=x.listener,b!==f&&d.isPropagationStopped())break e;xc(d,x,A),f=b}else for(g=0;g<o.length;g++){if(x=o[g],b=x.instance,A=x.currentTarget,x=x.listener,b!==f&&d.isPropagationStopped())break e;xc(d,x,A),f=b}}}if(Ys)throw e=Ia,Ys=!1,Ia=null,e}function Se(e,t){var i=t[dl];i===void 0&&(i=t[dl]=new Set);var o=e+"__bubble";i.has(o)||(_c(t,e,2,!1),i.add(o))}function sl(e,t,i){var o=0;t&&(o|=4),_c(i,e,o,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[pi]){e[pi]=!0,a.forEach(function(i){i!=="selectionchange"&&(Vp.has(i)||sl(i,!1,e),sl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pi]||(t[pi]=!0,sl("selectionchange",!1,t))}}function _c(e,t,i,o){switch(Wu(t)){case 1:var d=ip;break;case 4:d=ap;break;default:d=Ba}i=d.bind(null,t,i,e),d=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function il(e,t,i,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;g=g.return}for(;x!==null;){if(g=Dr(x),g===null)return;if(b=g.tag,b===5||b===6){o=f=g;continue e}x=x.parentNode}}o=o.return}Nu(function(){var A=f,D=Ra(i),z=[];e:{var L=vc.get(e);if(L!==void 0){var W=Wa,K=e;switch(e){case"keypress":if(oi(i)===0)break e;case"keydown":case"keyup":W=_p;break;case"focusin":K="focus",W=Ka;break;case"focusout":K="blur",W=Ka;break;case"beforeblur":case"afterblur":W=Ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Sp;break;case fc:case pc:case mc:W=hp;break;case gc:W=Np;break;case"scroll":W=lp;break;case"wheel":W=Tp;break;case"copy":case"cut":case"paste":W=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Gu}var J=(t&4)!==0,$e=!J&&e==="scroll",P=J?L!==null?L+"Capture":null:L;J=[];for(var S=A,O;S!==null;){O=S;var M=O.stateNode;if(O.tag===5&&M!==null&&(O=M,P!==null&&(M=Kn(S,P),M!=null&&J.push(hs(S,M,O)))),$e)break;S=S.return}0<J.length&&(L=new W(L,K,null,i,D),z.push({event:L,listeners:J}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",L&&i!==Ca&&(K=i.relatedTarget||i.fromElement)&&(Dr(K)||K[Yt]))break e;if((W||L)&&(L=D.window===D?D:(L=D.ownerDocument)?L.defaultView||L.parentWindow:window,W?(K=i.relatedTarget||i.toElement,W=A,K=K?Dr(K):null,K!==null&&($e=$r(K),K!==$e||K.tag!==5&&K.tag!==6)&&(K=null)):(W=null,K=A),W!==K)){if(J=Ku,M="onMouseLeave",P="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(J=Gu,M="onPointerLeave",P="onPointerEnter",S="pointer"),$e=W==null?L:fn(W),O=K==null?L:fn(K),L=new J(M,S+"leave",W,i,D),L.target=$e,L.relatedTarget=O,M=null,Dr(D)===A&&(J=new J(P,S+"enter",K,i,D),J.target=O,J.relatedTarget=$e,M=J),$e=M,W&&K)t:{for(J=W,P=K,S=0,O=J;O;O=dn(O))S++;for(O=0,M=P;M;M=dn(M))O++;for(;0<S-O;)J=dn(J),S--;for(;0<O-S;)P=dn(P),O--;for(;S--;){if(J===P||P!==null&&J===P.alternate)break t;J=dn(J),P=dn(P)}J=null}else J=null;W!==null&&bc(z,L,W,J,!1),K!==null&&$e!==null&&bc(z,$e,K,J,!0)}}e:{if(L=A?fn(A):window,W=L.nodeName&&L.nodeName.toLowerCase(),W==="select"||W==="input"&&L.type==="file")var Y=Up;else if(tc(L))if(nc)Y=zp;else{Y=$p;var Z=Lp}else(W=L.nodeName)&&W.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Y=Dp);if(Y&&(Y=Y(e,A))){rc(z,Y,i,D);break e}Z&&Z(e,L,A),e==="focusout"&&(Z=L._wrapperState)&&Z.controlled&&L.type==="number"&&Sa(L,"number",L.value)}switch(Z=A?fn(A):window,e){case"focusin":(tc(Z)||Z.contentEditable==="true")&&(un=Z,Za=A,us=null);break;case"focusout":us=Za=un=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,dc(z,i,D);break;case"selectionchange":if(Fp)break;case"keydown":case"keyup":dc(z,i,D)}var ee;if(Ga)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else on?Zu(e,i)&&(ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ae="onCompositionStart");ae&&(Qu&&i.locale!=="ko"&&(on||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&on&&(ee=Vu()):(pr=D,qa="value"in pr?pr.value:pr.textContent,on=!0)),Z=mi(A,ae),0<Z.length&&(ae=new Ju(ae,e,null,i,D),z.push({event:ae,listeners:Z}),ee?ae.data=ee:(ee=ec(i),ee!==null&&(ae.data=ee)))),(ee=Rp?Pp(e,i):Op(e,i))&&(A=mi(A,"onBeforeInput"),0<A.length&&(D=new Ju("onBeforeInput","beforeinput",null,i,D),z.push({event:D,listeners:A}),D.data=ee))}wc(z,t)})}function hs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function mi(e,t){for(var i=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Kn(e,i),f!=null&&o.unshift(hs(e,f,d)),f=Kn(e,t),f!=null&&o.push(hs(e,f,d))),e=e.return}return o}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,i,o,d){for(var f=t._reactName,g=[];i!==null&&i!==o;){var x=i,b=x.alternate,A=x.stateNode;if(b!==null&&b===o)break;x.tag===5&&A!==null&&(x=A,d?(b=Kn(i,f),b!=null&&g.unshift(hs(i,b,x))):d||(b=Kn(i,f),b!=null&&g.push(hs(i,b,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Hp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(Hp,`
`).replace(Kp,"")}function gi(e,t,i){if(t=jc(t),jc(e)!==t&&i)throw Error(s(425))}function vi(){}var al=null,ll=null;function ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Sc=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sc<"u"?function(e){return Sc.resolve(null).then(e).catch(Qp)}:ul;function Qp(e){setTimeout(function(){throw e})}function cl(e,t){var i=t,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),rs(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);rs(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var hn=Math.random().toString(36).slice(2),Kt="__reactFiber$"+hn,fs="__reactProps$"+hn,Yt="__reactContainer$"+hn,dl="__reactEvents$"+hn,Yp="__reactListeners$"+hn,Xp="__reactHandles$"+hn;function Dr(e){var t=e[Kt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Yt]||i[Kt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=kc(e);e!==null;){if(i=e[Kt])return i;e=kc(e)}return t}e=i,i=e.parentNode}return null}function ps(e){return e=e[Kt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function yi(e){return e[fs]||null}var hl=[],pn=-1;function vr(e){return{current:e}}function ke(e){0>pn||(e.current=hl[pn],hl[pn]=null,pn--)}function be(e,t){pn++,hl[pn]=e.current,e.current=t}var yr={},tt=vr(yr),ct=vr(!1),zr=yr;function mn(e,t){var i=e.type.contextTypes;if(!i)return yr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function dt(e){return e=e.childContextTypes,e!=null}function xi(){ke(ct),ke(tt)}function Nc(e,t,i){if(tt.current!==yr)throw Error(s(168));be(tt,t),be(ct,i)}function Ec(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(s(108,_e(e)||"Unknown",d));return H({},i,o)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yr,zr=tt.current,be(tt,e),be(ct,ct.current),!0}function Tc(e,t,i){var o=e.stateNode;if(!o)throw Error(s(169));i?(e=Ec(e,t,zr),o.__reactInternalMemoizedMergedChildContext=e,ke(ct),ke(tt),be(tt,e)):ke(ct),be(ct,i)}var Xt=null,_i=!1,fl=!1;function Cc(e){Xt===null?Xt=[e]:Xt.push(e)}function Zp(e){_i=!0,Cc(e)}function xr(){if(!fl&&Xt!==null){fl=!0;var e=0,t=ye;try{var i=Xt;for(ye=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Xt=null,_i=!1}catch(d){throw Xt!==null&&(Xt=Xt.slice(e+1)),Pu(Ua,xr),d}finally{ye=t,fl=!1}}return null}var gn=[],vn=0,bi=null,ji=0,kt=[],Nt=0,Mr=null,Zt=1,er="";function Br(e,t){gn[vn++]=ji,gn[vn++]=bi,bi=e,ji=t}function Rc(e,t,i){kt[Nt++]=Zt,kt[Nt++]=er,kt[Nt++]=Mr,Mr=e;var o=Zt;e=er;var d=32-Ot(o)-1;o&=~(1<<d),i+=1;var f=32-Ot(t)+d;if(30<f){var g=d-d%5;f=(o&(1<<g)-1).toString(32),o>>=g,d-=g,Zt=1<<32-Ot(t)+d|i<<d|o,er=f+e}else Zt=1<<f|i<<d|o,er=e}function pl(e){e.return!==null&&(Br(e,1),Rc(e,1,0))}function ml(e){for(;e===bi;)bi=gn[--vn],gn[vn]=null,ji=gn[--vn],gn[vn]=null;for(;e===Mr;)Mr=kt[--Nt],kt[Nt]=null,er=kt[--Nt],kt[Nt]=null,Zt=kt[--Nt],kt[Nt]=null}var yt=null,xt=null,Te=!1,It=null;function Pc(e,t){var i=Rt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Oc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,xt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:Zt,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Rt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,yt=e,xt=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(Te){var t=xt;if(t){var i=t;if(!Oc(e,t)){if(gl(e))throw Error(s(418));t=gr(i.nextSibling);var o=yt;t&&Oc(e,t)?Pc(o,i):(e.flags=e.flags&-4097|2,Te=!1,yt=e)}}else{if(gl(e))throw Error(s(418));e.flags=e.flags&-4097|2,Te=!1,yt=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Si(e){if(e!==yt)return!1;if(!Te)return Ac(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ol(e.type,e.memoizedProps)),t&&(t=xt)){if(gl(e))throw Ic(),Error(s(418));for(;t;)Pc(e,t),t=gr(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){xt=gr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=yt?gr(e.stateNode.nextSibling):null;return!0}function Ic(){for(var e=xt;e;)e=gr(e.nextSibling)}function yn(){xt=yt=null,Te=!1}function yl(e){It===null?It=[e]:It.push(e)}var em=B.ReactCurrentBatchConfig;function ms(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var o=i.stateNode}if(!o)throw Error(s(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=d.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function ki(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function Lc(e){function t(P,S){if(e){var O=P.deletions;O===null?(P.deletions=[S],P.flags|=16):O.push(S)}}function i(P,S){if(!e)return null;for(;S!==null;)t(P,S),S=S.sibling;return null}function o(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function d(P,S){return P=Er(P,S),P.index=0,P.sibling=null,P}function f(P,S,O){return P.index=O,e?(O=P.alternate,O!==null?(O=O.index,O<S?(P.flags|=2,S):O):(P.flags|=2,S)):(P.flags|=1048576,S)}function g(P){return e&&P.alternate===null&&(P.flags|=2),P}function x(P,S,O,M){return S===null||S.tag!==6?(S=uo(O,P.mode,M),S.return=P,S):(S=d(S,O),S.return=P,S)}function b(P,S,O,M){var Y=O.type;return Y===q?D(P,S,O.props.children,M,O.key):S!==null&&(S.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ut&&Uc(Y)===S.type)?(M=d(S,O.props),M.ref=ms(P,S,O),M.return=P,M):(M=Gi(O.type,O.key,O.props,null,P.mode,M),M.ref=ms(P,S,O),M.return=P,M)}function A(P,S,O,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=co(O,P.mode,M),S.return=P,S):(S=d(S,O.children||[]),S.return=P,S)}function D(P,S,O,M,Y){return S===null||S.tag!==7?(S=Gr(O,P.mode,M,Y),S.return=P,S):(S=d(S,O),S.return=P,S)}function z(P,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=uo(""+S,P.mode,O),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case G:return O=Gi(S.type,S.key,S.props,null,P.mode,O),O.ref=ms(P,null,S),O.return=P,O;case Q:return S=co(S,P.mode,O),S.return=P,S;case ut:var M=S._init;return z(P,M(S._payload),O)}if(Wn(S)||ne(S))return S=Gr(S,P.mode,O,null),S.return=P,S;ki(P,S)}return null}function L(P,S,O,M){var Y=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Y!==null?null:x(P,S,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return O.key===Y?b(P,S,O,M):null;case Q:return O.key===Y?A(P,S,O,M):null;case ut:return Y=O._init,L(P,S,Y(O._payload),M)}if(Wn(O)||ne(O))return Y!==null?null:D(P,S,O,M,null);ki(P,O)}return null}function W(P,S,O,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number")return P=P.get(O)||null,x(S,P,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return P=P.get(M.key===null?O:M.key)||null,b(S,P,M,Y);case Q:return P=P.get(M.key===null?O:M.key)||null,A(S,P,M,Y);case ut:var Z=M._init;return W(P,S,O,Z(M._payload),Y)}if(Wn(M)||ne(M))return P=P.get(O)||null,D(S,P,M,Y,null);ki(S,M)}return null}function K(P,S,O,M){for(var Y=null,Z=null,ee=S,ae=S=0,Ke=null;ee!==null&&ae<O.length;ae++){ee.index>ae?(Ke=ee,ee=null):Ke=ee.sibling;var me=L(P,ee,O[ae],M);if(me===null){ee===null&&(ee=Ke);break}e&&ee&&me.alternate===null&&t(P,ee),S=f(me,S,ae),Z===null?Y=me:Z.sibling=me,Z=me,ee=Ke}if(ae===O.length)return i(P,ee),Te&&Br(P,ae),Y;if(ee===null){for(;ae<O.length;ae++)ee=z(P,O[ae],M),ee!==null&&(S=f(ee,S,ae),Z===null?Y=ee:Z.sibling=ee,Z=ee);return Te&&Br(P,ae),Y}for(ee=o(P,ee);ae<O.length;ae++)Ke=W(ee,P,ae,O[ae],M),Ke!==null&&(e&&Ke.alternate!==null&&ee.delete(Ke.key===null?ae:Ke.key),S=f(Ke,S,ae),Z===null?Y=Ke:Z.sibling=Ke,Z=Ke);return e&&ee.forEach(function(Tr){return t(P,Tr)}),Te&&Br(P,ae),Y}function J(P,S,O,M){var Y=ne(O);if(typeof Y!="function")throw Error(s(150));if(O=Y.call(O),O==null)throw Error(s(151));for(var Z=Y=null,ee=S,ae=S=0,Ke=null,me=O.next();ee!==null&&!me.done;ae++,me=O.next()){ee.index>ae?(Ke=ee,ee=null):Ke=ee.sibling;var Tr=L(P,ee,me.value,M);if(Tr===null){ee===null&&(ee=Ke);break}e&&ee&&Tr.alternate===null&&t(P,ee),S=f(Tr,S,ae),Z===null?Y=Tr:Z.sibling=Tr,Z=Tr,ee=Ke}if(me.done)return i(P,ee),Te&&Br(P,ae),Y;if(ee===null){for(;!me.done;ae++,me=O.next())me=z(P,me.value,M),me!==null&&(S=f(me,S,ae),Z===null?Y=me:Z.sibling=me,Z=me);return Te&&Br(P,ae),Y}for(ee=o(P,ee);!me.done;ae++,me=O.next())me=W(ee,P,ae,me.value,M),me!==null&&(e&&me.alternate!==null&&ee.delete(me.key===null?ae:me.key),S=f(me,S,ae),Z===null?Y=me:Z.sibling=me,Z=me);return e&&ee.forEach(function(Am){return t(P,Am)}),Te&&Br(P,ae),Y}function $e(P,S,O,M){if(typeof O=="object"&&O!==null&&O.type===q&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case G:e:{for(var Y=O.key,Z=S;Z!==null;){if(Z.key===Y){if(Y=O.type,Y===q){if(Z.tag===7){i(P,Z.sibling),S=d(Z,O.props.children),S.return=P,P=S;break e}}else if(Z.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ut&&Uc(Y)===Z.type){i(P,Z.sibling),S=d(Z,O.props),S.ref=ms(P,Z,O),S.return=P,P=S;break e}i(P,Z);break}else t(P,Z);Z=Z.sibling}O.type===q?(S=Gr(O.props.children,P.mode,M,O.key),S.return=P,P=S):(M=Gi(O.type,O.key,O.props,null,P.mode,M),M.ref=ms(P,S,O),M.return=P,P=M)}return g(P);case Q:e:{for(Z=O.key;S!==null;){if(S.key===Z)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){i(P,S.sibling),S=d(S,O.children||[]),S.return=P,P=S;break e}else{i(P,S);break}else t(P,S);S=S.sibling}S=co(O,P.mode,M),S.return=P,P=S}return g(P);case ut:return Z=O._init,$e(P,S,Z(O._payload),M)}if(Wn(O))return K(P,S,O,M);if(ne(O))return J(P,S,O,M);ki(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(i(P,S.sibling),S=d(S,O),S.return=P,P=S):(i(P,S),S=uo(O,P.mode,M),S.return=P,P=S),g(P)):i(P,S)}return $e}var xn=Lc(!0),$c=Lc(!1),Ni=vr(null),Ei=null,wn=null,xl=null;function wl(){xl=wn=Ei=null}function _l(e){var t=Ni.current;ke(Ni),e._currentValue=t}function bl(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function _n(e,t){Ei=e,xl=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(xl!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Ei===null)throw Error(s(308));wn=e,Ei.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var Fr=null;function jl(e){Fr===null?Fr=[e]:Fr.push(e)}function Dc(e,t,i,o){var d=t.interleaved;return d===null?(i.next=i,jl(t)):(i.next=d.next,d.next=i),t.interleaved=i,tr(e,o)}function tr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var wr=!1;function Sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(he&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,tr(e,i)}return d=o.interleaved,d===null?(t.next=t,jl(o)):(t.next=d.next,d.next=t),o.interleaved=t,tr(e,i)}function Ti(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Da(e,i)}}function Mc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ci(e,t,i,o){var d=e.updateQueue;wr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var b=x,A=b.next;b.next=null,g===null?f=A:g.next=A,g=b;var D=e.alternate;D!==null&&(D=D.updateQueue,x=D.lastBaseUpdate,x!==g&&(x===null?D.firstBaseUpdate=A:x.next=A,D.lastBaseUpdate=b))}if(f!==null){var z=d.baseState;g=0,D=A=b=null,x=f;do{var L=x.lane,W=x.eventTime;if((o&L)===L){D!==null&&(D=D.next={eventTime:W,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var K=e,J=x;switch(L=t,W=i,J.tag){case 1:if(K=J.payload,typeof K=="function"){z=K.call(W,z,L);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=J.payload,L=typeof K=="function"?K.call(W,z,L):K,L==null)break e;z=H({},z,L);break e;case 2:wr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,L=d.effects,L===null?d.effects=[x]:L.push(x))}else W={eventTime:W,lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},D===null?(A=D=W,b=z):D=D.next=W,g|=L;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;L=x,x=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(D===null&&(b=z),d.baseState=b,d.firstBaseUpdate=A,d.lastBaseUpdate=D,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Vr|=g,e.lanes=g,e.memoizedState=z}}function Bc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(s(191,d));d.call(o)}}}var gs={},Jt=vr(gs),vs=vr(gs),ys=vr(gs);function qr(e){if(e===gs)throw Error(s(174));return e}function kl(e,t){switch(be(ys,t),be(vs,e),be(Jt,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Na(t,e)}ke(Jt),be(Jt,t)}function bn(){ke(Jt),ke(vs),ke(ys)}function Fc(e){qr(ys.current);var t=qr(Jt.current),i=Na(t,e.type);t!==i&&(be(vs,e),be(Jt,i))}function Nl(e){vs.current===e&&(ke(Jt),ke(vs))}var Ce=vr(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Tl(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Pi=B.ReactCurrentDispatcher,Cl=B.ReactCurrentBatchConfig,Wr=0,Re=null,Fe=null,Ve=null,Oi=!1,xs=!1,ws=0,tm=0;function rt(){throw Error(s(321))}function Rl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!At(e[i],t[i]))return!1;return!0}function Pl(e,t,i,o,d,f){if(Wr=f,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pi.current=e===null||e.memoizedState===null?im:am,e=i(o,d),xs){f=0;do{if(xs=!1,ws=0,25<=f)throw Error(s(301));f+=1,Ve=Fe=null,t.updateQueue=null,Pi.current=lm,e=i(o,d)}while(xs)}if(Pi.current=Ui,t=Fe!==null&&Fe.next!==null,Wr=0,Ve=Fe=Re=null,Oi=!1,t)throw Error(s(300));return e}function Ol(){var e=ws!==0;return ws=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Re.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Tt(){if(Fe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ve===null?Re.memoizedState:Ve.next;if(t!==null)Ve=t,Fe=e;else{if(e===null)throw Error(s(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ve===null?Re.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function _s(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=Fe,d=o.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}o.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,o=o.baseState;var x=g=null,b=null,A=f;do{var D=A.lane;if((Wr&D)===D)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),o=A.hasEagerState?A.eagerState:e(o,A.action);else{var z={lane:D,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(x=b=z,g=o):b=b.next=z,Re.lanes|=D,Vr|=D}A=A.next}while(A!==null&&A!==f);b===null?g=o:b.next=x,At(o,t.memoizedState)||(ht=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=b,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Re.lanes|=f,Vr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Il(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);At(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function qc(){}function Wc(e,t){var i=Re,o=Tt(),d=t(),f=!At(o.memoizedState,d);if(f&&(o.memoizedState=d,ht=!0),o=o.queue,Ul(Kc.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,bs(9,Hc.bind(null,i,o,d,t),void 0,null),He===null)throw Error(s(349));(Wr&30)!==0||Vc(i,t,d)}return d}function Vc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Hc(e,t,i,o){t.value=i,t.getSnapshot=o,Jc(t)&&Gc(e)}function Kc(e,t,i){return i(function(){Jc(t)&&Gc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!At(e,i)}catch{return!0}}function Gc(e){var t=tr(e,1);t!==null&&Dt(t,e,1,-1)}function Qc(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=sm.bind(null,Re,e),[t.memoizedState,e]}function bs(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Yc(){return Tt().memoizedState}function Ai(e,t,i,o){var d=Gt();Re.flags|=e,d.memoizedState=bs(1|t,i,void 0,o===void 0?null:o)}function Ii(e,t,i,o){var d=Tt();o=o===void 0?null:o;var f=void 0;if(Fe!==null){var g=Fe.memoizedState;if(f=g.destroy,o!==null&&Rl(o,g.deps)){d.memoizedState=bs(t,i,f,o);return}}Re.flags|=e,d.memoizedState=bs(1|t,i,f,o)}function Xc(e,t){return Ai(8390656,8,e,t)}function Ul(e,t){return Ii(2048,8,e,t)}function Zc(e,t){return Ii(4,2,e,t)}function ed(e,t){return Ii(4,4,e,t)}function td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rd(e,t,i){return i=i!=null?i.concat([e]):null,Ii(4,4,td.bind(null,t,e),i)}function Ll(){}function nd(e,t){var i=Tt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Rl(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function sd(e,t){var i=Tt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Rl(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function id(e,t,i){return(Wr&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=i):(At(i,t)||(i=Uu(),Re.lanes|=i,Vr|=i,e.baseState=!0),t)}function rm(e,t){var i=ye;ye=i!==0&&4>i?i:4,e(!0);var o=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ye=i,Cl.transition=o}}function ad(){return Tt().memoizedState}function nm(e,t,i){var o=kr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},ld(e))od(t,i);else if(i=Dc(e,t,i,o),i!==null){var d=at();Dt(i,e,o,d),ud(i,t,o)}}function sm(e,t,i){var o=kr(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(ld(e))od(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(d.hasEagerState=!0,d.eagerState=x,At(x,g)){var b=t.interleaved;b===null?(d.next=d,jl(t)):(d.next=b.next,b.next=d),t.interleaved=d;return}}catch{}finally{}i=Dc(e,t,d,o),i!==null&&(d=at(),Dt(i,e,o,d),ud(i,t,o))}}function ld(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function od(e,t){xs=Oi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ud(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Da(e,i)}}var Ui={readContext:Et,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},im={readContext:Et,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Xc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ai(4194308,4,td.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var i=Gt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Gt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=nm.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Qc,useDebugValue:Ll,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Qc(!1),t=e[0];return e=rm.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Re,d=Gt();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),He===null)throw Error(s(349));(Wr&30)!==0||Vc(o,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,Xc(Kc.bind(null,o,f,e),[e]),o.flags|=2048,bs(9,Hc.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Gt(),t=He.identifierPrefix;if(Te){var i=er,o=Zt;i=(o&~(1<<32-Ot(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ws++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=tm++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},am={readContext:Et,useCallback:nd,useContext:Et,useEffect:Ul,useImperativeHandle:rd,useInsertionEffect:Zc,useLayoutEffect:ed,useMemo:sd,useReducer:Al,useRef:Yc,useState:function(){return Al(_s)},useDebugValue:Ll,useDeferredValue:function(e){var t=Tt();return id(t,Fe.memoizedState,e)},useTransition:function(){var e=Al(_s)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Wc,useId:ad,unstable_isNewReconciler:!1},lm={readContext:Et,useCallback:nd,useContext:Et,useEffect:Ul,useImperativeHandle:rd,useInsertionEffect:Zc,useLayoutEffect:ed,useMemo:sd,useReducer:Il,useRef:Yc,useState:function(){return Il(_s)},useDebugValue:Ll,useDeferredValue:function(e){var t=Tt();return Fe===null?t.memoizedState=e:id(t,Fe.memoizedState,e)},useTransition:function(){var e=Il(_s)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Wc,useId:ad,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function $l(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:H({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Li={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=at(),d=kr(e),f=rr(o,d);f.payload=t,i!=null&&(f.callback=i),t=_r(e,f,d),t!==null&&(Dt(t,e,d,o),Ti(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=at(),d=kr(e),f=rr(o,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=_r(e,f,d),t!==null&&(Dt(t,e,d,o),Ti(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=at(),o=kr(e),d=rr(i,o);d.tag=2,t!=null&&(d.callback=t),t=_r(e,d,o),t!==null&&(Dt(t,e,o,i),Ti(t,e,o))}};function cd(e,t,i,o,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!os(i,o)||!os(d,f):!0}function dd(e,t,i){var o=!1,d=yr,f=t.contextType;return typeof f=="object"&&f!==null?f=Et(f):(d=dt(t)?zr:tt.current,o=t.contextTypes,f=(o=o!=null)?mn(e,d):yr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Li,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function hd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function Dl(e,t,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},Sl(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Et(f):(f=dt(t)?zr:tt.current,d.context=mn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&($l(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Li.enqueueReplaceState(d,d.state,null),Ci(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function jn(e,t){try{var i="",o=t;do i+=fe(o),o=o.return;while(o);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function zl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ml(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var om=typeof WeakMap=="function"?WeakMap:Map;function fd(e,t,i){i=rr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){qi||(qi=!0,to=o),Ml(e,t)},i}function pd(e,t,i){i=rr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;i.payload=function(){return o(d)},i.callback=function(){Ml(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Ml(e,t),typeof o!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function md(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new om;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(i)||(d.add(i),e=bm.bind(null,e,t,i),t.then(e,e))}function gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,i,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=rr(-1,1),t.tag=2,_r(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var um=B.ReactCurrentOwner,ht=!1;function it(e,t,i,o){t.child=e===null?$c(t,null,i,o):xn(t,e.child,i,o)}function yd(e,t,i,o,d){i=i.render;var f=t.ref;return _n(t,d),o=Pl(e,t,i,o,f,d),i=Ol(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,nr(e,t,d)):(Te&&i&&pl(t),t.flags|=1,it(e,t,o,d),t.child)}function xd(e,t,i,o,d){if(e===null){var f=i.type;return typeof f=="function"&&!oo(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,wd(e,t,f,o,d)):(e=Gi(i.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:os,i(g,o)&&e.ref===t.ref)return nr(e,t,d)}return t.flags|=1,e=Er(f,o),e.ref=t.ref,e.return=t,t.child=e}function wd(e,t,i,o,d){if(e!==null){var f=e.memoizedProps;if(os(f,o)&&e.ref===t.ref)if(ht=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,nr(e,t,d)}return Bl(e,t,i,o,d)}function _d(e,t,i){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(kn,wt),wt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(kn,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,be(kn,wt),wt|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,be(kn,wt),wt|=o;return it(e,t,d,i),t.child}function bd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Bl(e,t,i,o,d){var f=dt(i)?zr:tt.current;return f=mn(t,f),_n(t,d),i=Pl(e,t,i,o,f,d),o=Ol(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,nr(e,t,d)):(Te&&o&&pl(t),t.flags|=1,it(e,t,i,d),t.child)}function jd(e,t,i,o,d){if(dt(i)){var f=!0;wi(t)}else f=!1;if(_n(t,d),t.stateNode===null)Di(e,t),dd(t,i,o),Dl(t,i,o,d),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var b=g.context,A=i.contextType;typeof A=="object"&&A!==null?A=Et(A):(A=dt(i)?zr:tt.current,A=mn(t,A));var D=i.getDerivedStateFromProps,z=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||b!==A)&&hd(t,g,o,A),wr=!1;var L=t.memoizedState;g.state=L,Ci(t,o,g,d),b=t.memoizedState,x!==o||L!==b||ct.current||wr?(typeof D=="function"&&($l(t,i,D,o),b=t.memoizedState),(x=wr||cd(t,i,x,o,L,b,A))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),g.props=o,g.state=b,g.context=A,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,zc(e,t),x=t.memoizedProps,A=t.type===t.elementType?x:Ut(t.type,x),g.props=A,z=t.pendingProps,L=g.context,b=i.contextType,typeof b=="object"&&b!==null?b=Et(b):(b=dt(i)?zr:tt.current,b=mn(t,b));var W=i.getDerivedStateFromProps;(D=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==z||L!==b)&&hd(t,g,o,b),wr=!1,L=t.memoizedState,g.state=L,Ci(t,o,g,d);var K=t.memoizedState;x!==z||L!==K||ct.current||wr?(typeof W=="function"&&($l(t,i,W,o),K=t.memoizedState),(A=wr||cd(t,i,A,o,L,K,b)||!1)?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,K,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,K,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=K),g.props=o,g.state=K,g.context=b,o=A):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),o=!1)}return Fl(e,t,i,o,f,d)}function Fl(e,t,i,o,d,f){bd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&Tc(t,i,!1),nr(e,t,f);o=t.stateNode,um.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=xn(t,e.child,null,f),t.child=xn(t,null,x,f)):it(e,t,x,f),t.memoizedState=o.state,d&&Tc(t,i,!0),t.child}function Sd(e){var t=e.stateNode;t.pendingContext?Nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nc(e,t.context,!1),kl(e,t.containerInfo)}function kd(e,t,i,o,d){return yn(),yl(d),t.flags|=256,it(e,t,i,o),t.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nd(e,t,i){var o=t.pendingProps,d=Ce.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),be(Ce,d&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Qi(g,o,0,null),e=Gr(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Wl(i),t.memoizedState=ql,e):Vl(t,g));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return cm(e,t,g,o,x,d,i);if(f){f=o.fallback,g=t.mode,d=e.child,x=d.sibling;var b={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=Er(d,b),o.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=Er(x,f):(f=Gr(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?Wl(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=ql,o}return f=e.child,e=f.sibling,o=Er(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Vl(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,i,o){return o!==null&&yl(o),xn(t,e.child,null,i),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,i,o,d,f,g){if(i)return t.flags&256?(t.flags&=-257,o=zl(Error(s(422))),$i(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=Qi({mode:"visible",children:o.children},d,0,null),f=Gr(f,d,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&xn(t,e.child,null,g),t.child.memoizedState=Wl(g),t.memoizedState=ql,f);if((t.mode&1)===0)return $i(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var x=o.dgst;return o=x,f=Error(s(419)),o=zl(f,o,void 0),$i(e,t,g,o)}if(x=(g&e.childLanes)!==0,ht||x){if(o=He,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,tr(e,d),Dt(o,e,d,-1))}return lo(),o=zl(Error(s(421))),$i(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=jm.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,xt=gr(d.nextSibling),yt=t,Te=!0,It=null,e!==null&&(kt[Nt++]=Zt,kt[Nt++]=er,kt[Nt++]=Mr,Zt=e.id,er=e.overflow,Mr=t),t=Vl(t,o.children),t.flags|=4096,t)}function Ed(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),bl(e.return,t,i)}function Hl(e,t,i,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=d)}function Td(e,t,i){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(it(e,t,o.children,i),o=Ce.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,i,t);else if(e.tag===19)Ed(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(be(Ce,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&Ri(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Hl(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ri(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Hl(t,!0,i,null,f);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Er(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Er(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function dm(e,t,i){switch(t.tag){case 3:Sd(t),yn();break;case 5:Fc(t);break;case 1:dt(t.type)&&wi(t);break;case 4:kl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;be(Ni,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(be(Ce,Ce.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Nd(e,t,i):(be(Ce,Ce.current&1),e=nr(e,t,i),e!==null?e.sibling:null);be(Ce,Ce.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Td(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),be(Ce,Ce.current),o)break;return null;case 22:case 23:return t.lanes=0,_d(e,t,i)}return nr(e,t,i)}var Cd,Kl,Rd,Pd;Cd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Kl=function(){},Rd=function(e,t,i,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,qr(Jt.current);var f=null;switch(i){case"input":d=ba(e,d),o=ba(e,o),f=[];break;case"select":d=H({},d,{value:void 0}),o=H({},o,{value:void 0}),f=[];break;case"textarea":d=ka(e,d),o=ka(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=vi)}Ea(i,o);var g;i=null;for(A in d)if(!o.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var x=d[A];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(u.hasOwnProperty(A)?f||(f=[]):(f=f||[]).push(A,null));for(A in o){var b=o[A];if(x=d!=null?d[A]:void 0,o.hasOwnProperty(A)&&b!==x&&(b!=null||x!=null))if(A==="style")if(x){for(g in x)!x.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in b)b.hasOwnProperty(g)&&x[g]!==b[g]&&(i||(i={}),i[g]=b[g])}else i||(f||(f=[]),f.push(A,i)),i=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(f=f||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(u.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&Se("scroll",e),f||x===b||(f=[])):(f=f||[]).push(A,b))}i&&(f=f||[]).push("style",i);var A=f;(t.updateQueue=A)&&(t.flags|=4)}},Pd=function(e,t,i,o){i!==o&&(t.flags|=4)};function js(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function hm(e,t,i){var o=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return dt(t.type)&&xi(),nt(t),null;case 3:return o=t.stateNode,bn(),ke(ct),ke(tt),Tl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,It!==null&&(so(It),It=null))),Kl(e,t),nt(t),null;case 5:Nl(t);var d=qr(ys.current);if(i=t.type,e!==null&&t.stateNode!=null)Rd(e,t,i,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return nt(t),null}if(e=qr(Jt.current),Si(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Kt]=t,o[fs]=f,e=(t.mode&1)!==0,i){case"dialog":Se("cancel",o),Se("close",o);break;case"iframe":case"object":case"embed":Se("load",o);break;case"video":case"audio":for(d=0;d<cs.length;d++)Se(cs[d],o);break;case"source":Se("error",o);break;case"img":case"image":case"link":Se("error",o),Se("load",o);break;case"details":Se("toggle",o);break;case"input":du(o,f),Se("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Se("invalid",o);break;case"textarea":pu(o,f),Se("invalid",o)}Ea(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?o.textContent!==x&&(f.suppressHydrationWarning!==!0&&gi(o.textContent,x,e),d=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&gi(o.textContent,x,e),d=["children",""+x]):u.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Se("scroll",o)}switch(i){case"input":Ks(o),fu(o,f,!0);break;case"textarea":Ks(o),gu(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=vi)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Kt]=t,e[fs]=o,Cd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ta(i,o),i){case"dialog":Se("cancel",e),Se("close",e),d=o;break;case"iframe":case"object":case"embed":Se("load",e),d=o;break;case"video":case"audio":for(d=0;d<cs.length;d++)Se(cs[d],e);d=o;break;case"source":Se("error",e),d=o;break;case"img":case"image":case"link":Se("error",e),Se("load",e),d=o;break;case"details":Se("toggle",e),d=o;break;case"input":du(e,o),d=ba(e,o),Se("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=H({},o,{value:void 0}),Se("invalid",e);break;case"textarea":pu(e,o),d=ka(e,o),Se("invalid",e);break;default:d=o}Ea(i,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var b=x[f];f==="style"?wu(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&yu(e,b)):f==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&Vn(e,b):typeof b=="number"&&Vn(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?b!=null&&f==="onScroll"&&Se("scroll",e):b!=null&&U(e,f,b,g))}switch(i){case"input":Ks(e),fu(e,o,!1);break;case"textarea":Ks(e),gu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ve(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?rn(e,!!o.multiple,f,!1):o.defaultValue!=null&&rn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=vi)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)Pd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(i=qr(ys.current),qr(Jt.current),Si(t)){if(o=t.stateNode,i=t.memoizedProps,o[Kt]=t,(f=o.nodeValue!==i)&&(e=yt,e!==null))switch(e.tag){case 3:gi(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gi(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Kt]=t,t.stateNode=o}return nt(t),null;case 13:if(ke(Ce),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&xt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ic(),yn(),t.flags|=98560,f=!1;else if(f=Si(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Kt]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),f=!1}else It!==null&&(so(It),It=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ce.current&1)!==0?qe===0&&(qe=3):lo())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return bn(),Kl(e,t),e===null&&ds(t.stateNode.containerInfo),nt(t),null;case 10:return _l(t.type._context),nt(t),null;case 17:return dt(t.type)&&xi(),nt(t),null;case 19:if(ke(Ce),f=t.memoizedState,f===null)return nt(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)js(f,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ri(e),g!==null){for(t.flags|=128,js(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return be(Ce,Ce.current&1|2),t.child}e=e.sibling}f.tail!==null&&Le()>Nn&&(t.flags|=128,o=!0,js(f,!1),t.lanes=4194304)}else{if(!o)if(e=Ri(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),js(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Te)return nt(t),null}else 2*Le()-f.renderingStartTime>Nn&&i!==1073741824&&(t.flags|=128,o=!0,js(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Le(),t.sibling=null,i=Ce.current,be(Ce,o?i&1|2:i&1),t):(nt(t),null);case 22:case 23:return ao(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(wt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function fm(e,t){switch(ml(t),t.tag){case 1:return dt(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),ke(ct),ke(tt),Tl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Nl(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return bn(),null;case 10:return _l(t.type._context),null;case 22:case 23:return ao(),null;case 24:return null;default:return null}}var zi=!1,st=!1,pm=typeof WeakSet=="function"?WeakSet:Set,V=null;function Sn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ie(e,t,o)}else i.current=null}function Jl(e,t,i){try{i()}catch(o){Ie(e,t,o)}}var Od=!1;function mm(e,t){if(al=ii,e=cc(),Xa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,b=-1,A=0,D=0,z=e,L=null;t:for(;;){for(var W;z!==i||d!==0&&z.nodeType!==3||(x=g+d),z!==f||o!==0&&z.nodeType!==3||(b=g+o),z.nodeType===3&&(g+=z.nodeValue.length),(W=z.firstChild)!==null;)L=z,z=W;for(;;){if(z===e)break t;if(L===i&&++A===d&&(x=g),L===f&&++D===o&&(b=g),(W=z.nextSibling)!==null)break;z=L,L=z.parentNode}z=W}i=x===-1||b===-1?null:{start:x,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(ll={focusedElem:e,selectionRange:i},ii=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var J=K.memoizedProps,$e=K.memoizedState,P=t.stateNode,S=P.getSnapshotBeforeUpdate(t.elementType===t.type?J:Ut(t.type,J),$e);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(M){Ie(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return K=Od,Od=!1,K}function Ss(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Jl(t,i,f)}d=d.next}while(d!==o)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Gl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Ad(e){var t=e.alternate;t!==null&&(e.alternate=null,Ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[fs],delete t[dl],delete t[Yp],delete t[Xp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Id(e){return e.tag===5||e.tag===3||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ql(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=vi));else if(o!==4&&(e=e.child,e!==null))for(Ql(e,t,i),e=e.sibling;e!==null;)Ql(e,t,i),e=e.sibling}function Yl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Yl(e,t,i),e=e.sibling;e!==null;)Yl(e,t,i),e=e.sibling}var Je=null,Lt=!1;function br(e,t,i){for(i=i.child;i!==null;)Ld(e,t,i),i=i.sibling}function Ld(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Zs,i)}catch{}switch(i.tag){case 5:st||Sn(i,t);case 6:var o=Je,d=Lt;Je=null,br(e,t,i),Je=o,Lt=d,Je!==null&&(Lt?(e=Je,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Je.removeChild(i.stateNode));break;case 18:Je!==null&&(Lt?(e=Je,i=i.stateNode,e.nodeType===8?cl(e.parentNode,i):e.nodeType===1&&cl(e,i),rs(e)):cl(Je,i.stateNode));break;case 4:o=Je,d=Lt,Je=i.stateNode.containerInfo,Lt=!0,br(e,t,i),Je=o,Lt=d;break;case 0:case 11:case 14:case 15:if(!st&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Jl(i,t,g),d=d.next}while(d!==o)}br(e,t,i);break;case 1:if(!st&&(Sn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){Ie(i,t,x)}br(e,t,i);break;case 21:br(e,t,i);break;case 22:i.mode&1?(st=(o=st)||i.memoizedState!==null,br(e,t,i),st=o):br(e,t,i);break;default:br(e,t,i)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new pm),t.forEach(function(o){var d=Sm.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function $t(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Je=x.stateNode,Lt=!1;break e;case 3:Je=x.stateNode.containerInfo,Lt=!0;break e;case 4:Je=x.stateNode.containerInfo,Lt=!0;break e}x=x.return}if(Je===null)throw Error(s(160));Ld(f,g,d),Je=null,Lt=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(A){Ie(d,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dd(t,e),t=t.sibling}function Dd(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Qt(e),o&4){try{Ss(3,e,e.return),Mi(3,e)}catch(J){Ie(e,e.return,J)}try{Ss(5,e,e.return)}catch(J){Ie(e,e.return,J)}}break;case 1:$t(t,e),Qt(e),o&512&&i!==null&&Sn(i,i.return);break;case 5:if($t(t,e),Qt(e),o&512&&i!==null&&Sn(i,i.return),e.flags&32){var d=e.stateNode;try{Vn(d,"")}catch(J){Ie(e,e.return,J)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&hu(d,f),Ta(x,g);var A=Ta(x,f);for(g=0;g<b.length;g+=2){var D=b[g],z=b[g+1];D==="style"?wu(d,z):D==="dangerouslySetInnerHTML"?yu(d,z):D==="children"?Vn(d,z):U(d,D,z,A)}switch(x){case"input":ja(d,f);break;case"textarea":mu(d,f);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?rn(d,!!f.multiple,W,!1):L!==!!f.multiple&&(f.defaultValue!=null?rn(d,!!f.multiple,f.defaultValue,!0):rn(d,!!f.multiple,f.multiple?[]:"",!1))}d[fs]=f}catch(J){Ie(e,e.return,J)}}break;case 6:if($t(t,e),Qt(e),o&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(J){Ie(e,e.return,J)}}break;case 3:if($t(t,e),Qt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(J){Ie(e,e.return,J)}break;case 4:$t(t,e),Qt(e);break;case 13:$t(t,e),Qt(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(eo=Le())),o&4&&$d(e);break;case 22:if(D=i!==null&&i.memoizedState!==null,e.mode&1?(st=(A=st)||D,$t(t,e),st=A):$t(t,e),Qt(e),o&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!D&&(e.mode&1)!==0)for(V=e,D=e.child;D!==null;){for(z=V=D;V!==null;){switch(L=V,W=L.child,L.tag){case 0:case 11:case 14:case 15:Ss(4,L,L.return);break;case 1:Sn(L,L.return);var K=L.stateNode;if(typeof K.componentWillUnmount=="function"){o=L,i=L.return;try{t=o,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(J){Ie(o,i,J)}}break;case 5:Sn(L,L.return);break;case 22:if(L.memoizedState!==null){Bd(z);continue}}W!==null?(W.return=L,V=W):Bd(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{d=z.stateNode,A?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=z.stateNode,b=z.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=xu("display",g))}catch(J){Ie(e,e.return,J)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=A?"":z.memoizedProps}catch(J){Ie(e,e.return,J)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:$t(t,e),Qt(e),o&4&&$d(e);break;case 21:break;default:$t(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Id(i)){var o=i;break e}i=i.return}throw Error(s(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Vn(d,""),o.flags&=-33);var f=Ud(e);Yl(e,f,d);break;case 3:case 4:var g=o.stateNode.containerInfo,x=Ud(e);Ql(e,x,g);break;default:throw Error(s(161))}}catch(b){Ie(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gm(e,t,i){V=e,zd(e)}function zd(e,t,i){for(var o=(e.mode&1)!==0;V!==null;){var d=V,f=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||zi;if(!g){var x=d.alternate,b=x!==null&&x.memoizedState!==null||st;x=zi;var A=st;if(zi=g,(st=b)&&!A)for(V=d;V!==null;)g=V,b=g.child,g.tag===22&&g.memoizedState!==null?Fd(d):b!==null?(b.return=g,V=b):Fd(d);for(;f!==null;)V=f,zd(f),f=f.sibling;V=d,zi=x,st=A}Md(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,V=f):Md(e)}}function Md(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||Mi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!st)if(i===null)o.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Ut(t.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Bc(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Bc(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&i.focus();break;case"img":b.src&&(i.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var D=A.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&rs(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}st||t.flags&512&&Gl(t)}catch(L){Ie(t,t.return,L)}}if(t===e){V=null;break}if(i=t.sibling,i!==null){i.return=t.return,V=i;break}V=t.return}}function Bd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}function Fd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Mi(4,t)}catch(b){Ie(t,i,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(b){Ie(t,d,b)}}var f=t.return;try{Gl(t)}catch(b){Ie(t,f,b)}break;case 5:var g=t.return;try{Gl(t)}catch(b){Ie(t,g,b)}}}catch(b){Ie(t,t.return,b)}if(t===e){V=null;break}var x=t.sibling;if(x!==null){x.return=t.return,V=x;break}V=t.return}}var vm=Math.ceil,Bi=B.ReactCurrentDispatcher,Xl=B.ReactCurrentOwner,Ct=B.ReactCurrentBatchConfig,he=0,He=null,Me=null,Ge=0,wt=0,kn=vr(0),qe=0,ks=null,Vr=0,Fi=0,Zl=0,Ns=null,ft=null,eo=0,Nn=1/0,sr=null,qi=!1,to=null,jr=null,Wi=!1,Sr=null,Vi=0,Es=0,ro=null,Hi=-1,Ki=0;function at(){return(he&6)!==0?Le():Hi!==-1?Hi:Hi=Le()}function kr(e){return(e.mode&1)===0?1:(he&2)!==0&&Ge!==0?Ge&-Ge:em.transition!==null?(Ki===0&&(Ki=Uu()),Ki):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Wu(e.type)),e)}function Dt(e,t,i,o){if(50<Es)throw Es=0,ro=null,Error(s(185));Yn(e,i,o),((he&2)===0||e!==He)&&(e===He&&((he&2)===0&&(Fi|=i),qe===4&&Nr(e,Ge)),pt(e,o),i===1&&he===0&&(t.mode&1)===0&&(Nn=Le()+500,_i&&xr()))}function pt(e,t){var i=e.callbackNode;ep(e,t);var o=ri(e,e===He?Ge:0);if(o===0)i!==null&&Ou(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Ou(i),t===1)e.tag===0?Zp(Wd.bind(null,e)):Cc(Wd.bind(null,e)),Gp(function(){(he&6)===0&&xr()}),i=null;else{switch(Lu(o)){case 1:i=Ua;break;case 4:i=Au;break;case 16:i=Xs;break;case 536870912:i=Iu;break;default:i=Xs}i=Xd(i,qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function qd(e,t){if(Hi=-1,Ki=0,(he&6)!==0)throw Error(s(327));var i=e.callbackNode;if(En()&&e.callbackNode!==i)return null;var o=ri(e,e===He?Ge:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ji(e,o);else{t=o;var d=he;he|=2;var f=Hd();(He!==e||Ge!==t)&&(sr=null,Nn=Le()+500,Kr(e,t));do try{wm();break}catch(x){Vd(e,x)}while(!0);wl(),Bi.current=f,he=d,Me!==null?t=0:(He=null,Ge=0,t=qe)}if(t!==0){if(t===2&&(d=La(e),d!==0&&(o=d,t=no(e,d))),t===1)throw i=ks,Kr(e,0),Nr(e,o),pt(e,Le()),i;if(t===6)Nr(e,o);else{if(d=e.current.alternate,(o&30)===0&&!ym(d)&&(t=Ji(e,o),t===2&&(f=La(e),f!==0&&(o=f,t=no(e,f))),t===1))throw i=ks,Kr(e,0),Nr(e,o),pt(e,Le()),i;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Jr(e,ft,sr);break;case 3:if(Nr(e,o),(o&130023424)===o&&(t=eo+500-Le(),10<t)){if(ri(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){at(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ul(Jr.bind(null,e,ft,sr),t);break}Jr(e,ft,sr);break;case 4:if(Nr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-Ot(o);f=1<<g,g=t[g],g>d&&(d=g),o&=~f}if(o=d,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*vm(o/1960))-o,10<o){e.timeoutHandle=ul(Jr.bind(null,e,ft,sr),o);break}Jr(e,ft,sr);break;case 5:Jr(e,ft,sr);break;default:throw Error(s(329))}}}return pt(e,Le()),e.callbackNode===i?qd.bind(null,e):null}function no(e,t){var i=Ns;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=Ji(e,t),e!==2&&(t=ft,ft=i,t!==null&&so(t)),e}function so(e){ft===null?ft=e:ft.push.apply(ft,e)}function ym(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],f=d.getSnapshot;d=d.value;try{if(!At(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Zl,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ot(t),o=1<<i;e[i]=-1,t&=~o}}function Wd(e){if((he&6)!==0)throw Error(s(327));En();var t=ri(e,0);if((t&1)===0)return pt(e,Le()),null;var i=Ji(e,t);if(e.tag!==0&&i===2){var o=La(e);o!==0&&(t=o,i=no(e,o))}if(i===1)throw i=ks,Kr(e,0),Nr(e,t),pt(e,Le()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jr(e,ft,sr),pt(e,Le()),null}function io(e,t){var i=he;he|=1;try{return e(t)}finally{he=i,he===0&&(Nn=Le()+500,_i&&xr())}}function Hr(e){Sr!==null&&Sr.tag===0&&(he&6)===0&&En();var t=he;he|=1;var i=Ct.transition,o=ye;try{if(Ct.transition=null,ye=1,e)return e()}finally{ye=o,Ct.transition=i,he=t,(he&6)===0&&xr()}}function ao(){wt=kn.current,ke(kn)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Jp(i)),Me!==null)for(i=Me.return;i!==null;){var o=i;switch(ml(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&xi();break;case 3:bn(),ke(ct),ke(tt),Tl();break;case 5:Nl(o);break;case 4:bn();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:_l(o.type._context);break;case 22:case 23:ao()}i=i.return}if(He=e,Me=e=Er(e.current,null),Ge=wt=t,qe=0,ks=null,Zl=Fi=Vr=0,ft=Ns=null,Fr!==null){for(t=0;t<Fr.length;t++)if(i=Fr[t],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,o.next=g}i.pending=o}Fr=null}return e}function Vd(e,t){do{var i=Me;try{if(wl(),Pi.current=Ui,Oi){for(var o=Re.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Oi=!1}if(Wr=0,Ve=Fe=Re=null,xs=!1,ws=0,Xl.current=null,i===null||i.return===null){qe=1,ks=t,Me=null;break}e:{var f=e,g=i.return,x=i,b=t;if(t=Ge,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,D=x,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var L=D.alternate;L?(D.updateQueue=L.updateQueue,D.memoizedState=L.memoizedState,D.lanes=L.lanes):(D.updateQueue=null,D.memoizedState=null)}var W=gd(g);if(W!==null){W.flags&=-257,vd(W,g,x,f,t),W.mode&1&&md(f,A,t),t=W,b=A;var K=t.updateQueue;if(K===null){var J=new Set;J.add(b),t.updateQueue=J}else K.add(b);break e}else{if((t&1)===0){md(f,A,t),lo();break e}b=Error(s(426))}}else if(Te&&x.mode&1){var $e=gd(g);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),vd($e,g,x,f,t),yl(jn(b,x));break e}}f=b=jn(b,x),qe!==4&&(qe=2),Ns===null?Ns=[f]:Ns.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var P=fd(f,b,t);Mc(f,P);break e;case 1:x=b;var S=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(jr===null||!jr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var M=pd(f,x,t);Mc(f,M);break e}}f=f.return}while(f!==null)}Jd(i)}catch(Y){t=Y,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function Hd(){var e=Bi.current;return Bi.current=Ui,e===null?Ui:e}function lo(){(qe===0||qe===3||qe===2)&&(qe=4),He===null||(Vr&268435455)===0&&(Fi&268435455)===0||Nr(He,Ge)}function Ji(e,t){var i=he;he|=2;var o=Hd();(He!==e||Ge!==t)&&(sr=null,Kr(e,t));do try{xm();break}catch(d){Vd(e,d)}while(!0);if(wl(),he=i,Bi.current=o,Me!==null)throw Error(s(261));return He=null,Ge=0,qe}function xm(){for(;Me!==null;)Kd(Me)}function wm(){for(;Me!==null&&!Vf();)Kd(Me)}function Kd(e){var t=Yd(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Jd(e):Me=t,Xl.current=null}function Jd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=hm(i,t,wt),i!==null){Me=i;return}}else{if(i=fm(i,t),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);qe===0&&(qe=5)}function Jr(e,t,i){var o=ye,d=Ct.transition;try{Ct.transition=null,ye=1,_m(e,t,i,o)}finally{Ct.transition=d,ye=o}return null}function _m(e,t,i,o){do En();while(Sr!==null);if((he&6)!==0)throw Error(s(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(tp(e,f),e===He&&(Me=He=null,Ge=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Wi||(Wi=!0,Xd(Xs,function(){return En(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Ct.transition,Ct.transition=null;var g=ye;ye=1;var x=he;he|=4,Xl.current=null,mm(e,i),Dd(i,e),Bp(ll),ii=!!al,ll=al=null,e.current=i,gm(i),Hf(),he=x,ye=g,Ct.transition=f}else e.current=i;if(Wi&&(Wi=!1,Sr=e,Vi=d),f=e.pendingLanes,f===0&&(jr=null),Gf(i.stateNode),pt(e,Le()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(qi)throw qi=!1,e=to,to=null,e;return(Vi&1)!==0&&e.tag!==0&&En(),f=e.pendingLanes,(f&1)!==0?e===ro?Es++:(Es=0,ro=e):Es=0,xr(),null}function En(){if(Sr!==null){var e=Lu(Vi),t=Ct.transition,i=ye;try{if(Ct.transition=null,ye=16>e?16:e,Sr===null)var o=!1;else{if(e=Sr,Sr=null,Vi=0,(he&6)!==0)throw Error(s(331));var d=he;for(he|=4,V=e.current;V!==null;){var f=V,g=f.child;if((V.flags&16)!==0){var x=f.deletions;if(x!==null){for(var b=0;b<x.length;b++){var A=x[b];for(V=A;V!==null;){var D=V;switch(D.tag){case 0:case 11:case 15:Ss(8,D,f)}var z=D.child;if(z!==null)z.return=D,V=z;else for(;V!==null;){D=V;var L=D.sibling,W=D.return;if(Ad(D),D===A){V=null;break}if(L!==null){L.return=W,V=L;break}V=W}}}var K=f.alternate;if(K!==null){var J=K.child;if(J!==null){K.child=null;do{var $e=J.sibling;J.sibling=null,J=$e}while(J!==null)}}V=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,V=g;else e:for(;V!==null;){if(f=V,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ss(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,V=P;break e}V=f.return}}var S=e.current;for(V=S;V!==null;){g=V;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,V=O;else e:for(g=S;V!==null;){if(x=V,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Mi(9,x)}}catch(Y){Ie(x,x.return,Y)}if(x===g){V=null;break e}var M=x.sibling;if(M!==null){M.return=x.return,V=M;break e}V=x.return}}if(he=d,xr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Zs,e)}catch{}o=!0}return o}finally{ye=i,Ct.transition=t}}return!1}function Gd(e,t,i){t=jn(i,t),t=fd(e,t,1),e=_r(e,t,1),t=at(),e!==null&&(Yn(e,1,t),pt(e,t))}function Ie(e,t,i){if(e.tag===3)Gd(e,e,i);else for(;t!==null;){if(t.tag===3){Gd(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){e=jn(i,e),e=pd(t,e,1),t=_r(t,e,1),e=at(),t!==null&&(Yn(t,1,e),pt(t,e));break}}t=t.return}}function bm(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&i,He===e&&(Ge&i)===i&&(qe===4||qe===3&&(Ge&130023424)===Ge&&500>Le()-eo?Kr(e,0):Zl|=i),pt(e,t)}function Qd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ti,ti<<=1,(ti&130023424)===0&&(ti=4194304)));var i=at();e=tr(e,t),e!==null&&(Yn(e,t,i),pt(e,i))}function jm(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qd(e,i)}function Sm(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),Qd(e,i)}var Yd;Yd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ht=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ht=!1,dm(e,t,i);ht=(e.flags&131072)!==0}else ht=!1,Te&&(t.flags&1048576)!==0&&Rc(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Di(e,t),e=t.pendingProps;var d=mn(t,tt.current);_n(t,i),d=Pl(null,t,o,e,d,i);var f=Ol();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(o)?(f=!0,wi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Sl(t),d.updater=Li,t.stateNode=d,d._reactInternals=t,Dl(t,o,e,i),t=Fl(null,t,o,!0,f,i)):(t.tag=0,Te&&f&&pl(t),it(null,t,d,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=Nm(o),e=Ut(o,e),d){case 0:t=Bl(null,t,o,e,i);break e;case 1:t=jd(null,t,o,e,i);break e;case 11:t=yd(null,t,o,e,i);break e;case 14:t=xd(null,t,o,Ut(o.type,e),i);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Ut(o,d),Bl(e,t,o,d,i);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Ut(o,d),jd(e,t,o,d,i);case 3:e:{if(Sd(t),e===null)throw Error(s(387));o=t.pendingProps,f=t.memoizedState,d=f.element,zc(e,t),Ci(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=jn(Error(s(423)),t),t=kd(e,t,o,i,d);break e}else if(o!==d){d=jn(Error(s(424)),t),t=kd(e,t,o,i,d);break e}else for(xt=gr(t.stateNode.containerInfo.firstChild),yt=t,Te=!0,It=null,i=$c(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(yn(),o===d){t=nr(e,t,i);break e}it(e,t,o,i)}t=t.child}return t;case 5:return Fc(t),e===null&&vl(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,ol(o,d)?g=null:f!==null&&ol(o,f)&&(t.flags|=32),bd(e,t),it(e,t,g,i),t.child;case 6:return e===null&&vl(t),null;case 13:return Nd(e,t,i);case 4:return kl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=xn(t,null,o,i):it(e,t,o,i),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Ut(o,d),yd(e,t,o,d,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,be(Ni,o._currentValue),o._currentValue=g,f!==null)if(At(f.value,g)){if(f.children===d.children&&!ct.current){t=nr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var b=x.firstContext;b!==null;){if(b.context===o){if(f.tag===1){b=rr(-1,i&-i),b.tag=2;var A=f.updateQueue;if(A!==null){A=A.shared;var D=A.pending;D===null?b.next=b:(b.next=D.next,D.next=b),A.pending=b}}f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),bl(f.return,i,t),x.lanes|=i;break}b=b.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),bl(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}it(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,_n(t,i),d=Et(d),o=o(d),t.flags|=1,it(e,t,o,i),t.child;case 14:return o=t.type,d=Ut(o,t.pendingProps),d=Ut(o.type,d),xd(e,t,o,d,i);case 15:return wd(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Ut(o,d),Di(e,t),t.tag=1,dt(o)?(e=!0,wi(t)):e=!1,_n(t,i),dd(t,o,d),Dl(t,o,d,i),Fl(null,t,o,!0,e,i);case 19:return Td(e,t,i);case 22:return _d(e,t,i)}throw Error(s(156,t.tag))};function Xd(e,t){return Pu(e,t)}function km(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,o){return new km(e,t,i,o)}function oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nm(e){if(typeof e=="function")return oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===we)return 11;if(e===Vt)return 14}return 2}function Er(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Gi(e,t,i,o,d,f){var g=2;if(o=e,typeof e=="function")oo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case q:return Gr(i.children,d,f,t);case ce:g=8,d|=8;break;case Ne:return e=Rt(12,i,t,d|2),e.elementType=Ne,e.lanes=f,e;case et:return e=Rt(13,i,t,d),e.elementType=et,e.lanes=f,e;case Pt:return e=Rt(19,i,t,d),e.elementType=Pt,e.lanes=f,e;case Ae:return Qi(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case St:g=10;break e;case Wt:g=9;break e;case we:g=11;break e;case Vt:g=14;break e;case ut:g=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Rt(g,i,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function Gr(e,t,i,o){return e=Rt(7,e,o,t),e.lanes=i,e}function Qi(e,t,i,o){return e=Rt(22,e,o,t),e.elementType=Ae,e.lanes=i,e.stateNode={isHidden:!1},e}function uo(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function co(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Em(e,t,i,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ho(e,t,i,o,d,f,g,x,b){return e=new Em(e,t,i,x,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Rt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sl(f),e}function Tm(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Zd(e){if(!e)return yr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(dt(i))return Ec(e,i,t)}return t}function eh(e,t,i,o,d,f,g,x,b){return e=ho(i,o,!0,e,d,f,g,x,b),e.context=Zd(null),i=e.current,o=at(),d=kr(i),f=rr(o,d),f.callback=t??null,_r(i,f,d),e.current.lanes=d,Yn(e,d,o),pt(e,o),e}function Yi(e,t,i,o){var d=t.current,f=at(),g=kr(d);return i=Zd(i),t.context===null?t.context=i:t.pendingContext=i,t=rr(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=_r(d,t,g),e!==null&&(Dt(e,d,g,f),Ti(e,d,g)),g}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function fo(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function Cm(){return null}var rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function po(e){this._internalRoot=e}Zi.prototype.render=po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Yi(e,t,null,null)},Zi.prototype.unmount=po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){Yi(null,e,null,null)}),t[Yt]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<fr.length&&t!==0&&t<fr[i].priority;i++);fr.splice(i,0,e),i===0&&Fu(e)}};function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nh(){}function Rm(e,t,i,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var A=Xi(g);f.call(A)}}var g=eh(t,o,e,0,null,!1,!1,"",nh);return e._reactRootContainer=g,e[Yt]=g.current,ds(e.nodeType===8?e.parentNode:e),Hr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var x=o;o=function(){var A=Xi(b);x.call(A)}}var b=ho(e,0,!1,null,null,!1,!1,"",nh);return e._reactRootContainer=b,e[Yt]=b.current,ds(e.nodeType===8?e.parentNode:e),Hr(function(){Yi(t,b,i,o)}),b}function ta(e,t,i,o,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var x=d;d=function(){var b=Xi(g);x.call(b)}}Yi(t,g,e,d)}else g=Rm(i,t,e,d,o);return Xi(g)}$u=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Qn(t.pendingLanes);i!==0&&(Da(t,i|1),pt(t,Le()),(he&6)===0&&(Nn=Le()+500,xr()))}break;case 13:Hr(function(){var o=tr(e,1);if(o!==null){var d=at();Dt(o,e,1,d)}}),fo(e,1)}},za=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var i=at();Dt(t,e,134217728,i)}fo(e,134217728)}},Du=function(e){if(e.tag===13){var t=kr(e),i=tr(e,t);if(i!==null){var o=at();Dt(i,e,t,o)}fo(e,t)}},zu=function(){return ye},Mu=function(e,t){var i=ye;try{return ye=e,t()}finally{ye=i}},Pa=function(e,t,i){switch(t){case"input":if(ja(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var d=yi(o);if(!d)throw Error(s(90));cu(o),ja(o,d)}}}break;case"textarea":mu(e,i);break;case"select":t=i.value,t!=null&&rn(e,!!i.multiple,t,!1)}},Su=io,ku=Hr;var Pm={usingClientEntryPoint:!1,Events:[ps,fn,yi,bu,ju,io]},Ts={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Om={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||Cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Zs=ra.inject(Om),Ht=ra}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm,mt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mo(t))throw Error(s(200));return Tm(e,t,null,i)},mt.createRoot=function(e,t){if(!mo(e))throw Error(s(299));var i=!1,o="",d=rh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=ho(e,1,!1,null,null,i,!1,o,d),e[Yt]=t.current,ds(e.nodeType===8?e.parentNode:e),new po(t)},mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Cu(t),e=e===null?null:e.stateNode,e},mt.flushSync=function(e){return Hr(e)},mt.hydrate=function(e,t,i){if(!ea(t))throw Error(s(200));return ta(null,e,t,!0,i)},mt.hydrateRoot=function(e,t,i){if(!mo(e))throw Error(s(405));var o=i!=null&&i.hydratedSources||null,d=!1,f="",g=rh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=eh(t,null,e,1,i??null,d,!1,f,g),e[Yt]=t.current,ds(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Zi(t)},mt.render=function(e,t,i){if(!ea(t))throw Error(s(200));return ta(null,e,t,!1,i)},mt.unmountComponentAtNode=function(e){if(!ea(e))throw Error(s(40));return e._reactRootContainer?(Hr(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},mt.unstable_batchedUpdates=io,mt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!ea(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ta(e,t,i,!1,o)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var dh;function ef(){if(dh)return yo.exports;dh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),yo.exports=qm(),yo.exports}var hh;function Wm(){if(hh)return na;hh=1;var n=ef();return na.createRoot=n.createRoot,na.hydrateRoot=n.hydrateRoot,na}var Vm=Wm();ef();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},As.apply(this,arguments)}var Or;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Or||(Or={}));const fh="popstate";function Hm(n){n===void 0&&(n={});function r(a,u){let{pathname:c,search:h,hash:p}=a.location;return Io("",{pathname:c,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(a,u){return typeof u=="string"?u:da(u)}return Jm(r,s,null,n)}function ze(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Qo(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Km(){return Math.random().toString(36).substr(2,8)}function ph(n,r){return{usr:n.state,key:n.key,idx:r}}function Io(n,r,s,a){return s===void 0&&(s=null),As({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?Bn(r):r,{state:s,key:r&&r.key||a||Km()})}function da(n){let{pathname:r="/",search:s="",hash:a=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Bn(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let a=n.indexOf("?");a>=0&&(r.search=n.substr(a),n=n.substr(0,a)),n&&(r.pathname=n)}return r}function Jm(n,r,s,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:c=!1}=a,h=u.history,p=Or.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(As({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function w(){p=Or.Pop;let k=y(),I=k==null?null:k-v;v=k,m&&m({action:p,location:N.location,delta:I})}function _(k,I){p=Or.Push;let E=Io(N.location,k,I);v=y()+1;let U=ph(E,v),B=N.createHref(E);try{h.pushState(U,"",B)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;u.location.assign(B)}c&&m&&m({action:p,location:N.location,delta:1})}function T(k,I){p=Or.Replace;let E=Io(N.location,k,I);v=y();let U=ph(E,v),B=N.createHref(E);h.replaceState(U,"",B),c&&m&&m({action:p,location:N.location,delta:0})}function j(k){let I=u.location.origin!=="null"?u.location.origin:u.location.href,E=typeof k=="string"?k:da(k);return E=E.replace(/ $/,"%20"),ze(I,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,I)}let N={get action(){return p},get location(){return n(u,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(fh,w),m=k,()=>{u.removeEventListener(fh,w),m=null}},createHref(k){return r(u,k)},createURL:j,encodeLocation(k){let I=j(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:T,go(k){return h.go(k)}};return N}var mh;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mh||(mh={}));function Gm(n,r,s){return s===void 0&&(s="/"),Qm(n,r,s)}function Qm(n,r,s,a){let u=typeof r=="string"?Bn(r):r,c=Yo(u.pathname||"/",s);if(c==null)return null;let h=tf(n);Ym(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let v=u0(c);p=a0(h[m],v)}return p}function tf(n,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let u=(c,h,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};m.relativePath.startsWith("/")&&(ze(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let v=Ar([a,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(ze(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),tf(c.children,r,y,v)),!(c.path==null&&!c.index)&&r.push({path:v,score:s0(v,c.index),routesMeta:y})};return n.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,h);else for(let m of rf(c.path))u(c,h,m)}),r}function rf(n){let r=n.split("/");if(r.length===0)return[];let[s,...a]=r,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return u?[c,""]:[c];let h=rf(a.join("/")),p=[];return p.push(...h.map(m=>m===""?c:[c,m].join("/"))),u&&p.push(...h),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function Ym(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:i0(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Xm=/^:[\w-]+$/,Zm=3,e0=2,t0=1,r0=10,n0=-2,gh=n=>n==="*";function s0(n,r){let s=n.split("/"),a=s.length;return s.some(gh)&&(a+=n0),r&&(a+=e0),s.filter(u=>!gh(u)).reduce((u,c)=>u+(Xm.test(c)?Zm:c===""?t0:r0),a)}function i0(n,r){return n.length===r.length&&n.slice(0,-1).every((a,u)=>a===r[u])?n[n.length-1]-r[r.length-1]:0}function a0(n,r,s){let{routesMeta:a}=n,u={},c="/",h=[];for(let p=0;p<a.length;++p){let m=a[p],v=p===a.length-1,y=c==="/"?r:r.slice(c.length)||"/",w=l0({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),_=m.route;if(!w)return null;Object.assign(u,w.params),h.push({params:u,pathname:Ar([c,w.pathname]),pathnameBase:p0(Ar([c,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(c=Ar([c,w.pathnameBase]))}return h}function l0(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,a]=o0(n.path,n.caseSensitive,n.end),u=r.match(s);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:a.reduce((v,y,w)=>{let{paramName:_,isOptional:T}=y;if(_==="*"){let N=p[w]||"";h=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const j=p[w];return T&&!j?v[_]=void 0:v[_]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:n}}function o0(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Qo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),a]}function u0(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qo(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function Yo(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=n.charAt(s);return a&&a!=="/"?null:n.slice(s)||"/"}const c0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d0=n=>c0.test(n);function h0(n,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:u=""}=typeof n=="string"?Bn(n):n,c;if(s)if(d0(s))c=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),Qo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?c=vh(s.substring(1),"/"):c=vh(s,r)}else c=r;return{pathname:c,search:m0(a),hash:g0(u)}}function vh(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function _o(n,r,s,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f0(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Xo(n,r){let s=f0(n);return r?s.map((a,u)=>u===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Zo(n,r,s,a){a===void 0&&(a=!1);let u;typeof n=="string"?u=Bn(n):(u=As({},n),ze(!u.pathname||!u.pathname.includes("?"),_o("?","pathname","search",u)),ze(!u.pathname||!u.pathname.includes("#"),_o("#","pathname","hash",u)),ze(!u.search||!u.search.includes("#"),_o("#","search","hash",u)));let c=n===""||u.pathname==="",h=c?"/":u.pathname,p;if(h==null)p=s;else{let w=r.length-1;if(!a&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),w-=1;u.pathname=_.join("/")}p=w>=0?r[w]:"/"}let m=h0(u,p),v=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const Ar=n=>n.join("/").replace(/\/\/+/g,"/"),p0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function v0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nf=["post","put","patch","delete"];new Set(nf);const y0=["get",...nf];new Set(y0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},Is.apply(this,arguments)}const eu=R.createContext(null),x0=R.createContext(null),Ur=R.createContext(null),ga=R.createContext(null),Lr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),sf=R.createContext(null);function w0(n,r){let{relative:s}=r===void 0?{}:r;Fn()||ze(!1);let{basename:a,navigator:u}=R.useContext(Ur),{hash:c,pathname:h,search:p}=lf(n,{relative:s}),m=h;return a!=="/"&&(m=h==="/"?a:Ar([a,h])),u.createHref({pathname:m,search:p,hash:c})}function Fn(){return R.useContext(ga)!=null}function qn(){return Fn()||ze(!1),R.useContext(ga).location}function af(n){R.useContext(Ur).static||R.useLayoutEffect(n)}function qs(){let{isDataRoute:n}=R.useContext(Lr);return n?A0():_0()}function _0(){Fn()||ze(!1);let n=R.useContext(eu),{basename:r,future:s,navigator:a}=R.useContext(Ur),{matches:u}=R.useContext(Lr),{pathname:c}=qn(),h=JSON.stringify(Xo(u,s.v7_relativeSplatPath)),p=R.useRef(!1);return af(()=>{p.current=!0}),R.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){a.go(v);return}let w=Zo(v,JSON.parse(h),c,y.relative==="path");n==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Ar([r,w.pathname])),(y.replace?a.replace:a.push)(w,y.state,y)},[r,a,h,c,n])}function lf(n,r){let{relative:s}=r===void 0?{}:r,{future:a}=R.useContext(Ur),{matches:u}=R.useContext(Lr),{pathname:c}=qn(),h=JSON.stringify(Xo(u,a.v7_relativeSplatPath));return R.useMemo(()=>Zo(n,JSON.parse(h),c,s==="path"),[n,h,c,s])}function b0(n,r){return j0(n,r)}function j0(n,r,s,a){Fn()||ze(!1);let{navigator:u}=R.useContext(Ur),{matches:c}=R.useContext(Lr),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=qn(),y;if(r){var w;let k=typeof r=="string"?Bn(r):r;m==="/"||(w=k.pathname)!=null&&w.startsWith(m)||ze(!1),y=k}else y=v;let _=y.pathname||"/",T=_;if(m!=="/"){let k=m.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=Gm(n,{pathname:T}),N=T0(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Ar([m,u.encodeLocation?u.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Ar([m,u.encodeLocation?u.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,s,a);return r&&N?R.createElement(ga.Provider,{value:{location:Is({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Or.Pop}},N):N}function S0(){let n=O0(),r=v0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),s?R.createElement("pre",{style:u},s):null,null)}const k0=R.createElement(S0,null);class N0 extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?R.createElement(Lr.Provider,{value:this.props.routeContext},R.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E0(n){let{routeContext:r,match:s,children:a}=n,u=R.useContext(eu);return u&&u.static&&u.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=s.route.id),R.createElement(Lr.Provider,{value:r},a)}function T0(n,r,s,a){var u;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),n==null){var c;if(!s)return null;if(s.errors)n=s.matches;else if((c=a)!=null&&c.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,p=(u=s)==null?void 0:u.errors;if(p!=null){let y=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);y>=0||ze(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(s&&a&&a.v7_partialHydration)for(let y=0;y<h.length;y++){let w=h[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:_,errors:T}=s,j=w.route.loader&&_[w.route.id]===void 0&&(!T||T[w.route.id]===void 0);if(w.route.lazy||j){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,w,_)=>{let T,j=!1,N=null,k=null;s&&(T=p&&w.route.id?p[w.route.id]:void 0,N=w.route.errorElement||k0,m&&(v<0&&_===0?(I0("route-fallback"),j=!0,k=null):v===_&&(j=!0,k=w.route.hydrateFallbackElement||null)));let I=r.concat(h.slice(0,_+1)),E=()=>{let U;return T?U=N:j?U=k:w.route.Component?U=R.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=y,R.createElement(E0,{match:w,routeContext:{outlet:y,matches:I,isDataRoute:s!=null},children:U})};return s&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?R.createElement(N0,{location:s.location,revalidation:s.revalidation,component:N,error:T,children:E(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):E()},null)}var of=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(of||{}),uf=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(uf||{});function C0(n){let r=R.useContext(eu);return r||ze(!1),r}function R0(n){let r=R.useContext(x0);return r||ze(!1),r}function P0(n){let r=R.useContext(Lr);return r||ze(!1),r}function cf(n){let r=P0(),s=r.matches[r.matches.length-1];return s.route.id||ze(!1),s.route.id}function O0(){var n;let r=R.useContext(sf),s=R0(),a=cf();return r!==void 0?r:(n=s.errors)==null?void 0:n[a]}function A0(){let{router:n}=C0(of.UseNavigateStable),r=cf(uf.UseNavigateStable),s=R.useRef(!1);return af(()=>{s.current=!0}),R.useCallback(function(u,c){c===void 0&&(c={}),s.current&&(typeof u=="number"?n.navigate(u):n.navigate(u,Is({fromRouteId:r},c)))},[n,r])}const yh={};function I0(n,r,s){yh[n]||(yh[n]=!0)}function U0(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function tu(n){let{to:r,replace:s,state:a,relative:u}=n;Fn()||ze(!1);let{future:c,static:h}=R.useContext(Ur),{matches:p}=R.useContext(Lr),{pathname:m}=qn(),v=qs(),y=Zo(r,Xo(p,c.v7_relativeSplatPath),m,u==="path"),w=JSON.stringify(y);return R.useEffect(()=>v(JSON.parse(w),{replace:s,state:a,relative:u}),[v,w,u,s,a]),null}function lt(n){ze(!1)}function L0(n){let{basename:r="/",children:s=null,location:a,navigationType:u=Or.Pop,navigator:c,static:h=!1,future:p}=n;Fn()&&ze(!1);let m=r.replace(/^\/*/,"/"),v=R.useMemo(()=>({basename:m,navigator:c,static:h,future:Is({v7_relativeSplatPath:!1},p)}),[m,p,c,h]);typeof a=="string"&&(a=Bn(a));let{pathname:y="/",search:w="",hash:_="",state:T=null,key:j="default"}=a,N=R.useMemo(()=>{let k=Yo(y,m);return k==null?null:{location:{pathname:k,search:w,hash:_,state:T,key:j},navigationType:u}},[m,y,w,_,T,j,u]);return N==null?null:R.createElement(Ur.Provider,{value:v},R.createElement(ga.Provider,{children:s,value:N}))}function $0(n){let{children:r,location:s}=n;return b0(Uo(r),s)}new Promise(()=>{});function Uo(n,r){r===void 0&&(r=[]);let s=[];return R.Children.forEach(n,(a,u)=>{if(!R.isValidElement(a))return;let c=[...r,u];if(a.type===R.Fragment){s.push.apply(s,Uo(a.props.children,c));return}a.type!==lt&&ze(!1),!a.props.index||!a.props.children||ze(!1);let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Uo(a.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},Lo.apply(this,arguments)}function D0(n,r){if(n==null)return{};var s={},a=Object.keys(n),u,c;for(c=0;c<a.length;c++)u=a[c],!(r.indexOf(u)>=0)&&(s[u]=n[u]);return s}function z0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function M0(n,r){return n.button===0&&(!r||r==="_self")&&!z0(n)}const B0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F0="6";try{window.__reactRouterVersion=F0}catch{}const q0="startTransition",xh=Mm[q0];function W0(n){let{basename:r,children:s,future:a,window:u}=n,c=R.useRef();c.current==null&&(c.current=Hm({window:u,v5Compat:!0}));let h=c.current,[p,m]=R.useState({action:h.action,location:h.location}),{v7_startTransition:v}=a||{},y=R.useCallback(w=>{v&&xh?xh(()=>m(w)):m(w)},[m,v]);return R.useLayoutEffect(()=>h.listen(y),[h,y]),R.useEffect(()=>U0(a),[a]),R.createElement(L0,{basename:r,children:s,location:p.location,navigationType:p.action,navigator:h,future:a})}const V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=R.forwardRef(function(r,s){let{onClick:a,relative:u,reloadDocument:c,replace:h,state:p,target:m,to:v,preventScrollReset:y,viewTransition:w}=r,_=D0(r,B0),{basename:T}=R.useContext(Ur),j,N=!1;if(typeof v=="string"&&H0.test(v)&&(j=v,V0))try{let U=new URL(window.location.href),B=v.startsWith("//")?new URL(U.protocol+v):new URL(v),G=Yo(B.pathname,T);B.origin===U.origin&&G!=null?v=G+B.search+B.hash:N=!0}catch{}let k=w0(v,{relative:u}),I=K0(v,{replace:h,state:p,target:m,preventScrollReset:y,relative:u,viewTransition:w});function E(U){a&&a(U),U.defaultPrevented||I(U)}return R.createElement("a",Lo({},_,{href:j||k,onClick:N||c?a:E,ref:s,target:m}))});var wh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wh||(wh={}));var _h;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_h||(_h={}));function K0(n,r){let{target:s,replace:a,state:u,preventScrollReset:c,relative:h,viewTransition:p}=r===void 0?{}:r,m=qs(),v=qn(),y=lf(n,{relative:h});return R.useCallback(w=>{if(M0(w,s)){w.preventDefault();let _=a!==void 0?a:da(v)===da(y);m(n,{replace:_,state:u,preventScrollReset:c,relative:h,viewTransition:p})}},[v,m,y,a,u,s,n,c,h,p])}function va(n,r){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&r.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(n);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(n,a[u])&&(s[a[u]]=n[a[u]]);return s}function J0(n,r,s,a){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):u(y.value).then(p,m)}v((a=a.apply(n,r||[])).next())})}const G0=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class ru extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class Q0 extends ru{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class bh extends ru{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class jh extends ru{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var $o;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})($o||($o={}));class Y0{constructor(r,{headers:s={},customFetch:a,region:u=$o.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=G0(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return J0(this,arguments,void 0,function*(s,a={}){var u;let c,h;try{const{headers:p,method:m,body:v,signal:y,timeout:w}=a;let _={},{region:T}=a;T||(T=this.region);const j=new URL(`${this.url}/${s}`);T&&T!=="any"&&(_["x-region"]=T,j.searchParams.set("forceFunctionRegion",T));let N;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(_["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(_["Content-Type"]="application/json",N=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?N=JSON.stringify(v):N=v;let k=y;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),y?(k=h.signal,y.addEventListener("abort",()=>h.abort())):k=h.signal);const I=yield this.fetch(j.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:N,signal:k}).catch(G=>{throw new Q0(G)}),E=I.headers.get("x-relay-error");if(E&&E==="true")throw new bh(I);if(!I.ok)throw new jh(I);let U=((u=I.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),B;return U==="application/json"?B=yield I.json():U==="application/octet-stream"||U==="application/pdf"?B=yield I.blob():U==="text/event-stream"?B=I:U==="multipart/form-data"?B=yield I.formData():B=yield I.text(),{data:B,error:null,response:I}}catch(p){return{data:null,error:p,response:p instanceof jh||p instanceof bh?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var X0=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Z0=class{constructor(n){var r,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,p=null,m=null,v=c.status,y=c.statusText;if(c.ok){var w,_;if(s.method!=="HEAD"){var T;const I=await c.text();I===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((T=s.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?p=I:p=JSON.parse(I))}const N=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&k&&k.length>1&&(m=parseInt(k[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,v=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var j;const N=await c.text();try{h=JSON.parse(N),Array.isArray(h)&&c.status===404&&(p=[],h=null,v=200,y="OK")}catch{c.status===404&&N===""?(v=204,y="No Content"):h={message:N}}if(h&&s.isMaybeSingle&&(!(h==null||(j=h.details)===null||j===void 0)&&j.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&s.shouldThrowOnError)throw new X0(h)}return{error:h,data:p,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(u=u.catch(c=>{var h;let p="";const m=c==null?void 0:c.cause;if(m){var v,y,w,_;const j=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",N=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";p=`${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"Error"}: ${j}`,N&&(p+=` (${N})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var T;p=(T=c==null?void 0:c.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(n,r)}returns(){return this}overrideTypes(){return this}},eg=class extends Z0{select(n){let r=!1;const s=(n??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(c,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const p=[n?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Sh=new RegExp("[,()]");var In=class extends eg{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&Sh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&Sh.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${u}fts${c}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},tg=class{constructor(n,{headers:r={},schema:s,fetch:a}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:a}=r??{},u=s?"HEAD":"GET";let c=!1;const h=(n??"*").split("").map(v=>/\s/.test(v)&&!c?"":(v==='"'&&(c=!c),v)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",h),a&&m.append("Prefer",`count=${a}`),new In({method:u,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(n,{count:r,defaultToNull:s=!0}={}){var a;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(p.length>0){const m=[...new Set(p)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new In({method:u,url:c,headers:h,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:u=!0}={}){var c;const h="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&p.searchParams.set("on_conflict",r),a&&m.append("Prefer",`count=${a}`),u||m.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);p.searchParams.set("columns",y.join(","))}}return new In({method:h,url:p,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:r}={}){var s;const a="PATCH",{url:u,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new In({method:a,url:u,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var r;const s="DELETE",{url:a,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new In({method:s,url:a,headers:u,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},rg=class df{constructor(r,{headers:s={},schema:a,fetch:u}={}){this.url=r,this.headers=new Headers(s),this.schemaName=a,this.fetch=u}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new tg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new df(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:a=!1,get:u=!1,count:c}={}){var h;let p;const m=new URL(`${this.url}/rpc/${r}`);let v;const y=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(y)),w=a&&Object.values(s).some(y);w?(p="POST",v=s):a||u?(p=a?"HEAD":"GET",Object.entries(s).filter(([T,j])=>j!==void 0).map(([T,j])=>[T,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([T,j])=>{m.searchParams.append(T,j)})):(p="POST",v=s);const _=new Headers(this.headers);return w?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new In({method:p,url:m,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class ng{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const a=s.versions;if(a&&a.node){const u=a.node,c=parseInt(u.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const sg="2.91.0",ig=`realtime-js/${sg}`,ag="1.0.0",hf="2.0.0",kh=hf,Do=1e4,lg=1e3,og=100;var Rr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Rr||(Rr={}));var We;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(We||(We={}));var Bt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Bt||(Bt={}));var zo;(function(n){n.websocket="websocket"})(zo||(zo={}));var Zr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Zr||(Zr={}));class ug{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,a){var u,c;const h=r.topic,p=(u=r.ref)!==null&&u!==void 0?u:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+v.length+w.length,T=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(T),N=0;j.setUint8(N++,this.KINDS.userBroadcastPush),j.setUint8(N++,m.length),j.setUint8(N++,p.length),j.setUint8(N++,h.length),j.setUint8(N++,v.length),j.setUint8(N++,w.length),j.setUint8(N++,s),Array.from(m,I=>j.setUint8(N++,I.charCodeAt(0))),Array.from(p,I=>j.setUint8(N++,I.charCodeAt(0))),Array.from(h,I=>j.setUint8(N++,I.charCodeAt(0))),Array.from(v,I=>j.setUint8(N++,I.charCodeAt(0))),Array.from(w,I=>j.setUint8(N++,I.charCodeAt(0)));var k=new Uint8Array(T.byteLength+a.byteLength);return k.set(new Uint8Array(T),0),k.set(new Uint8Array(a),T.byteLength),k.buffer}decode(r,s){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return s(a)}if(typeof r=="string"){const a=JSON.parse(r),[u,c,h,p,m]=a;return s({join_ref:u,ref:c,topic:h,event:p,payload:m})}return s({})}_binaryDecode(r){const s=new DataView(r),a=s.getUint8(0),u=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,u)}}_decodeUserBroadcast(r,s,a){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),p=s.getUint8(4);let m=this.HEADER_LENGTH+4;const v=a.decode(r.slice(m,m+u));m=m+u;const y=a.decode(r.slice(m,m+c));m=m+c;const w=a.decode(r.slice(m,m+h));m=m+h;const _=r.slice(m,r.byteLength),T=p===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,j={type:this.BROADCAST_EVENT,event:y,payload:T};return h>0&&(j.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>s.includes(a)))}}class ff{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(je||(je={}));const Nh=(n,r,s={})=>{var a;const u=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=cg(h,n,r,u),c),{}):{}},cg=(n,r,s,a)=>{const u=r.find(p=>p.name===n),c=u==null?void 0:u.type,h=s[n];return c&&!a.includes(c)?pf(c,h):Mo(h)},pf=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return pg(r,s)}switch(n){case je.bool:return dg(r);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return hg(r);case je.json:case je.jsonb:return fg(r);case je.timestamp:return mg(r);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Mo(r);default:return Mo(r)}},Mo=n=>n,dg=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},hg=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},fg=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},pg=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,a=n[s];if(n[0]==="{"&&a==="}"){let c;const h=n.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>pf(r,p))}return n},mg=n=>typeof n=="string"?n.replace(" ","T"):n,mf=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class bo{constructor(r,s,a={},u=Do){this.channel=r,this.event=s,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Eh;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Eh||(Eh={}));class Ps{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,u,c,h),this.pendingDiffs.forEach(m=>{this.state=Ps.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ps.syncDiff(this.state,u,c,h),p())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,u){const c=this.cloneDeep(r),h=this.transformState(s),p={},m={};return this.map(c,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const w=c[v];if(w){const _=y.map(k=>k.presence_ref),T=w.map(k=>k.presence_ref),j=y.filter(k=>T.indexOf(k.presence_ref)<0),N=w.filter(k=>_.indexOf(k.presence_ref)<0);j.length>0&&(p[v]=j),N.length>0&&(m[v]=N)}else p[v]=y}),this.syncDiff(c,{joins:p,leaves:m},a,u)}static syncDiff(r,s,a,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(c,(p,m)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(T=>T.presence_ref),_=y.filter(T=>w.indexOf(T.presence_ref)<0);r[p].unshift(..._)}a(p,y,m)}),this.map(h,(p,m)=>{let v=r[p];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=v,u(p,v,m),v.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const u=r[a];return"metas"in u?s[a]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Th;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Th||(Th={}));var Os;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Os||(Os={}));var ar;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ar||(ar={}));class $n{constructor(r,s={config:{}},a){var u,c;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new bo(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new ff(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Ps(this),this.broadcastEndpointURL=mf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,v=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(T=>T.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Os.PRESENCE]&&this.bindings[Os.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},_={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(T=>r==null?void 0:r(ar.CHANNEL_ERROR,T)),this._onClose(()=>r==null?void 0:r(ar.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){r==null||r(ar.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(j=N==null?void 0:N.length)!==null&&j!==void 0?j:0,I=[];for(let E=0;E<k;E++){const U=N[E],{filter:{event:B,schema:G,table:Q,filter:q}}=U,ce=T&&T[E];if(ce&&ce.event===B&&$n.isFilterValueEqual(ce.schema,G)&&$n.isFilterValueEqual(ce.table,Q)&&$n.isFilterValueEqual(ce.filter,q))I.push(Object.assign(Object.assign({},U),{id:ce.id}));else{this.unsubscribe(),this.state=We.errored,r==null||r(ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(ar.SUBSCRIBED);return}}).receive("error",T=>{this.state=We.errored,r==null||r(ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===We.joined&&r===Os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,a)}async httpSend(r,s,a={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,s={}){var a,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new bo(this,Bt.leave,{},r),a.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const u=new AbortController,c=setTimeout(()=>u.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new bo(this,r,s,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>og){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var u,c;const h=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Bt;if(a&&[p,m,v,y].indexOf(h)>=0&&a!==this._joinRef())return;let _=this._onMessage(h,s,a);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var j,N,k;return((j=T.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(N=T.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===h}).map(T=>T.callback(_,a)):(c=this.bindings[h])===null||c===void 0||c.filter(T=>{var j,N,k,I,E,U,B,G;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const Q=T.id,q=(j=T.filter)===null||j===void 0?void 0:j.event;return Q&&((N=s.ids)===null||N===void 0?void 0:N.includes(Q))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((I=T.filter)===null||I===void 0)&&I.table)||T.filter.table===((E=s.data)===null||E===void 0?void 0:E.table))}else{const Q=(B=(U=T==null?void 0:T.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return Q==="*"||Q===((G=s==null?void 0:s.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:N,table:k,commit_timestamp:I,type:E,errors:U}=j;_=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:I,eventType:E,new:{},old:{},errors:U}),this._getPayloadRecords(j))}T.callback(_,a)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const u=r.toLocaleLowerCase(),c={type:u,filter:s,callback:a};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&$n.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Bt.close,{},r)}_onError(r){this._on(Bt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Nh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Nh(r.columns,r.old_record)),s}}const jo=()=>{},sa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gg=[1e3,2e3,5e3,1e4],vg=1e4,yg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xg{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Do,this.transport=null,this.heartbeatIntervalMs=sa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.vsn=kh,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new ug,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${zo.websocket}`,this.httpEndpoint=mf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ng.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Zr.Connecting;case Rr.open:return Zr.Open;case Rr.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===a);if(u)return u;{const c=new $n(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:u,ref:c}=r,h=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${a} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(lg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},sa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:u,payload:c,ref:h}=s,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${u} ${p}`.trim(),c),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Rr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rr.open||this.conn.readyState===Rr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Bt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${a}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([yg],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,a=!1;if(r)s=r,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:ig};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(Bt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new ff(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,u,c,h,p,m,v,y,w,_,T;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Do,this.heartbeatIntervalMs=(u=r==null?void 0:r.heartbeatIntervalMs)!==null&&u!==void 0?u:sa.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:jo,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:kh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(j=>gg[j-1]||vg),this.vsn){case ag:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((j,N)=>N(JSON.stringify(j))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((j,N)=>N(JSON.parse(j)));break;case hf:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(T=r==null?void 0:r.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Us=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wg(n,r,s){const a=new URL(r,n);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&a.searchParams.set(u,c);return a.toString()}async function _g(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function bg(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:u,body:c,headers:h}){const p=wg(n.baseUrl,a,u),m=await _g(n.auth),v=await r(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),y=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),_=w&&y?JSON.parse(y):y;if(!v.ok){const T=w?_:void 0,j=T==null?void 0:T.error;throw new Us((j==null?void 0:j.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:T})}return{status:v.status,headers:v.headers,data:_}}}}function ia(n){return n.join("")}var jg=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:ia(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(n.namespace)}`}),!0}catch(r){if(r instanceof Us&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof Us&&s.status===409)return;throw s}}};function Tn(n){return n.join("")}var Sg=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tn(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof Us&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof Us&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},kg=class{constructor(n){var a;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=bg({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(a=n.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new jg(this.client,r),this.tableOps=new Sg(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},ya=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Pe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Ng=class extends ya{constructor(n,r,s){super(n),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bo=class extends ya{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}};const nu=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Eg=()=>Response,Fo=n=>{if(Array.isArray(n))return n.map(s=>Fo(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,a])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=Fo(a)}),r},Tg=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Cg=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Ls(n){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ls(n)}function Rg(n,r){if(Ls(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,r);if(Ls(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Pg(n){var r=Rg(n,"string");return Ls(r)=="symbol"?r:r+""}function Og(n,r,s){return(r=Pg(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Ch(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,a)}return s}function re(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Ch(Object(s),!0).forEach(function(a){Og(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Ch(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}const So=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},Ag=async(n,r,s)=>{n instanceof await Eg()&&!(s!=null&&s.noResolveJson)?n.json().then(a=>{const u=n.status||500,c=(a==null?void 0:a.statusCode)||u+"";r(new Ng(So(a),u,c))}).catch(a=>{r(new Bo(So(a),a))}):r(new Bo(So(n),n))},Ig=(n,r,s,a)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||!a?u:(Tg(a)?(u.headers=re({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(a)):u.body=a,r!=null&&r.duplex&&(u.duplex=r.duplex),re(re({},u),s))};async function Ws(n,r,s,a,u,c){return new Promise((h,p)=>{n(s,Ig(r,a,u,c)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Ag(m,p,a))})}async function $s(n,r,s,a){return Ws(n,"GET",r,s,a)}async function Mt(n,r,s,a,u){return Ws(n,"POST",r,a,u,s)}async function qo(n,r,s,a,u){return Ws(n,"PUT",r,a,u,s)}async function Ug(n,r,s,a){return Ws(n,"HEAD",r,re(re({},s),{},{noResolveJson:!0}),a)}async function su(n,r,s,a,u){return Ws(n,"DELETE",r,a,u,s)}var Lg=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}};let gf;gf=Symbol.toStringTag;var $g=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[gf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Lg(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}};const Dg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zg=class{constructor(n,r={},s,a){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=s,this.fetch=nu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,r,s,a){var u=this;try{let c;const h=re(re({},Rh),a);let p=re(re({},u.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",u.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(m))):(c=s,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),a!=null&&a.headers&&(p=re(re({},p),a.headers));const v=u._removeEmptyFolders(r),y=u._getFinalPath(v),w=await(n=="PUT"?qo:Mt)(u.fetch,`${u.url}/object/${y}`,c,re({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(u.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,a){var u=this;const c=u._removeEmptyFolders(n),h=u._getFinalPath(c),p=new URL(u.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let m;const v=re({upsert:Rh.upsert},a),y=re(re({},u.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{data:{path:c,fullPath:(await qo(u.fetch,p.toString(),m,{headers:y})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(n,r){var s=this;try{let a=s._getFinalPath(n);const u=re({},s.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const c=await Mt(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:u}),h=new URL(s.url+c.url),p=h.searchParams.get("token");if(!p)throw new ya("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var a=this;try{return{data:await Mt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers}),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}async copy(n,r,s){var a=this;try{return{data:{path:(await Mt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers})).Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}async createSignedUrl(n,r,s){var a=this;try{let u=a._getFinalPath(n),c=await Mt(a.fetch,`${a.url}/object/sign/${u}`,re({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:a.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${a.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}async createSignedUrls(n,r,s){var a=this;try{const u=await Mt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:n},{headers:a.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>re(re({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}download(n,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"",c=this._getFinalPath(n),h=()=>$s(this.fetch,`${this.url}/${s}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new $g(h,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);try{return{data:Fo(await $s(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await Ug(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Pe(a)&&a instanceof Bo){const u=a.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,r){const s=this._getFinalPath(n),a=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&a.push(u);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${p}`)}}}async remove(n){var r=this;try{return{data:await su(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async list(n,r,s){var a=this;try{const u=re(re(re({},Dg),r),{},{prefix:n||""});return{data:await Mt(a.fetch,`${a.url}/object/list/${a.bucketId}`,u,{headers:a.headers},s),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}}async listV2(n,r){var s=this;try{const a=re({},n);return{data:await Mt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const vf="2.91.0",yf={"X-Client-Info":`storage-js/${vf}`};var Mg=class{constructor(n,r={},s,a){this.shouldThrowOnError=!1;const u=new URL(n);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=re(re({},yf),r),this.fetch=nu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var r=this;try{const s=r.listBucketOptionsToQueryString(n);return{data:await $s(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async getBucket(n){var r=this;try{return{data:await $s(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async createBucket(n,r={public:!1}){var s=this;try{return{data:await Mt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}}async updateBucket(n,r){var s=this;try{return{data:await qo(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}}async emptyBucket(n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await su(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Bg=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},yf),r),this.fetch=nu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async listBuckets(n){var r=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const a=s.toString(),u=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return{data:await $s(r.fetch,u,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await su(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}from(n){var r=this;if(!Cg(n))throw new ya("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new kg({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(u,c){const h=u[c];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(u,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}};const iu={"X-Client-Info":`storage-js/${vf}`,"Content-Type":"application/json"};var xf=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var ko=class extends xf{constructor(n,r,s){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fg=class extends xf{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}};const au=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),qg=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ph=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Wg=async(n,r,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const a=n.status||500,u=n;if(typeof u.json=="function")u.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";r(new ko(Ph(c),a,h))}).catch(()=>{const c=a+"";r(new ko(u.statusText||`HTTP ${a} error`,a,c))});else{const c=a+"";r(new ko(u.statusText||`HTTP ${a} error`,a,c))}}else r(new Fg(Ph(n),n))},Vg=(n,r,s,a)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return a?(qg(a)?(u.headers=re({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(a)):u.body=a,re(re({},u),s)):u};async function Hg(n,r,s,a,u,c){return new Promise((h,p)=>{n(s,Vg(r,a,u,c)).then(m=>{if(!m.ok)throw m;if(a!=null&&a.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Wg(m,p,a))})}async function jt(n,r,s,a,u){return Hg(n,"POST",r,a,u,s)}var Kg=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},iu),r),this.fetch=au(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getIndex(n,r){var s=this;try{return{data:await jt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}}async listIndexes(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteIndex(n,r){var s=this;try{return{data:await jt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}}},Jg=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},iu),r),this.fetch=au(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var r=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await jt(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getVectors(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async listVectors(n){var r=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await jt(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async queryVectors(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var r=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await jt(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}},Gg=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},iu),r),this.fetch=au(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getBucket(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var r=this;try{return{data:await jt(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await jt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}},Qg=class extends Gg{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new Yg(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},Yg=class extends Kg{constructor(n,r,s,a){super(n,r,a),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new Xg(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Xg=class extends Jg{constructor(n,r,s,a,u){super(n,r,u),this.vectorBucketName=s,this.indexName=a}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Zg=class extends Mg{constructor(n,r={},s,a){super(n,r,s,a)}from(n){return new zg(this.url,this.headers,n,this.fetch)}get vectors(){return new Qg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Bg(this.url+"/iceberg",this.headers,this.fetch)}};const wf="2.91.0",Un=30*1e3,Wo=3,No=Wo*Un,ev="http://localhost:9999",tv="supabase.auth.token",rv={"X-Client-Info":`gotrue-js/${wf}`},Vo="X-Supabase-Api-Version",_f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sv=600*1e3;class Ds extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function X(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class iv extends Ds{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function av(n){return X(n)&&n.name==="AuthApiError"}class en extends Ds{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class ur extends Ds{constructor(r,s,a,u){super(r,a,u),this.name=s,this.status=a}}class _t extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lv(n){return X(n)&&n.name==="AuthSessionMissingError"}class Cn extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class aa extends ur{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class la extends ur{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ov(n){return X(n)&&n.name==="AuthImplicitGrantRedirectError"}class Oh extends ur{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uv extends ur{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ho extends ur{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Eo(n){return X(n)&&n.name==="AuthRetryableFetchError"}class Ah extends ur{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Ko extends ur{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ih=` 	
\r=`.split(""),cv=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<Ih.length;r+=1)n[Ih[r].charCodeAt(0)]=-2;for(let r=0;r<ha.length;r+=1)n[ha[r].charCodeAt(0)]=r;return n})();function Uh(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ha[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ha[a]),r.queuedBits-=6}}function bf(n,r,s){const a=cv[n];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Lh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{fv(h,a,s)};for(let h=0;h<n.length;h+=1)bf(n.charCodeAt(h),u,c);return r.join("")}function dv(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function hv(n,r){for(let s=0;s<n.length;s+=1){let a=n.charCodeAt(s);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(n.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}dv(a,r)}}function fv(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Dn(n){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};for(let u=0;u<n.length;u+=1)bf(n.charCodeAt(u),s,a);return new Uint8Array(r)}function pv(n){const r=[];return hv(n,s=>r.push(s)),new Uint8Array(r)}function tn(n){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};return n.forEach(u=>Uh(u,s,a)),Uh(null,s,a),r.join("")}function mv(n){return Math.round(Date.now()/1e3)+n}function gv(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},jf=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function vv(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return s.searchParams.forEach((a,u)=>{r[u]=a}),r}const Sf=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),yv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ln=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Yr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qe=async(n,r)=>{await n.removeItem(r)};class xa{constructor(){this.promise=new xa.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}xa.promiseConstructor=Promise;function To(n){const r=n.split(".");if(r.length!==3)throw new Ko("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!nv.test(r[a]))throw new Ko("JWT not in base64url format");return{header:JSON.parse(Lh(r[0])),payload:JSON.parse(Lh(r[1])),signature:Dn(r[2]),raw:{header:r[0],payload:r[1]}}}async function xv(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function wv(n,r){return new Promise((a,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await n(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function _v(n){return("0"+n.toString(16)).substr(-2)}function bv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(r),Array.from(r,_v).join("")}async function jv(n){const s=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(a);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function Sv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await jv(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(n,r,s=!1){const a=bv();let u=a;s&&(u+="/PASSWORD_RECOVERY"),await Ln(n,`${r}-code-verifier`,u);const c=await Sv(a);return[c,a===c?"plain":"s256"]}const kv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nv(n){const r=n.headers.get(Vo);if(!r||!r.match(kv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ev(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function Tv(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(n){if(!Cv.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rv(n,r){return new Proxy(n,{get:(s,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,u)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,a,u)}})}function $h(n){return JSON.parse(JSON.stringify(n))}const Xr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Pv=[502,503,504];async function Dh(n){var r;if(!yv(n))throw new Ho(Xr(n),0);if(Pv.includes(n.status))throw new Ho(Xr(n),n.status);let s;try{s=await n.json()}catch(c){throw new en(Xr(c),c)}let a;const u=Nv(n);if(u&&u.getTime()>=_f["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Ah(Xr(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new _t}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Ah(Xr(s),n.status,s.weak_password.reasons);throw new iv(Xr(s),n.status||500,a)}const Ov=(n,r,s,a)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),s))};async function te(n,r,s,a){var u;const c=Object.assign({},a==null?void 0:a.headers);c[Vo]||(c[Vo]=_f["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(u=a==null?void 0:a.query)!==null&&u!==void 0?u:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Av(n,r,s+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function Av(n,r,s,a,u,c){const h=Ov(r,a,u,c);let p;try{p=await n(s,Object.assign({},h))}catch(m){throw console.error(m),new Ho(Xr(m),0)}if(p.ok||await Dh(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await Dh(m)}}function zt(n){var r;let s=null;Lv(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=mv(n.expires_in)));const a=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:a},error:null}}function zh(n){const r=zt(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Pr(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function Iv(n){return{data:n,error:null}}function Uv(n){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c}=n,h=va(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function Mh(n){return n}function Lv(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ro=["global","local","others"];class $v{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=Sf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Ro[0]){if(Ro.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Pr})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=va(r,["options"]),u=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(u.new_email=a==null?void 0:a.newEmail,delete u.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Uv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Pr})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,u,c,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Mh});if(y.error)throw y.error;const w=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);v[`${k}Page`]=N}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(X(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){Pn(r);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Pr})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Pn(r);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Pr})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){Pn(r);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Pr})}catch(a){if(X(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){Pn(r.userId);try{const{data:s,error:a}=await te(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:a}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Pn(r.userId),Pn(r.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,u,c,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Mh});if(y.error)throw y.error;const w=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);v[`${k}Page`]=N}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(X(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(X(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}}function Bh(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const On={debug:!!(globalThis&&jf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Dv extends kf{}async function zv(n,r,s){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),On.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){On.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,u.name);try{return await s()}finally{On.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,u.name)}}else{if(r===0)throw On.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Dv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(On.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Bv(n){return parseInt(n,16)}function Fv(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function qv(n){var r;const{chainId:s,domain:a,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:v,scheme:y,uri:w,version:_}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const T=Nf(n.address),j=y?`${y}://${a}`:a,N=n.statement?`${n.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${T}

${N}`;let I=`URI: ${w}
Version: ${_}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(I+=`
Expiration Time: ${u.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),m&&(I+=`
Request ID: ${m}`),v){let E=`
Resources:`;for(const U of v){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);E+=`
- ${U}`}I+=E}return`${k}
${I}`}class Be extends Error{constructor({message:r,code:s,cause:a,name:u}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=u??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class fa extends Be{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function Wv({error:n,options:r}){var s,a,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(Ef(h)){if(c.rp.id!==h)return new Be({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Vv({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Ef(a)){if(s.rpId!==a)return new Be({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Hv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Kv=new Hv;function Jv(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:a}=n,u=va(n,["challenge","user","excludeCredentials"]),c=Dn(r).buffer,h=Object.assign(Object.assign({},s),{id:Dn(s.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:c,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const v=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Dn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function Gv(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,a=va(n,["challenge","allowCredentials"]),u=Dn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Dn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function Qv(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Yv(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,a=n.getClientExtensionResults(),u=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(u.authenticatorData)),clientDataJSON:tn(new Uint8Array(u.clientDataJSON)),signature:tn(new Uint8Array(u.signature)),userHandle:u.userHandle?tn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ef(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Fh(){var n,r;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Xv(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",r)}:{data:null,error:new fa("Empty credential response",r)}}catch(r){return{data:null,error:Wv({error:r,options:n})}}}async function Zv(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new fa("Browser returned unexpected credential type",r)}:{data:null,error:new fa("Empty credential response",r)}}catch(r){return{data:null,error:Vv({error:r,options:n})}}}const ey={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ty={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pa(...n){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of n)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(s(h))a[c]=h;else if(r(h)){const p=a[c];r(p)?a[c]=pa(p,h):a[c]=pa(h)}else a[c]=h}return a}function ry(n,r){return pa(ey,n,r||{})}function ny(n,r){return pa(ty,n,r||{})}class sy{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:u},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:p};const m=u??Kv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${a}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=ry(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:w}=await Xv({publicKey:v,signal:m});return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const v=ny(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:w}=await Zv(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Ds("rpId is required for WebAuthn authentication")};try{if(!Fh())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:u},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Ds("rpId is required for WebAuthn registration")};try{if(!Fh())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:u},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new en("Unexpected error in register",h)}}}}Mv();const iy={url:ev,storageKey:tv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qh(n,r,s){return await s()}const An={};class zs{get jwks(){var r,s;return(s=(r=An[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=An[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){An[this.storageKey]=Object.assign(Object.assign({},An[this.storageKey]),{cachedAt:r})}constructor(r){var s,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},iy),r);if(this.storageKey=c.storageKey,this.instanceID=(s=zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ye()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new $v({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Sf(c.fetch),this.lock=c.lock||qh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ye()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=zv:this.lock=qh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:jf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Bh(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},a="none";if(Ye()&&(s=vv(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),Ye()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ov(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?this._returnResult({error:s}):this._returnResult({error:new en("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,u;try{const c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:zt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,a,u;try{let c;if("email"in r){const{email:y,password:w,options:_}=r;let T=null,j=null;this.flowType==="pkce"&&([T,j]=await Rn(this.storage,this.storageKey)),c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:w,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:T,code_challenge_method:j},xform:zt})}else if("phone"in r){const{phone:y,password:w,options:_}=r;c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(u=_==null?void 0:_.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:zt})}else throw new aa("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return await Qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:p}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:zh})}else if("phone"in r){const{phone:c,password:h,options:p}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:zh})}else throw new aa("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new Cn;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,a,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,u,c,h,p,m,v,y,w,_;let T,j;if("message"in r)T=r.message,j=r.signature;else{const{chain:N,wallet:k,statement:I,options:E}=r;let U;if(Ye())if(typeof k=="object")U=k;else{const Ne=window;if("ethereum"in Ne&&typeof Ne.ethereum=="object"&&"request"in Ne.ethereum&&typeof Ne.ethereum.request=="function")U=Ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const B=new URL((s=E==null?void 0:E.url)!==null&&s!==void 0?s:window.location.href),G=await U.request({method:"eth_requestAccounts"}).then(Ne=>Ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Nf(G[0]);let q=(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!q){const Ne=await U.request({method:"eth_chainId"});q=Bv(Ne)}const ce={domain:B.host,address:Q,statement:I,uri:B.href,version:"1",chainId:q,nonce:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=E==null?void 0:E.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=E==null?void 0:E.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=E==null?void 0:E.signInWithEthereum)===null||y===void 0?void 0:y.resources};T=qv(ce),j=await U.request({method:"personal_sign",params:[Fv(T),Q]})}try{const{data:N,error:k}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:j},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zt});if(k)throw k;if(!N||!N.session||!N.user){const I=new Cn;return this._returnResult({data:{user:null,session:null},error:I})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(X(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var s,a,u,c,h,p,m,v,y,w,_,T;let j,N;if("message"in r)j=r.message,N=r.signature;else{const{chain:k,wallet:I,statement:E,options:U}=r;let B;if(Ye())if(typeof I=="object")B=I;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))B=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=I}const G=new URL((s=U==null?void 0:U.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const Q=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),E?{statement:E}:null));let q;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")q=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)q=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)j=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),N=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${G.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(u=(a=U==null?void 0:U.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((v=U==null?void 0:U.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(y=U==null?void 0:U.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Q=await B.signMessage(new TextEncoder().encode(j),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:k,error:I}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:tn(N)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:zt});if(I)throw I;if(!k||!k.session||!k.user){const E=new Cn;return this._returnResult({data:{user:null,session:null},error:E})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:I})}catch(k){if(X(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new uv;const{data:c,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:zt});if(await Qe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new Cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",c.session)},0)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:u,access_token:c,nonce:h}=r,p=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zt}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new Cn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,a,u,c,h;try{if("email"in r){const{email:p,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Rn(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:y}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new aa("You must provide either an email or phone number.")}catch(p){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var s,a;try{let u,c;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:zt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var s,a,u,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Rn(this.storage,this.storageKey));const v=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Iv});return!((c=v.data)===null||c===void 0)&&c.url&&Ye()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new _t;const{error:u}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:u,options:c}=r,{error:h}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:u,options:c}=r,{data:h,error:p}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new aa("You must provide either an email or phone number and a type")}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<No:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Yr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Co()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Rv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Pr}):await this._useSession(async s=>{var a,u,c;const{data:h,error:p}=s;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Pr})})}catch(s){if(X(s))return lv(s)&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:u,error:c}=a;if(c)throw c;if(!u.session)throw new _t;const h=u.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await Rn(this.storage,this.storageKey));const{data:v,error:y}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Pr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new _t;const s=Date.now()/1e3;let a=s,u=!0,c=null;const{payload:h}=To(r.access_token);if(h.exp&&(a=h.exp,u=a<=s),u){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;c={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(X(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:h,error:p}=s;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new _t;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!Ye())throw new la("No browser detected.");if(r.error||r.error_description||r.error_code)throw new la(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Oh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new la("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Oh("No code detected.");const{data:E,error:U}=await this._exchangeCodeForSession(r.code);if(U)throw U;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:v}=r;if(!c||!p||!h||!v)throw new la("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let _=y+w;m&&(_=parseInt(m));const T=_-y;T*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${w}s`);const j=_-w;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,y);const{data:N,error:k}=await this._getUser(c);if(k)throw k;const I={provider_token:a,provider_refresh_token:u,access_token:c,expires_in:w,expires_at:_,refresh_token:h,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(a){if(X(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Yr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(a=u.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(av(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=gv(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await Rn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:u}=await this._useSession(async c=>{var h,p,m,v,y;const{data:w,error:_}=c;if(_)throw _;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Ye()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(X(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:p,token:m,access_token:v,nonce:y}=r,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zt}),{data:_,error:T}=w;return T?this._returnResult({data:{user:null,session:null},error:T}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Cn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:T}))}catch(u){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await wv(async u=>(u>0&&await xv(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:zt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Eo(c)&&Date.now()+h-a<Un})}catch(a){if(this._debug(s,"error",a),X(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),Ye()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Yr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Ln(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Co()}else if(u&&!u.user&&!u.user){const h=await Yr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await Qe(this.storage,this.storageKey+"-user"),await Ln(this.storage,this.storageKey,u)):u.user=Co()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<No;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${No}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Eo(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new xa;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new _t;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),X(c)){const h={data:null,error:c};return Eo(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,a=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Qe(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Ln(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=$h(u);await Ln(this.storage,this.storageKey,c)}else{const u=$h(s);await Ln(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qe(this.storage,this.storageKey),await Qe(this.storage,this.storageKey+"-code-verifier"),await Qe(this.storage,this.storageKey+"-user"),this.userStorage&&await Qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-r)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Un}ms, refresh threshold is ${Wo} ticks`),u<=Wo&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof kf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const u=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await Rn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);u.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await te(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await te(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Qv(r.webauthn.credential_response):Yv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Jv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Gv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=To(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const v=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new _t})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new _t});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Ye()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(X(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new _t});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Ye()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(X(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new _t})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _t})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(p=>p.kid===r);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+sv>u)return a;const{data:c,error:h}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,a=c.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:T,error:j}=await this.getSession();if(j||!T.session)return this._returnResult({data:null,error:j});a=T.session.access_token}const{header:u,payload:c,signature:h,raw:{header:p,payload:m}}=To(a);s!=null&&s.allowExpired||Ev(c.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:T}=await this.getUser(a);if(T)throw T;return{data:{claims:c,header:u,signature:h},error:null}}const y=Tv(u.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,pv(`${p}.${m}`)))throw new Ko("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(a){if(X(a))return this._returnResult({data:null,error:a});throw a}}}zs.nextInstanceID={};const ay=zs,ly="2.91.0";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const oy={"X-Client-Info":`supabase-js-${Rs}/${ly}`},uy={headers:oy},cy={schema:"public"},dy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hy={};function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ms(n)}function fy(n,r){if(Ms(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,r);if(Ms(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function py(n){var r=fy(n,"string");return Ms(r)=="symbol"?r:r+""}function my(n,r,s){return(r=py(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Wh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,a)}return s}function Ue(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Wh(Object(s),!0).forEach(function(a){my(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Wh(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}const gy=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),vy=()=>Headers,yy=(n,r,s)=>{const a=gy(s),u=vy();return async(c,h)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:n;let v=new u(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),a(c,Ue(Ue({},h),{},{headers:v}))}};function xy(n){return n.endsWith("/")?n:n+"/"}function wy(n,r){var s,a;const{db:u,auth:c,realtime:h,global:p}=n,{db:m,auth:v,realtime:y,global:w}=r,_={db:Ue(Ue({},m),u),auth:Ue(Ue({},v),c),realtime:Ue(Ue({},y),h),storage:{},global:Ue(Ue(Ue({},w),p),{},{headers:Ue(Ue({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function _y(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var by=class extends ay{constructor(n){super(n)}},jy=class{constructor(n,r,s){var a,u;this.supabaseUrl=n,this.supabaseKey=r;const c=_y(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:cy,realtime:hy,auth:Ue(Ue({},dy),{},{storageKey:h}),global:uy},m=wy(s??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=yy(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new rg(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Zg(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Y0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,storageKey:c,flowType:h,lock:p,debug:m,throwOnError:v},y,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new by({url:this.authUrl.href,headers:Ue(Ue({},_),y),storageKey:c,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new xg(this.realtimeUrl.href,Ue(Ue({},n),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sy=(n,r,s)=>new jy(n,r,s);function ky(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}ky()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ny="https://snnngysmaltnabucdpcn.supabase.co",Ey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A",ge=Sy(Ny,Ey),Tf=R.createContext(void 0);function Ty({children:n}){const[r,s]=R.useState(null),[a,u]=R.useState(null),[c,h]=R.useState(null),[p,m]=R.useState(!0),v=async N=>{const{data:k,error:I}=await ge.from("profiles").select("*").eq("id",N).maybeSingle();return I?(console.error("Error fetching profile:",I),null):k},y=async()=>{if(r){const N=await v(r.id);u(N)}};R.useEffect(()=>{ge.auth.getSession().then(({data:{session:k}})=>{h(k),s((k==null?void 0:k.user)??null),k!=null&&k.user&&v(k.user.id).then(u),m(!1)});const{data:{subscription:N}}=ge.auth.onAuthStateChange((k,I)=>{h(I),s((I==null?void 0:I.user)??null),I!=null&&I.user?v(I.user.id).then(u):u(null)});return()=>N.unsubscribe()},[]);const w=async(N,k,I)=>{const{error:E}=await ge.auth.signUp({email:N,password:k,options:{data:{full_name:I}}});return{error:E}},_=async(N,k)=>{const{error:I}=await ge.auth.signInWithPassword({email:N,password:k});return{error:I}},T=async()=>{await ge.auth.signOut(),u(null)},j=async N=>{const{error:k}=await ge.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/reset-password`});return{error:k}};return l.jsx(Tf.Provider,{value:{user:r,profile:a,session:c,loading:p,signUp:w,signIn:_,signOut:T,resetPassword:j,refreshProfile:y},children:n})}function ot(){const n=R.useContext(Tf);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cf=(...n)=>n.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ry={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=R.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:u="",children:c,iconNode:h,...p},m)=>R.createElement("svg",{ref:m,...Ry,width:r,height:r,stroke:n,strokeWidth:a?Number(s)*24/Number(r):s,className:Cf("lucide",u),...p},[...h.map(([v,y])=>R.createElement(v,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(n,r)=>{const s=R.forwardRef(({className:a,...u},c)=>R.createElement(Py,{ref:c,iconNode:r,className:Cf(`lucide-${Cy(n)}`,a),...u}));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ue("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ue("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ue("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ue("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ue("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xe({children:n,variant:r="primary",size:s="md",loading:a=!1,fullWidth:u=!1,className:c="",disabled:h,...p}){const m="inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950",v={primary:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-600/30 hover:shadow-blue-500/40 focus:ring-blue-500",secondary:"bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white shadow-lg shadow-slate-700/25 focus:ring-slate-500",outline:"border-2 border-slate-600 text-slate-300 hover:border-blue-500 hover:text-blue-400 hover:bg-blue-500/5 focus:ring-blue-500",ghost:"text-slate-400 hover:text-white hover:bg-slate-800/50 focus:ring-slate-500",danger:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-600/30 focus:ring-red-500"},y={sm:"px-4 py-2 text-sm gap-2",md:"px-6 py-3 text-base gap-2",lg:"px-8 py-4 text-lg gap-3"};return l.jsxs("button",{className:`${m} ${v[r]} ${y[s]} ${u?"w-full":""} ${h||a?"opacity-50 cursor-not-allowed":""} ${c}`,disabled:h||a,...p,children:[a&&l.jsx(Fy,{size:s==="sm"?16:s==="md"?20:24,className:"animate-spin"}),n]})}const Ky=[{icon:ma,title:"Portfolio Tracking",description:"Monitor your investment performance with real-time portfolio analytics and comprehensive ROI tracking."},{icon:Af,title:"Secure Platform",description:"Your account information is protected with industry-standard security measures and encryption."},{icon:zn,title:"Easy Transactions",description:"Submit deposit and withdrawal requests seamlessly through our intuitive interface."},{icon:wa,title:"Dedicated Support",description:"Our team of investment professionals is available to assist with your account needs."}],Jy=[{value:"$50M+",label:"Assets Under Management"},{value:"10,000+",label:"Active Investors"},{value:"99.9%",label:"Platform Uptime"},{value:"24/7",label:"Customer Support"}],Jh=[{step:"01",title:"Create Account",description:"Register with your email and complete the verification process to get started."},{step:"02",title:"Submit Deposit",description:"Request a deposit to fund your investment account through our secure platform."},{step:"03",title:"Track Performance",description:"Monitor your portfolio growth and investment returns through your personalized dashboard."}];function Gy(){return l.jsxs("div",{className:"min-h-screen bg-slate-950",children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-slate-800/50 shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[l.jsxs(De,{to:"/",className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:l.jsx(Ft,{className:"text-white",size:20})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xl font-bold text-white block",children:"Prime Blocks"}),l.jsx("span",{className:"text-xs text-slate-400 hidden sm:block",children:"Investments"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[l.jsx(De,{to:"/login",children:l.jsx(xe,{variant:"ghost",size:"sm",children:"Sign In"})}),l.jsx(De,{to:"/register",children:l.jsx(xe,{size:"sm",className:"shadow-lg shadow-blue-500/20",children:"Get Started"})})]})]})})}),l.jsxs("section",{className:"relative pt-32 lg:pt-40 pb-20 px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900/95 to-slate-950 z-10"}),l.jsx("img",{src:"https://images.pexels.com/photos/534216/pexels-photo-534216.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-20"}),l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent z-10"})]}),l.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-500/10 border border-blue-500/30 rounded-full text-blue-400 text-sm mb-8 backdrop-blur-sm shadow-lg",children:[l.jsx(Oy,{size:16}),l.jsx("span",{className:"font-medium",children:"Trusted Investment Platform"})]}),l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold text-white leading-tight mb-6",children:["Professional Investment",l.jsx("span",{className:"block bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Management Dashboard"})]}),l.jsx("p",{className:"text-lg sm:text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Track your portfolio performance, manage transactions, and monitor your investments all in one secure, professional platform."}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[l.jsx(De,{to:"/register",children:l.jsxs(xe,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Start Investing",l.jsx(Fs,{size:20})]})}),l.jsx(De,{to:"/login",children:l.jsx(xe,{variant:"outline",size:"lg",className:"backdrop-blur-sm",children:"Access Dashboard"})})]})]})})]}),l.jsxs("section",{className:"relative py-16 px-4 border-y border-slate-800/50 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/90 z-10"}),l.jsx("img",{src:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),l.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:Jy.map(n=>l.jsxs("div",{className:"text-center group",children:[l.jsx("div",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-br from-blue-400 to-blue-600 bg-clip-text text-transparent mb-2 group-hover:scale-105 transition-transform",children:n.value}),l.jsx("div",{className:"text-slate-300 text-sm sm:text-base font-medium",children:n.label})]},n.label))})})]}),l.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900/95 to-slate-950 z-10"}),l.jsx("img",{src:"https://images.pexels.com/photos/187041/pexels-photo-187041.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Why Choose Prime Blocks"}),l.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Our platform provides everything you need to track and manage your investments effectively."})]}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Ky.map(n=>l.jsxs("div",{className:"p-6 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl hover:border-blue-500/50 hover:bg-slate-800/80 transition-all duration-300 group shadow-xl hover:shadow-2xl hover:shadow-blue-500/10",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all",children:l.jsx(n.icon,{className:"text-blue-400",size:24})}),l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n.title}),l.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n.description})]},n.title))})]})]}),l.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-950/95 z-10"}),l.jsx("img",{src:"https://images.pexels.com/photos/6801647/pexels-photo-6801647.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-5"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"How It Works"}),l.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Get started with Prime Blocks in three simple steps."})]}),l.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:Jh.map((n,r)=>l.jsxs("div",{className:"relative",children:[r<Jh.length-1&&l.jsx("div",{className:"hidden lg:block absolute top-12 left-1/2 w-full h-0.5 bg-gradient-to-r from-blue-500/50 to-transparent z-0"}),l.jsxs("div",{className:"relative z-10 p-8 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl text-center hover:border-blue-500/50 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/10 group",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:n.step})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:n.title}),l.jsx("p",{className:"text-slate-400 leading-relaxed",children:n.description})]})]},n.step))})]})]}),l.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-blue-950/20 to-slate-950 z-10"}),l.jsx("img",{src:"https://images.pexels.com/photos/7413915/pexels-photo-7413915.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-20",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Ready to Get Started?"}),l.jsx("p",{className:"text-slate-300 text-lg mb-10 max-w-2xl mx-auto",children:"Join thousands of investors tracking their portfolio performance with Prime Blocks."}),l.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:l.jsx(De,{to:"/register",children:l.jsxs(xe,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Create Your Account",l.jsx(Fs,{size:20})]})})}),l.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-4 md:gap-6 text-sm text-slate-300",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:16,className:"text-emerald-400"}),"Free to register"]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:16,className:"text-emerald-400"}),"No hidden fees"]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:16,className:"text-emerald-400"}),"Secure platform"]})]})]})]}),l.jsx("footer",{className:"py-12 px-4 border-t border-slate-800/50 bg-slate-950/80 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:l.jsx(Ft,{className:"text-white",size:20})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-bold text-white block",children:"Prime Blocks"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Investments"})]})]}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[l.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Contact"})]})]}),l.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800/50 text-center text-sm text-slate-500",children:l.jsx("p",{className:"text-slate-400",children:"2025 Prime Blocks Investments. All rights reserved."})})]})})]})}const Ze=R.forwardRef(({label:n,error:r,helpText:s,className:a="",...u},c)=>l.jsxs("div",{className:"space-y-2",children:[n&&l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:n}),l.jsx("input",{ref:c,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${a}`,...u}),s&&!r&&l.jsx("p",{className:"text-sm text-slate-500",children:s}),r&&l.jsx("p",{className:"text-sm text-red-400",children:r})]}));Ze.displayName="Input";function Qy(){const n=qs(),{signIn:r}=ot(),[s,a]=R.useState(""),[u,c]=R.useState(""),[h,p]=R.useState(""),[m,v]=R.useState(!1),y=async w=>{w.preventDefault(),p(""),v(!0);const{error:_}=await r(s,u);_?(p(_.message),v(!1)):n("/dashboard")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:l.jsx(Ft,{className:"text-white",size:24})}),l.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-slate-400",children:"Sign in to access your investment dashboard"})]}),l.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[h&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:h})]}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsx(Ze,{label:"Email Address",type:"email",value:s,onChange:w=>a(w.target.value),placeholder:"you@example.com",required:!0}),l.jsx(Ze,{label:"Password",type:"password",value:u,onChange:w=>c(w.target.value),placeholder:"Enter your password",required:!0}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),l.jsx("span",{className:"text-sm text-slate-400",children:"Remember me"})]}),l.jsx(De,{to:"/forgot-password",className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:"Forgot password?"})]}),l.jsx(xe,{type:"submit",fullWidth:!0,loading:m,children:"Sign In"})]}),l.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Don't have an account?"," ",l.jsx(De,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Create one"})]})]}),l.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})})}function Yy(){const n=qs(),{signUp:r}=ot(),[s,a]=R.useState(""),[u,c]=R.useState(""),[h,p]=R.useState(""),[m,v]=R.useState(""),[y,w]=R.useState(""),[_,T]=R.useState(!1),[j,N]=R.useState(!1),k=async I=>{if(I.preventDefault(),w(""),h!==m){w("Passwords do not match");return}if(h.length<6){w("Password must be at least 6 characters");return}T(!0);const{error:E}=await r(u,h,s);E?(w(E.message),T(!1)):(N(!0),setTimeout(()=>n("/dashboard"),1500))};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:l.jsx(Ft,{className:"text-white",size:24})}),l.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),l.jsx("p",{className:"text-slate-400",children:"Join Prime Blocks Investments today"})]}),l.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[y&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:y})]}),j&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[l.jsx(Xe,{size:20}),l.jsx("span",{children:"Account created successfully! Redirecting..."})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsx(Ze,{label:"Full Name",type:"text",value:s,onChange:I=>a(I.target.value),placeholder:"John Doe",required:!0}),l.jsx(Ze,{label:"Email Address",type:"email",value:u,onChange:I=>c(I.target.value),placeholder:"you@example.com",required:!0}),l.jsx(Ze,{label:"Password",type:"password",value:h,onChange:I=>p(I.target.value),placeholder:"Create a password",helpText:"Must be at least 6 characters",required:!0}),l.jsx(Ze,{label:"Confirm Password",type:"password",value:m,onChange:I=>v(I.target.value),placeholder:"Confirm your password",required:!0}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),l.jsxs("span",{className:"text-sm text-slate-400",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})]}),l.jsx(xe,{type:"submit",fullWidth:!0,loading:_,children:"Create Account"})]}),l.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Already have an account?"," ",l.jsx(De,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Sign in"})]})]})]})})}function Xy(){const{resetPassword:n}=ot(),[r,s]=R.useState(""),[a,u]=R.useState(""),[c,h]=R.useState(!1),[p,m]=R.useState(!1),v=async y=>{y.preventDefault(),u(""),h(!0);const{error:w}=await n(r);w?u(w.message):m(!0),h(!1)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs(De,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:l.jsx(Ft,{className:"text-white",size:24})}),l.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Reset Password"}),l.jsx("p",{className:"text-slate-400",children:"Enter your email to receive a reset link"})]}),l.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[a&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:a})]}),p?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Xe,{className:"text-emerald-400",size:32})}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Check your email"}),l.jsxs("p",{className:"text-slate-400 mb-6",children:["We've sent a password reset link to ",l.jsx("strong",{className:"text-white",children:r})]}),l.jsx(De,{to:"/login",children:l.jsxs(xe,{variant:"outline",fullWidth:!0,children:[l.jsx(Vh,{size:20}),"Back to Sign In"]})})]}):l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsx(Ze,{label:"Email Address",type:"email",value:r,onChange:y=>s(y.target.value),placeholder:"you@example.com",required:!0}),l.jsx(xe,{type:"submit",fullWidth:!0,loading:c,children:"Send Reset Link"}),l.jsxs(De,{to:"/login",className:"flex items-center justify-center gap-2 text-slate-400 hover:text-white transition-colors",children:[l.jsx(Vh,{size:20}),"Back to Sign In"]})]})]})]})})}function Lf(){const{user:n}=ot(),[r,s]=R.useState([]),[a,u]=R.useState(!0),[c,h]=R.useState(null),p=async()=>{if(!n)return;u(!0);const{data:m,error:v}=await ge.from("transactions").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});v?h(v.message):s(m||[]),u(!1)};return R.useEffect(()=>{p()},[n==null?void 0:n.id]),{transactions:r,loading:a,error:c,refetch:p}}function $f(){const{user:n}=ot(),[r,s]=R.useState([]),[a,u]=R.useState(null),[c,h]=R.useState(!0),[p,m]=R.useState(null),v=async()=>{if(!n)return;h(!0);const{data:y,error:w}=await ge.from("portfolio_performance").select("*").eq("user_id",n.id).order("date",{ascending:!1}).limit(30);w?m(w.message):(s(y||[]),u((y==null?void 0:y[0])||null)),h(!1)};return R.useEffect(()=>{v()},[n==null?void 0:n.id]),{performance:r,latestPerformance:a,loading:c,error:p,refetch:v}}function ou(){const{user:n}=ot(),[r,s]=R.useState([]),[a,u]=R.useState(!0),[c,h]=R.useState(null),p=async()=>{if(!n)return;u(!0);const{data:v,error:y}=await ge.from("deposit_requests").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});y?h(y.message):s(v||[]),u(!1)},m=async(v,y,w,_)=>{if(!n)return{error:new Error("Not authenticated")};const{error:T}=await ge.from("deposit_requests").insert({user_id:n.id,amount:v,payment_method:y,reference_number:w,notes:_});if(!T){await p();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-deposit-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:n.id,amount:v,paymentMethod:y,referenceNumber:w,notes:_})})}catch(j){console.error("Failed to send notification:",j)}}return{error:T}};return R.useEffect(()=>{p()},[n==null?void 0:n.id]),{requests:r,loading:a,error:c,createRequest:m,refetch:p}}function uu(){const{user:n}=ot(),[r,s]=R.useState([]),[a,u]=R.useState(!0),[c,h]=R.useState(null),p=async()=>{if(!n)return;u(!0);const{data:v,error:y}=await ge.from("withdrawal_requests").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});y?h(y.message):s(v||[]),u(!1)},m=async(v,y,w,_)=>{if(!n)return{error:new Error("Not authenticated")};const{error:T}=await ge.from("withdrawal_requests").insert({user_id:n.id,amount:v,withdrawal_method:y,account_details:w,notes:_});if(!T){await p();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-withdrawal-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:n.id,amount:v,withdrawalMethod:y,accountDetails:w,notes:_})})}catch(j){console.error("Failed to send notification:",j)}}return{error:T}};return R.useEffect(()=>{p()},[n==null?void 0:n.id]),{requests:r,loading:a,error:c,createRequest:m,refetch:p}}const Gh=[{path:"/dashboard",label:"Dashboard",icon:By},{path:"/account",label:"Account Summary",icon:Hs},{path:"/transactions",label:"Transactions",icon:Dy},{path:"/deposit",label:"Deposit",icon:lr},{path:"/withdraw",label:"Withdraw",icon:Ir},{path:"/market",label:"Market Overview",icon:ma},{path:"/support",label:"Support & Contact",icon:Jo}],Zy=[{path:"/admin",label:"Admin Panel",icon:Vy},{path:"/admin/users",label:"Manage Users",icon:wa}];function qt({children:n}){const{profile:r,signOut:s}=ot(),a=qn(),u=qs(),[c,h]=R.useState(!1),p=async()=>{await s(),u("/")},m=r!=null&&r.is_admin?[...Gh,...Zy]:Gh;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[l.jsx("button",{onClick:()=>h(!c),className:"lg:hidden fixed top-3 left-3 z-50 p-2 bg-slate-800/90 backdrop-blur-sm rounded-lg text-white shadow-lg border border-slate-700/50","aria-label":c?"Close menu":"Open menu",children:c?l.jsx(Uf,{size:20}):l.jsx(Wy,{size:20})}),l.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800/50 shadow-2xl transform transition-transform duration-300 lg:translate-x-0 ${c?"translate-x-0":"-translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-6 border-b border-slate-800/50",children:l.jsxs(De,{to:"/dashboard",className:"flex items-center gap-3 group",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:shadow-blue-500/40 transition-all",children:l.jsx("span",{className:"text-white font-bold text-lg",children:"PB"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-white font-semibold text-lg",children:"Prime Blocks"}),l.jsx("p",{className:"text-slate-400 text-xs",children:"Investments"})]})]})}),l.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:m.map(v=>{const y=a.pathname===v.path,w=v.icon;return l.jsxs(De,{to:v.path,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${y?"bg-gradient-to-r from-blue-600/20 to-blue-500/20 text-white border border-blue-500/30 shadow-lg shadow-blue-500/10":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[l.jsx(w,{size:20,className:y?"text-blue-400":""}),l.jsx("span",{className:"font-medium",children:v.label}),y&&l.jsx(Ly,{size:16,className:"ml-auto text-blue-400"})]},v.path)})}),l.jsxs("div",{className:"p-4 border-t border-slate-800/50",children:[l.jsxs("div",{className:"p-4 bg-slate-800/60 backdrop-blur-sm rounded-xl mb-4 border border-slate-700/30 shadow-lg",children:[l.jsx("p",{className:"text-slate-400 text-sm",children:"Logged in as"}),l.jsx("p",{className:"text-white font-medium truncate",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)}),(r==null?void 0:r.is_admin)&&l.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Administrator"})]}),l.jsxs("button",{onClick:p,className:"flex items-center gap-3 w-full px-4 py-3 text-slate-400 hover:text-white hover:bg-red-500/10 hover:border-red-500/30 rounded-xl transition-all duration-200 border border-transparent",children:[l.jsx(qy,{size:20}),l.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})}),c&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>h(!1)}),l.jsx("main",{className:"lg:ml-64 min-h-screen",children:l.jsx("div",{className:"pt-16 px-3 pb-4 md:pt-6 md:px-6 md:pb-6 lg:p-8",children:n})})]})}function se({children:n,className:r="",hover:s=!1}){return l.jsx("div",{className:`bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl shadow-xl ${s?"card-hover":""} ${r}`,children:n})}function Oe({children:n,className:r=""}){return l.jsx("div",{className:`p-6 border-b border-slate-700/50 ${r}`,children:n})}function ie({children:n,className:r=""}){return l.jsx("div",{className:`p-6 ${r}`,children:n})}function Mn({status:n}){const r={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"},s={pending:"Pending",approved:"Approved",rejected:"Rejected"};return l.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${r[n]}`,children:s[n]})}function oa(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function Qh(n){return`${n>=0?"+":""}${n.toFixed(2)}%`}function ex(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function tx(){const{profile:n}=ot(),{transactions:r}=Lf(),{latestPerformance:s}=$f(),{requests:a}=ou(),{requests:u}=uu(),c=a.filter(_=>_.status==="pending").length,h=u.filter(_=>_.status==="pending").length,p=r.slice(0,5),m=(n==null?void 0:n.balance)||0,v=(n==null?void 0:n.total_deposits)||0,y=(n==null?void 0:n.total_profits)||0,w=v>0?(m-v)/v*100:0;return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-6 md:mb-8",children:[l.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:["Welcome back, ",(n==null?void 0:n.full_name)||"Investor"]}),l.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"Here's an overview of your investment portfolio."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 md:mb-8",children:[l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[l.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Portfolio Value"}),l.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:oa(m)}),s&&l.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${s.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:[s.daily_change_percent>=0?l.jsx(Ft,{size:14,className:"md:w-4 md:h-4"}):l.jsx(If,{size:14,className:"md:w-4 md:h-4"}),l.jsxs("span",{className:"truncate",children:[Qh(s.daily_change_percent)," today"]})]})]}),l.jsx("div",{className:"p-2 md:p-3 bg-primary-500/20 rounded-xl flex-shrink-0",children:l.jsx(Hs,{className:"text-primary-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[l.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Deposits"}),l.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:oa(v)}),l.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[l.jsx(Bs,{size:14,className:"md:w-4 md:h-4"}),l.jsx("span",{className:"truncate",children:"Lifetime deposits"})]})]}),l.jsx("div",{className:"p-2 md:p-3 bg-emerald-500/20 rounded-xl flex-shrink-0",children:l.jsx(lr,{className:"text-emerald-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[l.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Profits"}),l.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:oa(y)}),l.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${y>=0?"text-emerald-400":"text-red-400"}`,children:[l.jsx(Vs,{size:14,className:"md:w-4 md:h-4"}),l.jsx("span",{className:"truncate",children:"Credited earnings"})]})]}),l.jsx("div",{className:"p-2 md:p-3 bg-accent-500/20 rounded-xl flex-shrink-0",children:l.jsx(Ft,{className:"text-accent-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[l.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total ROI"}),l.jsx("p",{className:`text-xl md:text-2xl lg:text-3xl font-bold break-words ${w>=0?"text-emerald-400":"text-red-400"}`,children:Qh(w)}),l.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[l.jsx(Kh,{size:14,className:"md:w-4 md:h-4"}),l.jsx("span",{className:"truncate",children:"Return on investment"})]})]}),l.jsx("div",{className:"p-2 md:p-3 bg-yellow-500/20 rounded-xl flex-shrink-0",children:l.jsx(Kh,{className:"text-yellow-400 w-5 h-5 md:w-6 md:h-6"})})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8",children:[l.jsxs(se,{className:"lg:col-span-2",children:[l.jsxs(Oe,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Recent Transactions"}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your latest account activity"})]}),l.jsx(De,{to:"/transactions",children:l.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",l.jsx(Fs,{size:16})]})})]}),l.jsx(ie,{className:"p-0",children:p.length>0?l.jsx("div",{className:"divide-y divide-slate-700/50",children:p.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-slate-700/20 transition-colors gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:`p-1.5 md:p-2 rounded-lg flex-shrink-0 ${_.type==="deposit"||_.type==="profit_credit"?"bg-emerald-500/20":"bg-red-500/20"}`,children:_.type==="deposit"||_.type==="profit_credit"?l.jsx(lr,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"}):l.jsx(Ir,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-white font-medium capitalize text-sm md:text-base truncate",children:_.type.replace("_"," ")}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:ex(_.created_at)})]})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsxs("p",{className:`font-semibold text-sm md:text-base ${_.type==="deposit"||_.type==="profit_credit"?"text-emerald-400":"text-red-400"}`,children:[_.type==="deposit"||_.type==="profit_credit"?"+":"-",oa(_.amount)]}),l.jsx(Mn,{status:_.status})]})]},_.id))}):l.jsxs("div",{className:"p-6 md:p-8 text-center text-slate-400",children:[l.jsx(Bs,{size:32,className:"md:w-10 md:h-10 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-sm md:text-base",children:"No transactions yet"})]})})]}),l.jsxs(se,{children:[l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Pending Requests"}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Awaiting processing"})]}),l.jsxs(ie,{className:"space-y-3 md:space-y-4",children:[l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Deposits"}),l.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:c})]}),l.jsx(De,{to:"/deposit",children:l.jsxs(xe,{variant:"outline",size:"sm",fullWidth:!0,children:[l.jsx(lr,{size:16}),"New Deposit"]})})]}),l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Withdrawals"}),l.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:h})]}),l.jsx(De,{to:"/withdraw",children:l.jsxs(xe,{variant:"outline",size:"sm",fullWidth:!0,children:[l.jsx(Ir,{size:16}),"New Withdrawal"]})})]}),l.jsxs("div",{className:"p-3 md:p-4 bg-primary-500/10 border border-primary-500/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-primary-400 mb-2",children:[l.jsx(zn,{size:14,className:"md:w-4 md:h-4"}),l.jsx("span",{className:"text-xs md:text-sm font-medium",children:"Processing Time"})]}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Requests are typically processed within 1-3 business days."})]})]})]})]})]})}function Cr(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function Po(n){return`${n>=0?"+":""}${n.toFixed(2)}%`}function Yh(n){return new Date(n).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function rx(){var ce,Ne,St,Wt;const{profile:n,user:r,refreshProfile:s}=ot(),{performance:a}=$f(),[u,c]=R.useState(!1),[h,p]=R.useState(""),[m,v]=R.useState(""),[y,w]=R.useState(!1),[_,T]=R.useState(!1),[j,N]=R.useState("");R.useEffect(()=>{n&&(p(n.full_name||""),v(n.email||""))},[n]);const k=(n==null?void 0:n.balance)||0,I=(n==null?void 0:n.total_deposits)||0,E=(n==null?void 0:n.total_withdrawals)||0,U=(n==null?void 0:n.total_profits)||0,B=I>0?(k-I)/I*100:0,G=()=>{p((n==null?void 0:n.full_name)||""),v((n==null?void 0:n.email)||""),N(""),c(!0)},Q=()=>{p((n==null?void 0:n.full_name)||""),v((n==null?void 0:n.email)||""),N(""),c(!1)},q=async()=>{if(r){N(""),w(!0);try{const{error:we}=await ge.from("profiles").update({full_name:h,email:m}).eq("id",r.id);if(we){N(we.message),w(!1);return}if(m!==(n==null?void 0:n.email)){const{error:et}=await ge.auth.updateUser({email:m});if(et){N(et.message),w(!1);return}}await s(),T(!0),setTimeout(()=>{T(!1),c(!1)},1500)}catch{N("Failed to save changes. Please try again.")}w(!1)}};return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-6 md:mb-8",children:[l.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:"Account Summary"}),l.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"View your account details and investment summary."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[l.jsxs(se,{children:[l.jsxs(Oe,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Profile Information"}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your account details"})]}),!u&&l.jsx(xe,{variant:"outline",size:"sm",onClick:G,children:"Edit Profile"})]}),l.jsx(ie,{className:"space-y-6",children:u?l.jsxs("div",{className:"space-y-4",children:[j&&l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:j})]}),_&&l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[l.jsx(Xe,{size:20}),l.jsx("span",{children:"Profile updated successfully!"})]}),l.jsx(Ze,{label:"Full Name",value:h,onChange:we=>p(we.target.value),placeholder:"Enter your full name"}),l.jsx(Ze,{label:"Email Address",type:"email",value:m,onChange:we=>v(we.target.value),placeholder:"Enter your email",helpText:"Changing your email will require verification"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(xe,{onClick:q,loading:y,disabled:_,children:_?l.jsxs(l.Fragment,{children:[l.jsx(Xe,{size:16}),"Saved"]}):"Save Changes"}),l.jsx(xe,{variant:"ghost",onClick:Q,disabled:y,children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:l.jsx(Hy,{className:"text-primary-400",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-400",children:"Full Name"}),l.jsx("p",{className:"text-white font-medium",children:(n==null?void 0:n.full_name)||"Not set"})]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:l.jsx(Pf,{className:"text-accent-400",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-400",children:"Email Address"}),l.jsx("p",{className:"text-white font-medium",children:n==null?void 0:n.email})]})]}),l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:l.jsx(Uy,{className:"text-emerald-400",size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-400",children:"Member Since"}),l.jsx("p",{className:"text-white font-medium",children:n!=null&&n.created_at?Yh(n.created_at):"N/A"})]})]})]})})]}),l.jsxs(se,{children:[l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Investment Summary"}),l.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your portfolio at a glance"})]}),l.jsx(ie,{children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-primary-500/20 rounded-lg",children:l.jsx(Hs,{className:"text-primary-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Portfolio Value"})]}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Cr(k)})]}),l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:l.jsx(Ft,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Deposits"})]}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Cr(I)})]}),l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-red-500/20 rounded-lg",children:l.jsx(If,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Withdrawals"})]}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Cr(E)})]}),l.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-accent-500/20 rounded-lg",children:l.jsx(Vs,{className:"text-accent-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Profits"})]}),l.jsx("p",{className:`text-xl md:text-2xl font-bold ${U>=0?"text-emerald-400":"text-red-400"}`,children:Cr(U)})]})]})})]}),a.length>0&&l.jsxs(se,{children:[l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance History"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Recent portfolio performance"})]}),l.jsx(ie,{className:"p-0",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-700/50",children:[l.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"Date"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Value"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Daily Change"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Total ROI"})]})}),l.jsx("tbody",{children:a.slice(0,10).map(we=>l.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20",children:[l.jsx("td",{className:"p-4 text-white",children:Yh(we.date)}),l.jsx("td",{className:"p-4 text-right text-white font-medium",children:Cr(we.portfolio_value)}),l.jsx("td",{className:`p-4 text-right font-medium ${we.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:Po(we.daily_change_percent)}),l.jsx("td",{className:`p-4 text-right font-medium ${we.total_roi_percent>=0?"text-emerald-400":"text-red-400"}`,children:Po(we.total_roi_percent)})]},we.id))})]})})})]})]}),l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsx(se,{children:l.jsxs(ie,{className:"text-center p-6 md:p-8",children:[l.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4",children:l.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:((Ne=(ce=n==null?void 0:n.full_name)==null?void 0:ce.charAt(0))==null?void 0:Ne.toUpperCase())||((Wt=(St=n==null?void 0:n.email)==null?void 0:St.charAt(0))==null?void 0:Wt.toUpperCase())||"U"})}),l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-1",children:(n==null?void 0:n.full_name)||"Investor"}),l.jsx("p",{className:"text-slate-400 text-xs md:text-sm break-words",children:n==null?void 0:n.email}),(n==null?void 0:n.is_admin)&&l.jsx("span",{className:"inline-block mt-3 px-3 py-1 bg-accent-500/20 text-accent-400 text-sm rounded-full",children:"Administrator"})]})}),l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"ROI Summary"})}),l.jsxs(ie,{children:[l.jsxs("div",{className:"text-center mb-4 md:mb-6",children:[l.jsx("p",{className:`text-3xl md:text-4xl font-bold ${B>=0?"text-emerald-400":"text-red-400"}`,children:Po(B)}),l.jsx("p",{className:"text-slate-400 text-xs md:text-sm mt-1",children:"Total Return on Investment"})]}),l.jsxs("div",{className:"space-y-2 md:space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Initial Investment"}),l.jsx("span",{className:"text-white",children:Cr(I)})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Current Value"}),l.jsx("span",{className:"text-white",children:Cr(k)})]}),l.jsxs("div",{className:"flex justify-between text-xs md:text-sm pt-2 md:pt-3 border-t border-slate-700/50",children:[l.jsx("span",{className:"text-slate-400",children:"Net Gain/Loss"}),l.jsx("span",{className:`font-medium ${k-I>=0?"text-emerald-400":"text-red-400"}`,children:Cr(k-I)})]})]})]})]}),l.jsx(se,{children:l.jsxs(ie,{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:l.jsx(Af,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),l.jsx("span",{className:"font-medium text-white text-sm md:text-base",children:"Account Security"})]}),l.jsxs("div",{className:"space-y-2 text-xs md:text-sm text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),l.jsx("span",{children:"Email verified"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),l.jsx("span",{children:"Secure connection (HTTPS)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xe,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),l.jsx("span",{children:"Data encryption enabled"})]})]})]})})]})]})]})}function Xh(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function nx(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function sx(){const{transactions:n,loading:r}=Lf(),{requests:s,loading:a}=ou(),{requests:u,loading:c}=uu(),[h,p]=R.useState("all"),[m,v]=R.useState(""),[y,w]=R.useState("all"),_=r||a||c,j=[...n.map(E=>({id:E.id,type:E.type,amount:E.amount,status:E.status,description:E.description,date:E.created_at,category:"transaction"})),...s.map(E=>({id:E.id,type:"deposit_request",amount:E.amount,status:E.status,description:`${E.payment_method} - ${E.reference_number||"Pending"}`,date:E.created_at,category:"deposit"})),...u.map(E=>({id:E.id,type:"withdrawal_request",amount:E.amount,status:E.status,description:`${E.withdrawal_method}`,date:E.created_at,category:"withdrawal"}))].sort((E,U)=>new Date(U.date).getTime()-new Date(E.date).getTime()).filter(E=>{if(h==="deposits"&&!["deposit","deposit_request","profit_credit"].includes(E.type)||h==="withdrawals"&&!["withdrawal","withdrawal_request"].includes(E.type)||y!=="all"&&E.status!==y)return!1;if(m){const U=m.toLowerCase();return E.type.toLowerCase().includes(U)||E.description.toLowerCase().includes(U)||Xh(E.amount).toLowerCase().includes(U)}return!0}),N=E=>({deposit:"Deposit",withdrawal:"Withdrawal",profit_credit:"Profit Credit",balance_adjustment:"Balance Adjustment",deposit_request:"Deposit Request",withdrawal_request:"Withdrawal Request"})[E]||E,k=E=>["deposit","deposit_request","profit_credit"].includes(E)?l.jsx(lr,{className:"text-emerald-400",size:20}):["withdrawal","withdrawal_request"].includes(E)?l.jsx(Ir,{className:"text-red-400",size:20}):l.jsx(Vs,{className:"text-primary-400",size:20}),I=E=>["deposit","deposit_request","profit_credit"].includes(E)?"bg-emerald-500/20":["withdrawal","withdrawal_request"].includes(E)?"bg-red-500/20":"bg-primary-500/20";return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Transaction History"}),l.jsx("p",{className:"text-slate-400",children:"View all your deposits, withdrawals, and account activity."})]}),l.jsx(se,{className:"mb-6",children:l.jsx(ie,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 lg:pb-0",children:[{key:"all",label:"All Transactions"},{key:"deposits",label:"Deposits & Credits"},{key:"withdrawals",label:"Withdrawals"}].map(E=>l.jsx("button",{onClick:()=>p(E.key),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-all ${h===E.key?"bg-primary-500 text-white":"bg-slate-700/50 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:E.label},E.key))}),l.jsxs("div",{className:"flex flex-1 gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Of,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search transactions...",value:m,onChange:E=>v(E.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),l.jsxs("select",{value:y,onChange:E=>w(E.target.value),className:"pl-10 pr-8 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white focus:outline-none focus:border-primary-500 appearance-none cursor-pointer",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})})}),l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("h2",{className:"text-lg font-semibold text-white",children:[j.length," Transaction",j.length!==1?"s":""]})}),l.jsx(ie,{className:"p-0",children:_?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),l.jsx("p",{className:"text-slate-400 mt-4",children:"Loading transactions..."})]}):j.length>0?l.jsx("div",{className:"divide-y divide-slate-700/50",children:j.map(E=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-2 rounded-lg ${I(E.type)}`,children:k(E.type)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:N(E.type)}),l.jsx("p",{className:"text-sm text-slate-400",children:E.description||"No description"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:nx(E.date)})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:`text-lg font-semibold ${["deposit","deposit_request","profit_credit"].includes(E.type)?"text-emerald-400":"text-red-400"}`,children:[["deposit","deposit_request","profit_credit"].includes(E.type)?"+":"-",Xh(E.amount)]}),l.jsx(Mn,{status:E.status})]})]},`${E.category}-${E.id}`))}):l.jsxs("div",{className:"p-8 text-center text-slate-400",children:[l.jsx(Bs,{size:40,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No transactions found"}),l.jsx("p",{className:"text-sm mt-2",children:m||y!=="all"?"Try adjusting your filters":"Your transaction history will appear here"})]})})]})]})}const _a=R.forwardRef(({label:n,error:r,options:s,className:a="",...u},c)=>l.jsxs("div",{className:"space-y-2",children:[n&&l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:n}),l.jsx("select",{ref:c,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${a}`,...u,children:s.map(h=>l.jsx("option",{value:h.value,className:"bg-slate-800",children:h.label},h.value))}),r&&l.jsx("p",{className:"text-sm text-red-400",children:r})]}));_a.displayName="Select";const ix=[{value:"bank_transfer",label:"Bank Transfer"},{value:"wire_transfer",label:"Wire Transfer"},{value:"crypto",label:"Cryptocurrency"}];function ax(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function lx(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ox(){const{requests:n,createRequest:r}=ou(),[s,a]=R.useState(""),[u,c]=R.useState("bank_transfer"),[h,p]=R.useState(""),[m,v]=R.useState(""),[y,w]=R.useState(!1),[_,T]=R.useState(!1),[j,N]=R.useState(""),k=async E=>{E.preventDefault(),N("");const U=parseFloat(s);if(isNaN(U)||U<=0){N("Please enter a valid amount");return}w(!0);const{error:B}=await r(U,u,h,m);B?N(B.message):(T(!0),a(""),p(""),v(""),setTimeout(()=>T(!1),3e3)),w(!1)},I=n.filter(E=>E.status==="pending");return n.filter(E=>E.status!=="pending"),l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Deposit Funds"}),l.jsx("p",{className:"text-slate-400",children:"Submit a deposit request to fund your investment account."})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:l.jsx(lr,{className:"text-emerald-400",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Deposit Request"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a deposit"})]})]})}),l.jsxs(ie,{children:[_&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[l.jsx(Xe,{size:20}),l.jsx("span",{children:"Deposit request submitted successfully!"})]}),j&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:j})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsx(Ze,{label:"Amount (USD)",type:"number",value:s,onChange:E=>a(E.target.value),placeholder:"Enter amount",min:"0",step:"0.01",required:!0}),l.jsx(_a,{label:"Payment Method",value:u,onChange:E=>c(E.target.value),options:ix}),l.jsx(Ze,{label:"Reference Number (Optional)",type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Transaction or reference number",helpText:"Enter any reference number from your payment"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Additional Notes (Optional)"}),l.jsx("textarea",{value:m,onChange:E=>v(E.target.value),placeholder:"Any additional information about your deposit",rows:3,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),l.jsxs(xe,{type:"submit",fullWidth:!0,loading:y,children:[l.jsx(lr,{size:20}),"Submit Deposit Request"]})]})]})]}),n.length>0&&l.jsxs(se,{children:[l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Deposit Requests"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Your deposit request history"})]}),l.jsx(ie,{className:"p-0",children:l.jsx("div",{className:"divide-y divide-slate-700/50",children:n.slice(0,10).map(E=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:l.jsx(lr,{className:"text-emerald-400",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:ax(E.amount)}),l.jsxs("p",{className:"text-sm text-slate-400",children:[E.payment_method.replace("_"," "),E.reference_number&&` - ${E.reference_number}`]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:lx(E.created_at)})]})]}),l.jsx(Mn,{status:E.status})]},E.id))})})]})]}),l.jsxs("div",{className:"space-y-6",children:[I.length>0&&l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[l.jsx(zn,{size:20}),l.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:I.length}),l.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting processing"})]})]}),l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsx("h3",{className:"font-semibold text-white",children:"Payment Instructions"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[l.jsx(Iy,{size:18}),l.jsx("span",{className:"font-medium",children:"Bank Transfer"})]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Contact support to receive bank transfer details."})]}),l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[l.jsx(Ay,{size:18}),l.jsx("span",{className:"font-medium",children:"Wire Transfer"})]}),l.jsx("p",{className:"text-sm text-slate-400",children:"International wire transfers accepted. Contact support for SWIFT details."})]}),l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[l.jsx($y,{size:18}),l.jsx("span",{className:"font-medium",children:"Cryptocurrency"})]}),l.jsx("p",{className:"text-sm text-slate-400",children:"BTC, ETH, USDT accepted. Contact support for wallet addresses."})]})]})]}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(Rf,{className:"text-primary-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Deposit requests are typically processed within 1-3 business days. You will be notified once your deposit is approved."})]})]})})}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:l.jsx(or,{className:"text-yellow-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),l.jsx("p",{className:"text-sm text-slate-400",children:"This is a request-only system. Deposits are credited to your account after verification and approval by our team."})]})]})})})]})]})]})}const ux=[{value:"bank_transfer",label:"Bank Transfer"},{value:"wire_transfer",label:"Wire Transfer"},{value:"crypto",label:"Cryptocurrency"}];function ua(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function cx(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function dx(){const{profile:n}=ot(),{requests:r,createRequest:s}=uu(),[a,u]=R.useState(""),[c,h]=R.useState("bank_transfer"),[p,m]=R.useState(""),[v,y]=R.useState(""),[w,_]=R.useState(!1),[T,j]=R.useState(!1),[N,k]=R.useState(""),I=(n==null?void 0:n.balance)||0,E=async G=>{G.preventDefault(),k("");const Q=parseFloat(a);if(isNaN(Q)||Q<=0){k("Please enter a valid amount");return}if(Q>I){k("Withdrawal amount exceeds available balance");return}if(!p.trim()){k("Please provide account details for the withdrawal");return}_(!0);const{error:q}=await s(Q,c,p,v);q?k(q.message):(j(!0),u(""),m(""),y(""),setTimeout(()=>j(!1),3e3)),_(!1)},U=r.filter(G=>G.status==="pending"),B=U.reduce((G,Q)=>G+Q.amount,0);return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Withdraw Funds"}),l.jsx("p",{className:"text-slate-400",children:"Submit a withdrawal request from your investment account."})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:l.jsx(Ir,{className:"text-red-400",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Withdrawal Request"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a withdrawal"})]})]})}),l.jsxs(ie,{children:[T&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[l.jsx(Xe,{size:20}),l.jsx("span",{children:"Withdrawal request submitted successfully!"})]}),N&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:N})]}),l.jsxs("form",{onSubmit:E,className:"space-y-6",children:[l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(Hs,{className:"text-primary-400",size:20})}),l.jsx("span",{className:"text-slate-400",children:"Available Balance"})]}),l.jsx("span",{className:"text-2xl font-bold text-white",children:ua(I)})]}),B>0&&l.jsxs("p",{className:"text-sm text-yellow-400 mt-2 flex items-center gap-2",children:[l.jsx(zn,{size:14}),ua(B)," pending withdrawal"]})]}),l.jsx(Ze,{label:"Amount (USD)",type:"number",value:a,onChange:G=>u(G.target.value),placeholder:"Enter amount",min:"0",max:I,step:"0.01",required:!0}),l.jsx(_a,{label:"Withdrawal Method",value:c,onChange:G=>h(G.target.value),options:ux}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Account Details"}),l.jsx("textarea",{value:p,onChange:G=>m(G.target.value),placeholder:c==="bank_transfer"?"Bank name, account number, routing number...":c==="crypto"?"Wallet address, network (e.g., ERC20, TRC20)...":"SWIFT code, bank details...",rows:3,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Provide complete details for receiving your withdrawal"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Additional Notes (Optional)"}),l.jsx("textarea",{value:v,onChange:G=>y(G.target.value),placeholder:"Any additional information",rows:2,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),l.jsxs(xe,{type:"submit",variant:"danger",fullWidth:!0,loading:w,disabled:I<=0,children:[l.jsx(Ir,{size:20}),"Submit Withdrawal Request"]})]})]})]}),r.length>0&&l.jsxs(se,{children:[l.jsxs(Oe,{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Withdrawal Requests"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Your withdrawal request history"})]}),l.jsx(ie,{className:"p-0",children:l.jsx("div",{className:"divide-y divide-slate-700/50",children:r.slice(0,10).map(G=>l.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:l.jsx(Ir,{className:"text-red-400",size:20})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:ua(G.amount)}),l.jsx("p",{className:"text-sm text-slate-400",children:G.withdrawal_method.replace("_"," ")}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:cx(G.created_at)})]})]}),l.jsx(Mn,{status:G.status})]},G.id))})})]})]}),l.jsxs("div",{className:"space-y-6",children:[U.length>0&&l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[l.jsx(zn,{size:20}),l.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),l.jsxs(ie,{children:[l.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:U.length}),l.jsxs("p",{className:"text-sm text-slate-400",children:["Total: ",ua(B)]})]})]}),l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsx("h3",{className:"font-semibold text-white",children:"Withdrawal Guidelines"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Minimum Withdrawal"}),l.jsx("p",{className:"text-lg text-white font-bold",children:"$100.00"})]}),l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Time"}),l.jsx("p",{className:"text-sm text-slate-400",children:"1-5 business days"})]}),l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Fees"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Varies by method"})]})]})]}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(Rf,{className:"text-primary-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Withdrawal requests are reviewed and processed within 1-5 business days. You will be notified of the status."})]})]})})}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:l.jsx(lu,{className:"text-yellow-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Double-check your account details before submitting. Incorrect information may delay your withdrawal or result in lost funds."})]})]})})})]})]})]})}function hx({symbol:n,containerId:r}){const s=R.useRef(null);return R.useEffect(()=>{if(!s.current)return;const a=document.createElement("script");return a.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",a.type="text/javascript",a.async=!0,a.innerHTML=JSON.stringify({symbol:n,width:"100%",height:"220",locale:"en",dateRange:"12M",colorTheme:"dark",isTransparent:!0,autosize:!0,largeChartUrl:""}),s.current.innerHTML="",s.current.appendChild(a),()=>{s.current&&(s.current.innerHTML="")}},[n]),l.jsx("div",{className:"tradingview-widget-container",ref:s,id:r,children:l.jsx("div",{className:"tradingview-widget-container__widget"})})}function fx(){const n=R.useRef(null);return R.useEffect(()=>{if(!n.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({colorTheme:"dark",dateRange:"12M",showChart:!0,locale:"en",width:"100%",height:"500",largeChartUrl:"",isTransparent:!0,showSymbolLogo:!0,showFloatingTooltip:!1,plotLineColorGrowing:"rgba(59, 130, 246, 1)",plotLineColorFalling:"rgba(239, 68, 68, 1)",gridLineColor:"rgba(42, 46, 57, 0)",scaleFontColor:"rgba(134, 137, 147, 1)",belowLineFillColorGrowing:"rgba(59, 130, 246, 0.12)",belowLineFillColorFalling:"rgba(239, 68, 68, 0.12)",belowLineFillColorGrowingBottom:"rgba(59, 130, 246, 0)",belowLineFillColorFallingBottom:"rgba(239, 68, 68, 0)",symbolActiveColor:"rgba(59, 130, 246, 0.12)",tabs:[{title:"Indices",symbols:[{s:"FOREXCOM:SPXUSD",d:"S&P 500"},{s:"FOREXCOM:NSXUSD",d:"Nasdaq 100"},{s:"FOREXCOM:DJI",d:"Dow Jones"}],originalTitle:"Indices"},{title:"Forex",symbols:[{s:"FX:EURUSD",d:"EUR/USD"},{s:"FX:GBPUSD",d:"GBP/USD"},{s:"FX:USDJPY",d:"USD/JPY"}],originalTitle:"Forex"},{title:"Crypto",symbols:[{s:"BITSTAMP:BTCUSD",d:"Bitcoin"},{s:"BITSTAMP:ETHUSD",d:"Ethereum"},{s:"BINANCE:BNBUSDT",d:"BNB"}],originalTitle:"Crypto"}]}),n.current.innerHTML="",n.current.appendChild(r),()=>{n.current&&(n.current.innerHTML="")}},[]),l.jsx("div",{className:"tradingview-widget-container",ref:n,children:l.jsx("div",{className:"tradingview-widget-container__widget"})})}function px(){const n=R.useRef(null);return R.useEffect(()=>{if(!n.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"BITSTAMP:BTCUSD",title:"Bitcoin"},{proName:"BITSTAMP:ETHUSD",title:"Ethereum"},{proName:"FX:EURUSD",title:"EUR/USD"},{proName:"COMEX:GC1!",title:"Gold"},{proName:"NYMEX:CL1!",title:"Crude Oil"}],showSymbolLogo:!0,isTransparent:!0,displayMode:"adaptive",colorTheme:"dark",locale:"en"}),n.current.innerHTML="",n.current.appendChild(r),()=>{n.current&&(n.current.innerHTML="")}},[]),l.jsx("div",{className:"tradingview-widget-container",ref:n,children:l.jsx("div",{className:"tradingview-widget-container__widget"})})}const mx=[{symbol:"FOREXCOM:SPXUSD",name:"S&P 500",id:"spx"},{symbol:"BITSTAMP:BTCUSD",name:"Bitcoin",id:"btc"},{symbol:"BITSTAMP:ETHUSD",name:"Ethereum",id:"eth"},{symbol:"FX:EURUSD",name:"EUR/USD",id:"eurusd"}];function gx(){return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Market Overview"}),l.jsx("p",{className:"text-slate-400",children:"View live market data and global financial trends."})]}),l.jsx(se,{className:"mb-6 overflow-hidden",children:l.jsx(ie,{className:"p-0",children:l.jsx(px,{})})}),l.jsx("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:mx.map(n=>l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(Ft,{className:"text-primary-400",size:20})}),l.jsx("span",{className:"font-semibold text-white",children:n.name})]})}),l.jsx(ie,{className:"p-0 overflow-hidden",children:l.jsx(hx,{symbol:n.symbol,containerId:`widget-${n.id}`})})]},n.id))}),l.jsxs(se,{className:"mb-6",children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-accent-500/20 rounded-lg",children:l.jsx(ma,{className:"text-accent-400",size:20})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Global Markets"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Indices, Forex, and Cryptocurrency"})]})]})}),l.jsx(ie,{className:"p-0 overflow-hidden",children:l.jsx(fx,{})})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsx(se,{children:l.jsxs(ie,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(My,{className:"text-primary-400",size:24})}),l.jsx("h3",{className:"font-semibold text-white mb-2",children:"Global Coverage"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Access market data from major exchanges worldwide."})]})}),l.jsx(se,{children:l.jsxs(ie,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Ft,{className:"text-emerald-400",size:24})}),l.jsx("h3",{className:"font-semibold text-white mb-2",children:"Real-Time Data"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Live market prices updated in real-time."})]})}),l.jsx(se,{children:l.jsxs(ie,{className:"p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:l.jsx(ma,{className:"text-accent-400",size:24})}),l.jsx("h3",{className:"font-semibold text-white mb-2",children:"Interactive Charts"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Powered by TradingView professional charts."})]})})]}),l.jsx(se,{className:"mt-6",children:l.jsx(ie,{className:"p-6",children:l.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Market data provided by TradingView. Prices may be delayed. This information is for educational and informational purposes only and should not be construed as investment advice. Past performance is not indicative of future results."})})})]})}const vx=[{value:"general",label:"General Inquiry"},{value:"complaint",label:"Complaint"},{value:"account",label:"Account Issue"},{value:"withdrawal",label:"Withdrawal Issue"},{value:"deposit",label:"Deposit Issue"}];function yx(){const[n,r]=R.useState(""),[s,a]=R.useState(""),[u,c]=R.useState("general"),[h,p]=R.useState(""),[m,v]=R.useState(!1),[y,w]=R.useState(!1),[_,T]=R.useState(""),j=async N=>{if(N.preventDefault(),T(""),!n.trim()||!s.trim()||!h.trim()){T("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){T("Please enter a valid email address");return}v(!0);try{if(!(await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/send-contact-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({fullName:n,email:s,subject:u,message:h})})).ok)throw new Error("Failed to send message");w(!0),r(""),a(""),c("general"),p(""),setTimeout(()=>w(!1),5e3)}catch{T("Failed to send message. Please try again.")}finally{v(!1)}};return l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Support & Contact"}),l.jsx("p",{className:"text-slate-400",children:"Get in touch with Prime Blocks Investments for support, complaints, or questions."})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:l.jsx(Jo,{className:"text-primary-400",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Send Us a Message"}),l.jsx("p",{className:"text-sm text-slate-400",children:"We'll get back to you as soon as possible"})]})]})}),l.jsxs(ie,{children:[y&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[l.jsx(Xe,{size:20}),l.jsx("span",{children:"Your message has been sent to our support team. We'll get back to you shortly."})]}),_&&l.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[l.jsx(or,{size:20}),l.jsx("span",{children:_})]}),l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[l.jsx(Ze,{label:"Full Name",type:"text",value:n,onChange:N=>r(N.target.value),placeholder:"Enter your full name",required:!0}),l.jsx(Ze,{label:"Email Address",type:"email",value:s,onChange:N=>a(N.target.value),placeholder:"your.email@example.com",required:!0}),l.jsx(_a,{label:"Subject",value:u,onChange:N=>c(N.target.value),options:vx}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["Message ",l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("textarea",{value:h,onChange:N=>p(N.target.value),placeholder:"Describe your inquiry or issue in detail",rows:6,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),l.jsxs(xe,{type:"submit",fullWidth:!0,loading:m,children:[l.jsx(Jo,{size:20}),"Send Message"]})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsx("h3",{className:"font-semibold text-white",children:"Contact Information"})}),l.jsxs(ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:l.jsx(Pf,{className:"text-primary-400",size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Email Support"}),l.jsx("p",{className:"text-sm text-slate-400 break-all",children:"support@primeblockivestment.org"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:l.jsx(zn,{className:"text-primary-400",size:18})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Business Hours"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Monday - Friday"}),l.jsx("p",{className:"text-sm text-slate-400",children:"9:00 AM - 6:00 PM EST"})]})]})]})]}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(or,{className:"text-primary-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"Response Time"}),l.jsx("p",{className:"text-sm text-slate-400",children:"We typically respond to all inquiries within 24-48 hours during business days. For urgent matters, please mark your subject accordingly."})]})]})})}),l.jsx(se,{children:l.jsx(ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:l.jsx(Xe,{className:"text-emerald-400",size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-white mb-1",children:"What to Expect"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Your message will be directly sent to our support team. We'll review your inquiry and respond with the information or assistance you need."})]})]})})})]})]})]})}function Oo(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function Zh(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function xx(){const{profile:n}=ot(),[r,s]=R.useState({totalUsers:0,pendingDeposits:0,pendingWithdrawals:0,totalBalance:0}),[a,u]=R.useState([]),[c,h]=R.useState([]),[p,m]=R.useState(!0),[v,y]=R.useState(null),w=async()=>{m(!0);const[j,N,k]=await Promise.all([ge.from("profiles").select("id, balance"),ge.from("deposit_requests").select("*").eq("status","pending").order("created_at",{ascending:!1}),ge.from("withdrawal_requests").select("*").eq("status","pending").order("created_at",{ascending:!1})]),I=j.data||[],E=N.data||[],U=k.data||[];s({totalUsers:I.length,pendingDeposits:E.length,pendingWithdrawals:U.length,totalBalance:I.reduce((B,G)=>B+(G.balance||0),0)}),u(E),h(U),m(!1)};R.useEffect(()=>{n!=null&&n.is_admin&&w()},[n==null?void 0:n.is_admin]);const _=async(j,N)=>{if(n){if(y(j.id),N==="approved"){const{data:k}=await ge.from("profiles").select("balance, total_deposits").eq("id",j.user_id).maybeSingle();k&&(await ge.from("profiles").update({balance:k.balance+j.amount,total_deposits:k.total_deposits+j.amount}).eq("id",j.user_id),await ge.from("transactions").insert({user_id:j.user_id,type:"deposit",amount:j.amount,status:"approved",description:`Deposit via ${j.payment_method}`,processed_at:new Date().toISOString(),processed_by:n.id}))}await ge.from("deposit_requests").update({status:N,processed_at:new Date().toISOString(),processed_by:n.id}).eq("id",j.id),y(null),w()}},T=async(j,N)=>{if(n){if(y(j.id),N==="approved"){const{data:k}=await ge.from("profiles").select("balance, total_withdrawals").eq("id",j.user_id).maybeSingle();k&&k.balance>=j.amount&&(await ge.from("profiles").update({balance:k.balance-j.amount,total_withdrawals:k.total_withdrawals+j.amount}).eq("id",j.user_id),await ge.from("transactions").insert({user_id:j.user_id,type:"withdrawal",amount:j.amount,status:"approved",description:`Withdrawal via ${j.withdrawal_method}`,processed_at:new Date().toISOString(),processed_by:n.id}))}await ge.from("withdrawal_requests").update({status:N,processed_at:new Date().toISOString(),processed_by:n.id}).eq("id",j.id),y(null),w()}};return n!=null&&n.is_admin?l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),l.jsx("p",{className:"text-slate-400",children:"Manage users, deposits, and withdrawals."})]}),l.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total Users"}),l.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.totalUsers})]}),l.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:l.jsx(wa,{className:"text-primary-400",size:24})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Deposits"}),l.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingDeposits})]}),l.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:l.jsx(lr,{className:"text-emerald-400",size:24})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Withdrawals"}),l.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingWithdrawals})]}),l.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:l.jsx(Ir,{className:"text-red-400",size:24})})]})})}),l.jsx(se,{hover:!0,children:l.jsx(ie,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total AUM"}),l.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:Oo(r.totalBalance)})]}),l.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:l.jsx(Vs,{className:"text-accent-400",size:24})})]})})})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[l.jsxs(se,{children:[l.jsxs(Oe,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Deposits"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),l.jsx(De,{to:"/admin/users",children:l.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",l.jsx(Fs,{size:16})]})})]}),l.jsx(ie,{className:"p-0",children:p?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):a.length>0?l.jsx("div",{className:"divide-y divide-slate-700/50",children:a.slice(0,5).map(j=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:Oo(j.amount)}),l.jsxs("p",{className:"text-sm text-slate-400",children:[j.payment_method.replace("_"," "),j.reference_number&&` - ${j.reference_number}`]}),l.jsx("p",{className:"text-xs text-slate-500",children:Zh(j.created_at)})]}),l.jsx(Mn,{status:j.status})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{size:"sm",onClick:()=>_(j,"approved"),loading:v===j.id,children:[l.jsx(Xe,{size:16}),"Approve"]}),l.jsxs(xe,{variant:"danger",size:"sm",onClick:()=>_(j,"rejected"),loading:v===j.id,children:[l.jsx(Hh,{size:16}),"Reject"]})]})]},j.id))}):l.jsxs("div",{className:"p-8 text-center text-slate-400",children:[l.jsx(Bs,{size:40,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No pending deposits"})]})})]}),l.jsxs(se,{children:[l.jsxs(Oe,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Withdrawals"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),l.jsx(De,{to:"/admin/users",children:l.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",l.jsx(Fs,{size:16})]})})]}),l.jsx(ie,{className:"p-0",children:p?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):c.length>0?l.jsx("div",{className:"divide-y divide-slate-700/50",children:c.slice(0,5).map(j=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:Oo(j.amount)}),l.jsx("p",{className:"text-sm text-slate-400",children:j.withdrawal_method.replace("_"," ")}),l.jsx("p",{className:"text-xs text-slate-500",children:Zh(j.created_at)})]}),l.jsx(Mn,{status:j.status})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{size:"sm",onClick:()=>T(j,"approved"),loading:v===j.id,children:[l.jsx(Xe,{size:16}),"Approve"]}),l.jsxs(xe,{variant:"danger",size:"sm",onClick:()=>T(j,"rejected"),loading:v===j.id,children:[l.jsx(Hh,{size:16}),"Reject"]})]})]},j.id))}):l.jsxs("div",{className:"p-8 text-center text-slate-400",children:[l.jsx(Bs,{size:40,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No pending withdrawals"})]})})]})]})]}):l.jsx(qt,{children:l.jsx(se,{children:l.jsxs(ie,{className:"p-8 text-center",children:[l.jsx(lu,{className:"mx-auto text-yellow-400 mb-4",size:48}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function ca(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function wx(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function _x(){const{profile:n}=ot(),[r,s]=R.useState([]),[a,u]=R.useState(!0),[c,h]=R.useState(""),[p,m]=R.useState(null),[v,y]=R.useState(null),[w,_]=R.useState(""),[T,j]=R.useState(""),[N,k]=R.useState(!1),[I,E]=R.useState(!1),U=async()=>{u(!0);const{data:q}=await ge.from("profiles").select("*").order("created_at",{ascending:!1});s(q||[]),u(!1)};R.useEffect(()=>{n!=null&&n.is_admin&&U()},[n==null?void 0:n.is_admin]);const B=r.filter(q=>{if(!c)return!0;const ce=c.toLowerCase();return q.email.toLowerCase().includes(ce)||q.full_name.toLowerCase().includes(ce)}),G=async q=>{if(q.preventDefault(),!p||!v||!n)return;const ce=parseFloat(w);isNaN(ce)||(k(!0),v==="balance"?(await ge.from("profiles").update({balance:p.balance+ce}).eq("id",p.id),await ge.from("transactions").insert({user_id:p.id,type:"balance_adjustment",amount:Math.abs(ce),status:"approved",description:T||"Balance adjustment by admin",processed_at:new Date().toISOString(),processed_by:n.id})):v==="profit"&&(await ge.from("profiles").update({balance:p.balance+ce,total_profits:p.total_profits+ce}).eq("id",p.id),await ge.from("transactions").insert({user_id:p.id,type:"profit_credit",amount:ce,status:"approved",description:T||"Profit credit",processed_at:new Date().toISOString(),processed_by:n.id})),E(!0),setTimeout(()=>{E(!1),m(null),y(null),_(""),j("")},1500),k(!1),U())},Q=()=>{m(null),y(null),_(""),j("")};return n!=null&&n.is_admin?l.jsxs(qt,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Manage Users"}),l.jsx("p",{className:"text-slate-400",children:"View and manage user accounts, balances, and credits."})]}),l.jsx(se,{className:"mb-6",children:l.jsx(ie,{className:"p-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(Of,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:c,onChange:q=>h(q.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]})})}),l.jsxs(se,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:l.jsx(wa,{className:"text-primary-400",size:20})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-white",children:[B.length," User",B.length!==1?"s":""]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Click on a user to manage their account"})]})]})}),l.jsx(ie,{className:"p-0",children:a?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),l.jsx("p",{className:"text-slate-400 mt-4",children:"Loading users..."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-slate-700/50",children:[l.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"User"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Balance"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Deposits"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Profits"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Joined"}),l.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Actions"})]})}),l.jsx("tbody",{children:B.map(q=>{var ce,Ne;return l.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium",children:((Ne=(ce=q.full_name)==null?void 0:ce.charAt(0))==null?void 0:Ne.toUpperCase())||q.email.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:q.full_name||"No name"}),l.jsx("p",{className:"text-sm text-slate-400",children:q.email})]}),q.is_admin&&l.jsx("span",{className:"px-2 py-1 bg-accent-500/20 text-accent-400 text-xs rounded-full",children:"Admin"})]})}),l.jsx("td",{className:"p-4 text-right text-white font-medium",children:ca(q.balance)}),l.jsx("td",{className:"p-4 text-right text-slate-300",children:ca(q.total_deposits)}),l.jsx("td",{className:`p-4 text-right font-medium ${q.total_profits>=0?"text-emerald-400":"text-red-400"}`,children:ca(q.total_profits)}),l.jsx("td",{className:"p-4 text-right text-slate-400",children:wx(q.created_at)}),l.jsx("td",{className:"p-4 text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>{m(q),y("balance")},children:[l.jsx(Hs,{size:14}),"Balance"]}),l.jsxs(xe,{variant:"secondary",size:"sm",onClick:()=>{m(q),y("profit")},children:[l.jsx(Ft,{size:14}),"Credit"]})]})})]},q.id)})})]})})})]}),p&&v&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:l.jsxs(se,{className:"w-full max-w-md",children:[l.jsxs(Oe,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:v==="balance"?"Adjust Balance":"Credit Profit"}),l.jsx("p",{className:"text-sm text-slate-400",children:p.email})]}),l.jsx("button",{onClick:Q,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(Uf,{className:"text-slate-400",size:20})})]}),l.jsx(ie,{children:I?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Xe,{className:"mx-auto text-emerald-400 mb-4",size:48}),l.jsx("p",{className:"text-white font-medium",children:"Action completed successfully!"})]}):l.jsxs("form",{onSubmit:G,className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[l.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Current Balance"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:ca(p.balance)})]}),l.jsx(Ze,{label:v==="balance"?"Amount (can be negative)":"Profit Amount",type:"number",value:w,onChange:q=>_(q.target.value),placeholder:"Enter amount",step:"0.01",required:!0}),l.jsx(Ze,{label:"Description (Optional)",value:T,onChange:q=>j(q.target.value),placeholder:"Add a note for this transaction"}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs(xe,{type:"submit",fullWidth:!0,loading:N,children:[l.jsx(Vs,{size:16}),v==="balance"?"Update Balance":"Credit Profit"]}),l.jsx(xe,{type:"button",variant:"ghost",onClick:Q,children:"Cancel"})]})]})})]})})]}):l.jsx(qt,{children:l.jsx(se,{children:l.jsxs(ie,{className:"p-8 text-center",children:[l.jsx(lu,{className:"mx-auto text-yellow-400 mb-4",size:48}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function ir({children:n}){const{user:r,loading:s}=ot();return s?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),l.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?l.jsx(l.Fragment,{children:n}):l.jsx(tu,{to:"/login",replace:!0})}function Ao({children:n}){const{user:r,loading:s}=ot();return s?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),l.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?l.jsx(tu,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:n})}function bx(){return l.jsxs($0,{children:[l.jsx(lt,{path:"/",element:l.jsx(Gy,{})}),l.jsx(lt,{path:"/login",element:l.jsx(Ao,{children:l.jsx(Qy,{})})}),l.jsx(lt,{path:"/register",element:l.jsx(Ao,{children:l.jsx(Yy,{})})}),l.jsx(lt,{path:"/forgot-password",element:l.jsx(Ao,{children:l.jsx(Xy,{})})}),l.jsx(lt,{path:"/dashboard",element:l.jsx(ir,{children:l.jsx(tx,{})})}),l.jsx(lt,{path:"/account",element:l.jsx(ir,{children:l.jsx(rx,{})})}),l.jsx(lt,{path:"/transactions",element:l.jsx(ir,{children:l.jsx(sx,{})})}),l.jsx(lt,{path:"/deposit",element:l.jsx(ir,{children:l.jsx(ox,{})})}),l.jsx(lt,{path:"/withdraw",element:l.jsx(ir,{children:l.jsx(dx,{})})}),l.jsx(lt,{path:"/market",element:l.jsx(ir,{children:l.jsx(gx,{})})}),l.jsx(lt,{path:"/support",element:l.jsx(ir,{children:l.jsx(yx,{})})}),l.jsx(lt,{path:"/admin",element:l.jsx(ir,{children:l.jsx(xx,{})})}),l.jsx(lt,{path:"/admin/users",element:l.jsx(ir,{children:l.jsx(_x,{})})}),l.jsx(lt,{path:"*",element:l.jsx(tu,{to:"/",replace:!0})})]})}function jx(){return l.jsx(W0,{children:l.jsx(Ty,{children:l.jsx(bx,{})})})}Vm.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(jx,{})}));
