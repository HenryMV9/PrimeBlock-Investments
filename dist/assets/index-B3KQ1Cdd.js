function Gp(n,r){for(var s=0;s<r.length;s++){const l=r[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in n)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(n,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Yp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _o={exports:{}},Os={},jo={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function Qp(){if(ch)return ue;ch=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function N(T,L,oe){this.props=T,this.context=L,this.refs=k,this.updater=oe||C}N.prototype.isReactComponent={},N.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function I(){}I.prototype=N.prototype;function D(T,L,oe){this.props=T,this.context=L,this.refs=k,this.updater=oe||C}var U=D.prototype=new I;U.constructor=D,_(U,N.prototype),U.isPureReactComponent=!0;var R=Array.isArray,F=Object.prototype.hasOwnProperty,H={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ce(T,L,oe){var de,pe={},ge=null,je=null;if(L!=null)for(de in L.ref!==void 0&&(je=L.ref),L.key!==void 0&&(ge=""+L.key),L)F.call(L,de)&&!W.hasOwnProperty(de)&&(pe[de]=L[de]);var ye=arguments.length-2;if(ye===1)pe.children=oe;else if(1<ye){for(var Ce=Array(ye),vt=0;vt<ye;vt++)Ce[vt]=arguments[vt+2];pe.children=Ce}if(T&&T.defaultProps)for(de in ye=T.defaultProps,ye)pe[de]===void 0&&(pe[de]=ye[de]);return{$$typeof:n,type:T,key:ge,ref:je,props:pe,_owner:H.current}}function he(T,L){return{$$typeof:n,type:T.type,key:L,ref:T.ref,props:T.props,_owner:T._owner}}function Ke(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function Vt(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(oe){return L[oe]})}var _e=/\/+/g;function rt(T,L){return typeof T=="object"&&T!==null&&T.key!=null?Vt(""+T.key):L.toString(36)}function At(T,L,oe,de,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var je=!1;if(T===null)je=!0;else switch(ge){case"string":case"number":je=!0;break;case"object":switch(T.$$typeof){case n:case r:je=!0}}if(je)return je=T,pe=pe(je),T=de===""?"."+rt(je,0):de,R(pe)?(oe="",T!=null&&(oe=T.replace(_e,"$&/")+"/"),At(pe,L,oe,"",function(vt){return vt})):pe!=null&&(Ke(pe)&&(pe=he(pe,oe+(!pe.key||je&&je.key===pe.key?"":(""+pe.key).replace(_e,"$&/")+"/")+T)),L.push(pe)),1;if(je=0,de=de===""?".":de+":",R(T))for(var ye=0;ye<T.length;ye++){ge=T[ye];var Ce=de+rt(ge,ye);je+=At(ge,L,oe,Ce,pe)}else if(Ce=b(T),typeof Ce=="function")for(T=Ce.call(T),ye=0;!(ge=T.next()).done;)ge=ge.value,Ce=de+rt(ge,ye++),je+=At(ge,L,oe,Ce,pe);else if(ge==="object")throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return je}function Ht(T,L,oe){if(T==null)return T;var de=[],pe=0;return At(T,de,"","",function(ge){return L.call(oe,ge,pe++)}),de}function ct(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(oe){(T._status===0||T._status===-1)&&(T._status=1,T._result=oe)},function(oe){(T._status===0||T._status===-1)&&(T._status=2,T._result=oe)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var Ae={current:null},q={transition:null},ie={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:q,ReactCurrentOwner:H};function J(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Ht,forEach:function(T,L,oe){Ht(T,function(){L.apply(this,arguments)},oe)},count:function(T){var L=0;return Ht(T,function(){L++}),L},toArray:function(T){return Ht(T,function(L){return L})||[]},only:function(T){if(!Ke(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ue.Component=N,ue.Fragment=s,ue.Profiler=u,ue.PureComponent=D,ue.StrictMode=l,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ue.act=J,ue.cloneElement=function(T,L,oe){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var de=_({},T.props),pe=T.key,ge=T.ref,je=T._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,je=H.current),L.key!==void 0&&(pe=""+L.key),T.type&&T.type.defaultProps)var ye=T.type.defaultProps;for(Ce in L)F.call(L,Ce)&&!W.hasOwnProperty(Ce)&&(de[Ce]=L[Ce]===void 0&&ye!==void 0?ye[Ce]:L[Ce])}var Ce=arguments.length-2;if(Ce===1)de.children=oe;else if(1<Ce){ye=Array(Ce);for(var vt=0;vt<Ce;vt++)ye[vt]=arguments[vt+2];de.children=ye}return{$$typeof:n,type:T.type,key:pe,ref:ge,props:de,_owner:je}},ue.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:c,_context:T},T.Consumer=T},ue.createElement=ce,ue.createFactory=function(T){var L=ce.bind(null,T);return L.type=T,L},ue.createRef=function(){return{current:null}},ue.forwardRef=function(T){return{$$typeof:m,render:T}},ue.isValidElement=Ke,ue.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:ct}},ue.memo=function(T,L){return{$$typeof:v,type:T,compare:L===void 0?null:L}},ue.startTransition=function(T){var L=q.transition;q.transition={};try{T()}finally{q.transition=L}},ue.unstable_act=J,ue.useCallback=function(T,L){return Ae.current.useCallback(T,L)},ue.useContext=function(T){return Ae.current.useContext(T)},ue.useDebugValue=function(){},ue.useDeferredValue=function(T){return Ae.current.useDeferredValue(T)},ue.useEffect=function(T,L){return Ae.current.useEffect(T,L)},ue.useId=function(){return Ae.current.useId()},ue.useImperativeHandle=function(T,L,oe){return Ae.current.useImperativeHandle(T,L,oe)},ue.useInsertionEffect=function(T,L){return Ae.current.useInsertionEffect(T,L)},ue.useLayoutEffect=function(T,L){return Ae.current.useLayoutEffect(T,L)},ue.useMemo=function(T,L){return Ae.current.useMemo(T,L)},ue.useReducer=function(T,L,oe){return Ae.current.useReducer(T,L,oe)},ue.useRef=function(T){return Ae.current.useRef(T)},ue.useState=function(T){return Ae.current.useState(T)},ue.useSyncExternalStore=function(T,L,oe){return Ae.current.useSyncExternalStore(T,L,oe)},ue.useTransition=function(){return Ae.current.useTransition()},ue.version="18.3.1",ue}var dh;function tu(){return dh||(dh=1,jo.exports=Qp()),jo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function Xp(){if(hh)return Os;hh=1;var n=tu(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,v){var x,w={},b=null,C=null;v!==void 0&&(b=""+v),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)l.call(p,x)&&!c.hasOwnProperty(x)&&(w[x]=p[x]);if(m&&m.defaultProps)for(x in p=m.defaultProps,p)w[x]===void 0&&(w[x]=p[x]);return{$$typeof:r,type:m,key:b,ref:C,props:w,_owner:u.current}}return Os.Fragment=s,Os.jsx=h,Os.jsxs=h,Os}var fh;function Zp(){return fh||(fh=1,_o.exports=Xp()),_o.exports}var a=Zp(),E=tu();const e0=Yp(E),t0=Gp({__proto__:null,default:e0},[E]);var oa={},bo={exports:{}},gt={},No={exports:{}},So={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function r0(){return mh||(mh=1,(function(n){function r(q,ie){var J=q.length;q.push(ie);e:for(;0<J;){var T=J-1>>>1,L=q[T];if(0<u(L,ie))q[T]=ie,q[J]=L,J=T;else break e}}function s(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ie=q[0],J=q.pop();if(J!==ie){q[0]=J;e:for(var T=0,L=q.length,oe=L>>>1;T<oe;){var de=2*(T+1)-1,pe=q[de],ge=de+1,je=q[ge];if(0>u(pe,J))ge<L&&0>u(je,pe)?(q[T]=je,q[ge]=J,T=ge):(q[T]=pe,q[de]=J,T=de);else if(ge<L&&0>u(je,J))q[T]=je,q[ge]=J,T=ge;else break e}}return ie}function u(q,ie){var J=q.sortIndex-ie.sortIndex;return J!==0?J:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var p=[],v=[],x=1,w=null,b=3,C=!1,_=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(q){for(var ie=s(v);ie!==null;){if(ie.callback===null)l(v);else if(ie.startTime<=q)l(v),ie.sortIndex=ie.expirationTime,r(p,ie);else break;ie=s(v)}}function R(q){if(k=!1,U(q),!_)if(s(p)!==null)_=!0,ct(F);else{var ie=s(v);ie!==null&&Ae(R,ie.startTime-q)}}function F(q,ie){_=!1,k&&(k=!1,I(ce),ce=-1),C=!0;var J=b;try{for(U(ie),w=s(p);w!==null&&(!(w.expirationTime>ie)||q&&!Vt());){var T=w.callback;if(typeof T=="function"){w.callback=null,b=w.priorityLevel;var L=T(w.expirationTime<=ie);ie=n.unstable_now(),typeof L=="function"?w.callback=L:w===s(p)&&l(p),U(ie)}else l(p);w=s(p)}if(w!==null)var oe=!0;else{var de=s(v);de!==null&&Ae(R,de.startTime-ie),oe=!1}return oe}finally{w=null,b=J,C=!1}}var H=!1,W=null,ce=-1,he=5,Ke=-1;function Vt(){return!(n.unstable_now()-Ke<he)}function _e(){if(W!==null){var q=n.unstable_now();Ke=q;var ie=!0;try{ie=W(!0,q)}finally{ie?rt():(H=!1,W=null)}}else H=!1}var rt;if(typeof D=="function")rt=function(){D(_e)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,Ht=At.port2;At.port1.onmessage=_e,rt=function(){Ht.postMessage(null)}}else rt=function(){N(_e,0)};function ct(q){W=q,H||(H=!0,rt())}function Ae(q,ie){ce=N(function(){q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||C||(_=!0,ct(F))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(q){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var J=b;b=ie;try{return q()}finally{b=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=b;b=q;try{return ie()}finally{b=J}},n.unstable_scheduleCallback=function(q,ie,J){var T=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?T+J:T):J=T,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=J+L,q={id:x++,callback:ie,priorityLevel:q,startTime:J,expirationTime:L,sortIndex:-1},J>T?(q.sortIndex=J,r(v,q),s(p)===null&&q===s(v)&&(k?(I(ce),ce=-1):k=!0,Ae(R,J-T))):(q.sortIndex=L,r(p,q),_||C||(_=!0,ct(F))),q},n.unstable_shouldYield=Vt,n.unstable_wrapCallback=function(q){var ie=b;return function(){var J=b;b=ie;try{return q.apply(this,arguments)}finally{b=J}}}})(So)),So}var ph;function n0(){return ph||(ph=1,No.exports=r0()),No.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function s0(){if(gh)return gt;gh=1;var n=tu(),r=n0();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function b(e){return p.call(w,e)?!0:p.call(x,e)?!1:v.test(e)?w[e]=!0:(x[e]=!0,!1)}function C(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,i,o){if(t===null||typeof t>"u"||C(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,i,o,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,D);N[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,D);N[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,D);N[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,i,o){var d=N.hasOwnProperty(t)?N[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,i,d,o)&&(i=null),o||d===null?b(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),Vt=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,T;function L(e){if(T===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var oe=!1;function de(e,t){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var o=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){o=A}e.call(t.prototype)}else{try{throw Error()}catch(A){o=A}e()}}catch(A){if(A&&o&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),f=o.stack.split(`
`),g=d.length-1,y=f.length-1;1<=g&&0<=y&&d[g]!==f[y];)y--;for(;1<=g&&0<=y;g--,y--)if(d[g]!==f[y]){if(g!==1||y!==1)do if(g--,y--,0>y||d[g]!==f[y]){var j=`
`+d[g].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=g&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function pe(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case H:return"Portal";case he:return"Profiler";case ce:return"StrictMode";case rt:return"Suspense";case At:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vt:return(e.displayName||"Context")+".Consumer";case Ke:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ht:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case ct:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vt(e){var t=Ce(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=vt(e))}function gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ce(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ea(e,t){var i=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function vu(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ye(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xu(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function Ca(e,t){xu(e,t);var i=ye(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ta(e,t.type,i):t.hasOwnProperty("defaultValue")&&Ta(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yu(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ta(e,t,i){(t!=="number"||Zs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Kn=Array.isArray;function an(e,t,i,o){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ye(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Pa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wu(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Kn(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ye(i)}}function _u(e,t){var i=ye(t.value),o=ye(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,Nu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zf=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){Zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function Su(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function ku(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=Su(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var em=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Aa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,ln=null,on=null;function Eu(e){if(e=vs(e)){if(typeof Ua!="function")throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Ua(e.stateNode,e.type,t))}}function Cu(e){ln?on?on.push(e):on=[e]:ln=e}function Tu(){if(ln){var e=ln,t=on;if(on=ln=null,Eu(e),t)for(e=0;e<t.length;e++)Eu(t[e])}}function Pu(e,t){return e(t)}function Ru(){}var $a=!1;function Ou(e,t,i){if($a)return e(t,i);$a=!0;try{return Pu(e,t,i)}finally{$a=!1,(ln!==null||on!==null)&&(Ru(),Tu())}}function Yn(e,t){var i=e.stateNode;if(i===null)return null;var o=bi(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var La=!1;if(m)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){La=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{La=!1}function tm(e,t,i,o,d,f,g,y,j){var A=Array.prototype.slice.call(arguments,3);try{t.apply(i,A)}catch(z){this.onError(z)}}var Xn=!1,ti=null,ri=!1,za=null,rm={onError:function(e){Xn=!0,ti=e}};function nm(e,t,i,o,d,f,g,y,j){Xn=!1,ti=null,tm.apply(rm,arguments)}function sm(e,t,i,o,d,f,g,y,j){if(nm.apply(this,arguments),Xn){if(Xn){var A=ti;Xn=!1,ti=null}else throw Error(s(198));ri||(ri=!0,za=A)}}function Lr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Au(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iu(e){if(Lr(e)!==e)throw Error(s(188))}function im(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return Iu(d),e;if(f===o)return Iu(d),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=d,o=f;else{for(var g=!1,y=d.child;y;){if(y===i){g=!0,i=d,o=f;break}if(y===o){g=!0,o=d,i=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===i){g=!0,i=f,o=d;break}if(y===o){g=!0,o=f,i=d;break}y=y.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function Du(e){return e=im(e),e!==null?Uu(e):null}function Uu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uu(e);if(t!==null)return t;e=e.sibling}return null}var $u=r.unstable_scheduleCallback,Lu=r.unstable_cancelCallback,am=r.unstable_shouldYield,lm=r.unstable_requestPaint,Le=r.unstable_now,om=r.unstable_getCurrentPriorityLevel,Ma=r.unstable_ImmediatePriority,zu=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,um=r.unstable_LowPriority,Mu=r.unstable_IdlePriority,si=null,Kt=null;function cm(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:fm,dm=Math.log,hm=Math.LN2;function fm(e){return e>>>=0,e===0?32:31-(dm(e)/hm|0)|0}var ii=64,ai=4194304;function Zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var y=g&~d;y!==0?o=Zn(y):(f&=g,f!==0&&(o=Zn(f)))}else g=i&~d,g!==0?o=Zn(g):f!==0&&(o=Zn(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-It(t),d=1<<i,o|=e[i],t&=~d;return o}function mm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-It(f),y=1<<g,j=d[g];j===-1?((y&i)===0||(y&o)!==0)&&(d[g]=mm(y,t)):j<=t&&(e.expiredLanes|=y),f&=~y}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bu(){var e=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),e}function Fa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function es(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=i}function gm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-It(i),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,i&=~f}}function qa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-It(i),d=1<<o;d&t|e[o]&t&&(e[o]|=t),i&=~d}}var we=0;function Fu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var qu,Wa,Wu,Vu,Hu,Va=!1,oi=[],hr=null,fr=null,mr=null,ts=new Map,rs=new Map,pr=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function ns(e,t,i,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=vs(t),t!==null&&Wa(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function xm(e,t,i,o,d){switch(t){case"focusin":return hr=ns(hr,e,t,i,o,d),!0;case"dragenter":return fr=ns(fr,e,t,i,o,d),!0;case"mouseover":return mr=ns(mr,e,t,i,o,d),!0;case"pointerover":var f=d.pointerId;return ts.set(f,ns(ts.get(f)||null,e,t,i,o,d)),!0;case"gotpointercapture":return f=d.pointerId,rs.set(f,ns(rs.get(f)||null,e,t,i,o,d)),!0}return!1}function Ju(e){var t=zr(e.target);if(t!==null){var i=Lr(t);if(i!==null){if(t=i.tag,t===13){if(t=Au(i),t!==null){e.blockedOn=t,Hu(e.priority,function(){Wu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ia=o,i.target.dispatchEvent(o),Ia=null}else return t=vs(i),t!==null&&Wa(t),e.blockedOn=i,!1;t.shift()}return!0}function Gu(e,t,i){ui(e)&&i.delete(t)}function ym(){Va=!1,hr!==null&&ui(hr)&&(hr=null),fr!==null&&ui(fr)&&(fr=null),mr!==null&&ui(mr)&&(mr=null),ts.forEach(Gu),rs.forEach(Gu)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Va||(Va=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ym)))}function is(e){function t(d){return ss(d,e)}if(0<oi.length){ss(oi[0],e);for(var i=1;i<oi.length;i++){var o=oi[i];o.blockedOn===e&&(o.blockedOn=null)}}for(hr!==null&&ss(hr,e),fr!==null&&ss(fr,e),mr!==null&&ss(mr,e),ts.forEach(t),rs.forEach(t),i=0;i<pr.length;i++)o=pr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<pr.length&&(i=pr[0],i.blockedOn===null);)Ju(i),i.blockedOn===null&&pr.shift()}var un=R.ReactCurrentBatchConfig,ci=!0;function wm(e,t,i,o){var d=we,f=un.transition;un.transition=null;try{we=1,Ha(e,t,i,o)}finally{we=d,un.transition=f}}function _m(e,t,i,o){var d=we,f=un.transition;un.transition=null;try{we=4,Ha(e,t,i,o)}finally{we=d,un.transition=f}}function Ha(e,t,i,o){if(ci){var d=Ka(e,t,i,o);if(d===null)cl(e,t,o,di,i),Ku(e,o);else if(xm(d,e,t,i,o))o.stopPropagation();else if(Ku(e,o),t&4&&-1<vm.indexOf(e)){for(;d!==null;){var f=vs(d);if(f!==null&&qu(f),f=Ka(e,t,i,o),f===null&&cl(e,t,o,di,i),f===d)break;d=f}d!==null&&o.stopPropagation()}else cl(e,t,o,null,i)}}var di=null;function Ka(e,t,i,o){if(di=null,e=Da(o),e=zr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Au(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(om()){case Ma:return 1;case zu:return 4;case ni:case um:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var gr=null,Ja=null,hi=null;function Qu(){if(hi)return hi;var e,t=Ja,i=t.length,o,d="value"in gr?gr.value:gr.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===d[f-o];o++);return hi=d.slice(e,1<o?1-o:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function Xu(){return!1}function xt(e){function t(i,o,d,f,g){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mi:Xu,this.isPropagationStopped=Xu,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=xt(cn),as=J({},cn,{view:0,detail:0}),jm=xt(as),Ya,Qa,ls,pi=J({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Ya=e.screenX-ls.screenX,Qa=e.screenY-ls.screenY):Qa=Ya=0,ls=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Zu=xt(pi),bm=J({},pi,{dataTransfer:0}),Nm=xt(bm),Sm=J({},as,{relatedTarget:0}),Xa=xt(Sm),km=J({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=xt(km),Cm=J({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tm=xt(Cm),Pm=J({},cn,{data:0}),ec=xt(Pm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function Za(){return Im}var Dm=J({},as,{key:function(e){if(e.key){var t=Rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Um=xt(Dm),$m=J({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=xt($m),Lm=J({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),zm=xt(Lm),Mm=J({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bm=xt(Mm),Fm=J({},pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qm=xt(Fm),Wm=[9,13,27,32],el=m&&"CompositionEvent"in window,os=null;m&&"documentMode"in document&&(os=document.documentMode);var Vm=m&&"TextEvent"in window&&!os,rc=m&&(!el||os&&8<os&&11>=os),nc=" ",sc=!1;function ic(e,t){switch(e){case"keyup":return Wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function Hm(e,t){switch(e){case"compositionend":return ac(t);case"keypress":return t.which!==32?null:(sc=!0,nc);case"textInput":return e=t.data,e===nc&&sc?null:e;default:return null}}function Km(e,t){if(dn)return e==="compositionend"||!el&&ic(e,t)?(e=Qu(),hi=Ja=gr=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rc&&t.locale!=="ko"?null:t.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jm[e.type]:t==="textarea"}function oc(e,t,i,o){Cu(o),t=wi(t,"onChange"),0<t.length&&(i=new Ga("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var us=null,cs=null;function Gm(e){kc(e,0)}function gi(e){var t=gn(e);if(gu(t))return e}function Ym(e,t){if(e==="change")return t}var uc=!1;if(m){var tl;if(m){var rl="oninput"in document;if(!rl){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),rl=typeof cc.oninput=="function"}tl=rl}else tl=!1;uc=tl&&(!document.documentMode||9<document.documentMode)}function dc(){us&&(us.detachEvent("onpropertychange",hc),cs=us=null)}function hc(e){if(e.propertyName==="value"&&gi(cs)){var t=[];oc(t,cs,e,Da(e)),Ou(Gm,t)}}function Qm(e,t,i){e==="focusin"?(dc(),us=t,cs=i,us.attachEvent("onpropertychange",hc)):e==="focusout"&&dc()}function Xm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(cs)}function Zm(e,t){if(e==="click")return gi(t)}function ep(e,t){if(e==="input"||e==="change")return gi(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:tp;function ds(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!p.call(t,d)||!Dt(e[d],t[d]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var i=fc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fc(i)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Zs(e.document)}return t}function nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rp(e){var t=gc(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&pc(i.ownerDocument.documentElement,i)){if(o!==null&&nl(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=mc(i,f);var g=mc(i,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=m&&"documentMode"in document&&11>=document.documentMode,hn=null,sl=null,hs=null,il=!1;function vc(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;il||hn==null||hn!==Zs(o)||(o=hn,"selectionStart"in o&&nl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hs&&ds(hs,o)||(hs=o,o=wi(sl,"onSelect"),0<o.length&&(t=new Ga("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=hn)))}function vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var fn={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},al={},xc={};m&&(xc=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function xi(e){if(al[e])return al[e];if(!fn[e])return e;var t=fn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in xc)return al[e]=t[i];return e}var yc=xi("animationend"),wc=xi("animationiteration"),_c=xi("animationstart"),jc=xi("transitionend"),bc=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(e,t){bc.set(e,t),c(t,[e])}for(var ll=0;ll<Nc.length;ll++){var ol=Nc[ll],sp=ol.toLowerCase(),ip=ol[0].toUpperCase()+ol.slice(1);vr(sp,"on"+ip)}vr(yc,"onAnimationEnd"),vr(wc,"onAnimationIteration"),vr(_c,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(jc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Sc(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,sm(o,t,void 0,e),e.currentTarget=null}function kc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var y=o[g],j=y.instance,A=y.currentTarget;if(y=y.listener,j!==f&&d.isPropagationStopped())break e;Sc(d,y,A),f=j}else for(g=0;g<o.length;g++){if(y=o[g],j=y.instance,A=y.currentTarget,y=y.listener,j!==f&&d.isPropagationStopped())break e;Sc(d,y,A),f=j}}}if(ri)throw e=za,ri=!1,za=null,e}function ke(e,t){var i=t[gl];i===void 0&&(i=t[gl]=new Set);var o=e+"__bubble";i.has(o)||(Ec(t,e,2,!1),i.add(o))}function ul(e,t,i){var o=0;t&&(o|=4),Ec(i,e,o,t)}var yi="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[yi]){e[yi]=!0,l.forEach(function(i){i!=="selectionchange"&&(ap.has(i)||ul(i,!1,e),ul(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yi]||(t[yi]=!0,ul("selectionchange",!1,t))}}function Ec(e,t,i,o){switch(Yu(t)){case 1:var d=wm;break;case 4:d=_m;break;default:d=Ha}i=d.bind(null,t,i,e),d=void 0,!La||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function cl(e,t,i,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===d||y.nodeType===8&&y.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;g=g.return}for(;y!==null;){if(g=zr(y),g===null)return;if(j=g.tag,j===5||j===6){o=f=g;continue e}y=y.parentNode}}o=o.return}Ou(function(){var A=f,z=Da(i),M=[];e:{var $=bc.get(e);if($!==void 0){var V=Ga,G=e;switch(e){case"keypress":if(fi(i)===0)break e;case"keydown":case"keyup":V=Um;break;case"focusin":G="focus",V=Xa;break;case"focusout":G="blur",V=Xa;break;case"beforeblur":case"afterblur":V=Xa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=zm;break;case yc:case wc:case _c:V=Em;break;case jc:V=Bm;break;case"scroll":V=jm;break;case"wheel":V=qm;break;case"copy":case"cut":case"paste":V=Tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=tc}var Y=(t&4)!==0,ze=!Y&&e==="scroll",P=Y?$!==null?$+"Capture":null:$;Y=[];for(var S=A,O;S!==null;){O=S;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,P!==null&&(B=Yn(S,P),B!=null&&Y.push(ps(S,B,O)))),ze)break;S=S.return}0<Y.length&&($=new V($,G,null,i,z),M.push({event:$,listeners:Y}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",$&&i!==Ia&&(G=i.relatedTarget||i.fromElement)&&(zr(G)||G[er]))break e;if((V||$)&&($=z.window===z?z:($=z.ownerDocument)?$.defaultView||$.parentWindow:window,V?(G=i.relatedTarget||i.toElement,V=A,G=G?zr(G):null,G!==null&&(ze=Lr(G),G!==ze||G.tag!==5&&G.tag!==6)&&(G=null)):(V=null,G=A),V!==G)){if(Y=Zu,B="onMouseLeave",P="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Y=tc,B="onPointerLeave",P="onPointerEnter",S="pointer"),ze=V==null?$:gn(V),O=G==null?$:gn(G),$=new Y(B,S+"leave",V,i,z),$.target=ze,$.relatedTarget=O,B=null,zr(z)===A&&(Y=new Y(P,S+"enter",G,i,z),Y.target=O,Y.relatedTarget=ze,B=Y),ze=B,V&&G)t:{for(Y=V,P=G,S=0,O=Y;O;O=mn(O))S++;for(O=0,B=P;B;B=mn(B))O++;for(;0<S-O;)Y=mn(Y),S--;for(;0<O-S;)P=mn(P),O--;for(;S--;){if(Y===P||P!==null&&Y===P.alternate)break t;Y=mn(Y),P=mn(P)}Y=null}else Y=null;V!==null&&Cc(M,$,V,Y,!1),G!==null&&ze!==null&&Cc(M,ze,G,Y,!0)}}e:{if($=A?gn(A):window,V=$.nodeName&&$.nodeName.toLowerCase(),V==="select"||V==="input"&&$.type==="file")var Q=Ym;else if(lc($))if(uc)Q=ep;else{Q=Xm;var te=Qm}else(V=$.nodeName)&&V.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Q=Zm);if(Q&&(Q=Q(e,A))){oc(M,Q,i,z);break e}te&&te(e,$,A),e==="focusout"&&(te=$._wrapperState)&&te.controlled&&$.type==="number"&&Ta($,"number",$.value)}switch(te=A?gn(A):window,e){case"focusin":(lc(te)||te.contentEditable==="true")&&(hn=te,sl=A,hs=null);break;case"focusout":hs=sl=hn=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,vc(M,i,z);break;case"selectionchange":if(np)break;case"keydown":case"keyup":vc(M,i,z)}var re;if(el)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else dn?ic(e,i)&&(ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ae="onCompositionStart");ae&&(rc&&i.locale!=="ko"&&(dn||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&dn&&(re=Qu()):(gr=z,Ja="value"in gr?gr.value:gr.textContent,dn=!0)),te=wi(A,ae),0<te.length&&(ae=new ec(ae,e,null,i,z),M.push({event:ae,listeners:te}),re?ae.data=re:(re=ac(i),re!==null&&(ae.data=re)))),(re=Vm?Hm(e,i):Km(e,i))&&(A=wi(A,"onBeforeInput"),0<A.length&&(z=new ec("onBeforeInput","beforeinput",null,i,z),M.push({event:z,listeners:A}),z.data=re))}kc(M,t)})}function ps(e,t,i){return{instance:e,listener:t,currentTarget:i}}function wi(e,t){for(var i=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Yn(e,i),f!=null&&o.unshift(ps(e,f,d)),f=Yn(e,t),f!=null&&o.push(ps(e,f,d))),e=e.return}return o}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,i,o,d){for(var f=t._reactName,g=[];i!==null&&i!==o;){var y=i,j=y.alternate,A=y.stateNode;if(j!==null&&j===o)break;y.tag===5&&A!==null&&(y=A,d?(j=Yn(i,f),j!=null&&g.unshift(ps(i,j,y))):d||(j=Yn(i,f),j!=null&&g.push(ps(i,j,y)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var lp=/\r\n?/g,op=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(op,"")}function _i(e,t,i){if(t=Tc(t),Tc(e)!==t&&i)throw Error(s(425))}function ji(){}var dl=null,hl=null;function fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Pc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Pc<"u"?function(e){return Pc.resolve(null).then(e).catch(dp)}:ml;function dp(e){setTimeout(function(){throw e})}function pl(e,t){var i=t,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),is(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);is(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var pn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+pn,gs="__reactProps$"+pn,er="__reactContainer$"+pn,gl="__reactEvents$"+pn,hp="__reactListeners$"+pn,fp="__reactHandles$"+pn;function zr(e){var t=e[Jt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[er]||i[Jt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Rc(e);e!==null;){if(i=e[Jt])return i;e=Rc(e)}return t}e=i,i=e.parentNode}return null}function vs(e){return e=e[Jt]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function bi(e){return e[gs]||null}var vl=[],vn=-1;function yr(e){return{current:e}}function Ee(e){0>vn||(e.current=vl[vn],vl[vn]=null,vn--)}function be(e,t){vn++,vl[vn]=e.current,e.current=t}var wr={},nt=yr(wr),dt=yr(!1),Mr=wr;function xn(e,t){var i=e.type.contextTypes;if(!i)return wr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function ht(e){return e=e.childContextTypes,e!=null}function Ni(){Ee(dt),Ee(nt)}function Oc(e,t,i){if(nt.current!==wr)throw Error(s(168));be(nt,t),be(dt,i)}function Ac(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(s(108,je(e)||"Unknown",d));return J({},i,o)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Mr=nt.current,be(nt,e),be(dt,dt.current),!0}function Ic(e,t,i){var o=e.stateNode;if(!o)throw Error(s(169));i?(e=Ac(e,t,Mr),o.__reactInternalMemoizedMergedChildContext=e,Ee(dt),Ee(nt),be(nt,e)):Ee(dt),be(dt,i)}var tr=null,ki=!1,xl=!1;function Dc(e){tr===null?tr=[e]:tr.push(e)}function mp(e){ki=!0,Dc(e)}function _r(){if(!xl&&tr!==null){xl=!0;var e=0,t=we;try{var i=tr;for(we=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}tr=null,ki=!1}catch(d){throw tr!==null&&(tr=tr.slice(e+1)),$u(Ma,_r),d}finally{we=t,xl=!1}}return null}var yn=[],wn=0,Ei=null,Ci=0,kt=[],Et=0,Br=null,rr=1,nr="";function Fr(e,t){yn[wn++]=Ci,yn[wn++]=Ei,Ei=e,Ci=t}function Uc(e,t,i){kt[Et++]=rr,kt[Et++]=nr,kt[Et++]=Br,Br=e;var o=rr;e=nr;var d=32-It(o)-1;o&=~(1<<d),i+=1;var f=32-It(t)+d;if(30<f){var g=d-d%5;f=(o&(1<<g)-1).toString(32),o>>=g,d-=g,rr=1<<32-It(t)+d|i<<d|o,nr=f+e}else rr=1<<f|i<<d|o,nr=e}function yl(e){e.return!==null&&(Fr(e,1),Uc(e,1,0))}function wl(e){for(;e===Ei;)Ei=yn[--wn],yn[wn]=null,Ci=yn[--wn],yn[wn]=null;for(;e===Br;)Br=kt[--Et],kt[Et]=null,nr=kt[--Et],kt[Et]=null,rr=kt[--Et],kt[Et]=null}var yt=null,wt=null,Te=!1,Ut=null;function $c(e,t){var i=Rt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Lc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,wt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Br!==null?{id:rr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Rt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,yt=e,wt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(Te){var t=wt;if(t){var i=t;if(!Lc(e,t)){if(_l(e))throw Error(s(418));t=xr(i.nextSibling);var o=yt;t&&Lc(e,t)?$c(o,i):(e.flags=e.flags&-4097|2,Te=!1,yt=e)}}else{if(_l(e))throw Error(s(418));e.flags=e.flags&-4097|2,Te=!1,yt=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Ti(e){if(e!==yt)return!1;if(!Te)return zc(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fl(e.type,e.memoizedProps)),t&&(t=wt)){if(_l(e))throw Mc(),Error(s(418));for(;t;)$c(e,t),t=xr(t.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){wt=xr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=yt?xr(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=wt;e;)e=xr(e.nextSibling)}function _n(){wt=yt=null,Te=!1}function bl(e){Ut===null?Ut=[e]:Ut.push(e)}var pp=R.ReactCurrentBatchConfig;function xs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var o=i.stateNode}if(!o)throw Error(s(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var y=d.refs;g===null?delete y[f]:y[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Pi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bc(e){var t=e._init;return t(e._payload)}function Fc(e){function t(P,S){if(e){var O=P.deletions;O===null?(P.deletions=[S],P.flags|=16):O.push(S)}}function i(P,S){if(!e)return null;for(;S!==null;)t(P,S),S=S.sibling;return null}function o(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function d(P,S){return P=Tr(P,S),P.index=0,P.sibling=null,P}function f(P,S,O){return P.index=O,e?(O=P.alternate,O!==null?(O=O.index,O<S?(P.flags|=2,S):O):(P.flags|=2,S)):(P.flags|=1048576,S)}function g(P){return e&&P.alternate===null&&(P.flags|=2),P}function y(P,S,O,B){return S===null||S.tag!==6?(S=po(O,P.mode,B),S.return=P,S):(S=d(S,O),S.return=P,S)}function j(P,S,O,B){var Q=O.type;return Q===W?z(P,S,O.props.children,B,O.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ct&&Bc(Q)===S.type)?(B=d(S,O.props),B.ref=xs(P,S,O),B.return=P,B):(B=ea(O.type,O.key,O.props,null,P.mode,B),B.ref=xs(P,S,O),B.return=P,B)}function A(P,S,O,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=go(O,P.mode,B),S.return=P,S):(S=d(S,O.children||[]),S.return=P,S)}function z(P,S,O,B,Q){return S===null||S.tag!==7?(S=Yr(O,P.mode,B,Q),S.return=P,S):(S=d(S,O),S.return=P,S)}function M(P,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=po(""+S,P.mode,O),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case F:return O=ea(S.type,S.key,S.props,null,P.mode,O),O.ref=xs(P,null,S),O.return=P,O;case H:return S=go(S,P.mode,O),S.return=P,S;case ct:var B=S._init;return M(P,B(S._payload),O)}if(Kn(S)||ie(S))return S=Yr(S,P.mode,O,null),S.return=P,S;Pi(P,S)}return null}function $(P,S,O,B){var Q=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:y(P,S,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return O.key===Q?j(P,S,O,B):null;case H:return O.key===Q?A(P,S,O,B):null;case ct:return Q=O._init,$(P,S,Q(O._payload),B)}if(Kn(O)||ie(O))return Q!==null?null:z(P,S,O,B,null);Pi(P,O)}return null}function V(P,S,O,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return P=P.get(O)||null,y(S,P,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return P=P.get(B.key===null?O:B.key)||null,j(S,P,B,Q);case H:return P=P.get(B.key===null?O:B.key)||null,A(S,P,B,Q);case ct:var te=B._init;return V(P,S,O,te(B._payload),Q)}if(Kn(B)||ie(B))return P=P.get(O)||null,z(S,P,B,Q,null);Pi(S,B)}return null}function G(P,S,O,B){for(var Q=null,te=null,re=S,ae=S=0,Ye=null;re!==null&&ae<O.length;ae++){re.index>ae?(Ye=re,re=null):Ye=re.sibling;var ve=$(P,re,O[ae],B);if(ve===null){re===null&&(re=Ye);break}e&&re&&ve.alternate===null&&t(P,re),S=f(ve,S,ae),te===null?Q=ve:te.sibling=ve,te=ve,re=Ye}if(ae===O.length)return i(P,re),Te&&Fr(P,ae),Q;if(re===null){for(;ae<O.length;ae++)re=M(P,O[ae],B),re!==null&&(S=f(re,S,ae),te===null?Q=re:te.sibling=re,te=re);return Te&&Fr(P,ae),Q}for(re=o(P,re);ae<O.length;ae++)Ye=V(re,P,ae,O[ae],B),Ye!==null&&(e&&Ye.alternate!==null&&re.delete(Ye.key===null?ae:Ye.key),S=f(Ye,S,ae),te===null?Q=Ye:te.sibling=Ye,te=Ye);return e&&re.forEach(function(Pr){return t(P,Pr)}),Te&&Fr(P,ae),Q}function Y(P,S,O,B){var Q=ie(O);if(typeof Q!="function")throw Error(s(150));if(O=Q.call(O),O==null)throw Error(s(151));for(var te=Q=null,re=S,ae=S=0,Ye=null,ve=O.next();re!==null&&!ve.done;ae++,ve=O.next()){re.index>ae?(Ye=re,re=null):Ye=re.sibling;var Pr=$(P,re,ve.value,B);if(Pr===null){re===null&&(re=Ye);break}e&&re&&Pr.alternate===null&&t(P,re),S=f(Pr,S,ae),te===null?Q=Pr:te.sibling=Pr,te=Pr,re=Ye}if(ve.done)return i(P,re),Te&&Fr(P,ae),Q;if(re===null){for(;!ve.done;ae++,ve=O.next())ve=M(P,ve.value,B),ve!==null&&(S=f(ve,S,ae),te===null?Q=ve:te.sibling=ve,te=ve);return Te&&Fr(P,ae),Q}for(re=o(P,re);!ve.done;ae++,ve=O.next())ve=V(re,P,ae,ve.value,B),ve!==null&&(e&&ve.alternate!==null&&re.delete(ve.key===null?ae:ve.key),S=f(ve,S,ae),te===null?Q=ve:te.sibling=ve,te=ve);return e&&re.forEach(function(Jp){return t(P,Jp)}),Te&&Fr(P,ae),Q}function ze(P,S,O,B){if(typeof O=="object"&&O!==null&&O.type===W&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case F:e:{for(var Q=O.key,te=S;te!==null;){if(te.key===Q){if(Q=O.type,Q===W){if(te.tag===7){i(P,te.sibling),S=d(te,O.props.children),S.return=P,P=S;break e}}else if(te.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ct&&Bc(Q)===te.type){i(P,te.sibling),S=d(te,O.props),S.ref=xs(P,te,O),S.return=P,P=S;break e}i(P,te);break}else t(P,te);te=te.sibling}O.type===W?(S=Yr(O.props.children,P.mode,B,O.key),S.return=P,P=S):(B=ea(O.type,O.key,O.props,null,P.mode,B),B.ref=xs(P,S,O),B.return=P,P=B)}return g(P);case H:e:{for(te=O.key;S!==null;){if(S.key===te)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){i(P,S.sibling),S=d(S,O.children||[]),S.return=P,P=S;break e}else{i(P,S);break}else t(P,S);S=S.sibling}S=go(O,P.mode,B),S.return=P,P=S}return g(P);case ct:return te=O._init,ze(P,S,te(O._payload),B)}if(Kn(O))return G(P,S,O,B);if(ie(O))return Y(P,S,O,B);Pi(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(i(P,S.sibling),S=d(S,O),S.return=P,P=S):(i(P,S),S=po(O,P.mode,B),S.return=P,P=S),g(P)):i(P,S)}return ze}var jn=Fc(!0),qc=Fc(!1),Ri=yr(null),Oi=null,bn=null,Nl=null;function Sl(){Nl=bn=Oi=null}function kl(e){var t=Ri.current;Ee(Ri),e._currentValue=t}function El(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Nn(e,t){Oi=e,Nl=bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ft=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},bn===null){if(Oi===null)throw Error(s(308));bn=e,Oi.dependencies={lanes:0,firstContext:e}}else bn=bn.next=e;return t}var qr=null;function Cl(e){qr===null?qr=[e]:qr.push(e)}function Wc(e,t,i,o){var d=t.interleaved;return d===null?(i.next=i,Cl(t)):(i.next=d.next,d.next=i),t.interleaved=i,sr(e,o)}function sr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jr=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function br(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(fe&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,sr(e,i)}return d=o.interleaved,d===null?(t.next=t,Cl(o)):(t.next=d.next,d.next=t),o.interleaved=t,sr(e,i)}function Ai(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qa(e,i)}}function Hc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ii(e,t,i,o){var d=e.updateQueue;jr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,y=d.shared.pending;if(y!==null){d.shared.pending=null;var j=y,A=j.next;j.next=null,g===null?f=A:g.next=A,g=j;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==g&&(y===null?z.firstBaseUpdate=A:y.next=A,z.lastBaseUpdate=j))}if(f!==null){var M=d.baseState;g=0,z=A=j=null,y=f;do{var $=y.lane,V=y.eventTime;if((o&$)===$){z!==null&&(z=z.next={eventTime:V,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var G=e,Y=y;switch($=t,V=i,Y.tag){case 1:if(G=Y.payload,typeof G=="function"){M=G.call(V,M,$);break e}M=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Y.payload,$=typeof G=="function"?G.call(V,M,$):G,$==null)break e;M=J({},M,$);break e;case 2:jr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,$=d.effects,$===null?d.effects=[y]:$.push(y))}else V={eventTime:V,lane:$,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(A=z=V,j=M):z=z.next=V,g|=$;if(y=y.next,y===null){if(y=d.shared.pending,y===null)break;$=y,y=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(z===null&&(j=M),d.baseState=j,d.firstBaseUpdate=A,d.lastBaseUpdate=z,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Hr|=g,e.lanes=g,e.memoizedState=M}}function Kc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(s(191,d));d.call(o)}}}var ys={},Gt=yr(ys),ws=yr(ys),_s=yr(ys);function Wr(e){if(e===ys)throw Error(s(174));return e}function Pl(e,t){switch(be(_s,t),be(ws,e),be(Gt,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ra(t,e)}Ee(Gt),be(Gt,t)}function Sn(){Ee(Gt),Ee(ws),Ee(_s)}function Jc(e){Wr(_s.current);var t=Wr(Gt.current),i=Ra(t,e.type);t!==i&&(be(ws,e),be(Gt,i))}function Rl(e){ws.current===e&&(Ee(Gt),Ee(ws))}var Pe=yr(0);function Di(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ol=[];function Al(){for(var e=0;e<Ol.length;e++)Ol[e]._workInProgressVersionPrimary=null;Ol.length=0}var Ui=R.ReactCurrentDispatcher,Il=R.ReactCurrentBatchConfig,Vr=0,Re=null,qe=null,Je=null,$i=!1,js=!1,bs=0,gp=0;function st(){throw Error(s(321))}function Dl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Dt(e[i],t[i]))return!1;return!0}function Ul(e,t,i,o,d,f){if(Vr=f,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ui.current=e===null||e.memoizedState===null?wp:_p,e=i(o,d),js){f=0;do{if(js=!1,bs=0,25<=f)throw Error(s(301));f+=1,Je=qe=null,t.updateQueue=null,Ui.current=jp,e=i(o,d)}while(js)}if(Ui.current=Mi,t=qe!==null&&qe.next!==null,Vr=0,Je=qe=Re=null,$i=!1,t)throw Error(s(300));return e}function $l(){var e=bs!==0;return bs=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Re.memoizedState=Je=e:Je=Je.next=e,Je}function Tt(){if(qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Je===null?Re.memoizedState:Je.next;if(t!==null)Je=t,qe=e;else{if(e===null)throw Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?Re.memoizedState=Je=e:Je=Je.next=e}return Je}function Ns(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=qe,d=o.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}o.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,o=o.baseState;var y=g=null,j=null,A=f;do{var z=A.lane;if((Vr&z)===z)j!==null&&(j=j.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),o=A.hasEagerState?A.eagerState:e(o,A.action);else{var M={lane:z,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};j===null?(y=j=M,g=o):j=j.next=M,Re.lanes|=z,Hr|=z}A=A.next}while(A!==null&&A!==f);j===null?g=o:j.next=y,Dt(o,t.memoizedState)||(ft=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=j,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Re.lanes|=f,Hr|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function zl(e){var t=Tt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);Dt(f,t.memoizedState)||(ft=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Gc(){}function Yc(e,t){var i=Re,o=Tt(),d=t(),f=!Dt(o.memoizedState,d);if(f&&(o.memoizedState=d,ft=!0),o=o.queue,Ml(Zc.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,Ss(9,Xc.bind(null,i,o,d,t),void 0,null),Ge===null)throw Error(s(349));(Vr&30)!==0||Qc(i,t,d)}return d}function Qc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Xc(e,t,i,o){t.value=i,t.getSnapshot=o,ed(t)&&td(e)}function Zc(e,t,i){return i(function(){ed(t)&&td(e)})}function ed(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Dt(e,i)}catch{return!0}}function td(e){var t=sr(e,1);t!==null&&Mt(t,e,1,-1)}function rd(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,Re,e),[t.memoizedState,e]}function Ss(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function nd(){return Tt().memoizedState}function Li(e,t,i,o){var d=Yt();Re.flags|=e,d.memoizedState=Ss(1|t,i,void 0,o===void 0?null:o)}function zi(e,t,i,o){var d=Tt();o=o===void 0?null:o;var f=void 0;if(qe!==null){var g=qe.memoizedState;if(f=g.destroy,o!==null&&Dl(o,g.deps)){d.memoizedState=Ss(t,i,f,o);return}}Re.flags|=e,d.memoizedState=Ss(1|t,i,f,o)}function sd(e,t){return Li(8390656,8,e,t)}function Ml(e,t){return zi(2048,8,e,t)}function id(e,t){return zi(4,2,e,t)}function ad(e,t){return zi(4,4,e,t)}function ld(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,i){return i=i!=null?i.concat([e]):null,zi(4,4,ld.bind(null,t,e),i)}function Bl(){}function ud(e,t){var i=Tt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Dl(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function cd(e,t){var i=Tt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Dl(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function dd(e,t,i){return(Vr&21)===0?(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=i):(Dt(i,t)||(i=Bu(),Re.lanes|=i,Hr|=i,e.baseState=!0),t)}function vp(e,t){var i=we;we=i!==0&&4>i?i:4,e(!0);var o=Il.transition;Il.transition={};try{e(!1),t()}finally{we=i,Il.transition=o}}function hd(){return Tt().memoizedState}function xp(e,t,i){var o=Er(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},fd(e))md(t,i);else if(i=Wc(e,t,i,o),i!==null){var d=ut();Mt(i,e,o,d),pd(i,t,o)}}function yp(e,t,i){var o=Er(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(fd(e))md(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,y=f(g,i);if(d.hasEagerState=!0,d.eagerState=y,Dt(y,g)){var j=t.interleaved;j===null?(d.next=d,Cl(t)):(d.next=j.next,j.next=d),t.interleaved=d;return}}catch{}finally{}i=Wc(e,t,d,o),i!==null&&(d=ut(),Mt(i,e,o,d),pd(i,t,o))}}function fd(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function md(e,t){js=$i=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function pd(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,qa(e,i)}}var Mi={readContext:Ct,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},wp={readContext:Ct,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:sd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Li(4194308,4,ld.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var i=Yt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Yt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=xp.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:rd,useDebugValue:Bl,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=rd(!1),t=e[0];return e=vp.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Re,d=Yt();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Ge===null)throw Error(s(349));(Vr&30)!==0||Qc(o,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,sd(Zc.bind(null,o,f,e),[e]),o.flags|=2048,Ss(9,Xc.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Yt(),t=Ge.identifierPrefix;if(Te){var i=nr,o=rr;i=(o&~(1<<32-It(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=bs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=gp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_p={readContext:Ct,useCallback:ud,useContext:Ct,useEffect:Ml,useImperativeHandle:od,useInsertionEffect:id,useLayoutEffect:ad,useMemo:cd,useReducer:Ll,useRef:nd,useState:function(){return Ll(Ns)},useDebugValue:Bl,useDeferredValue:function(e){var t=Tt();return dd(t,qe.memoizedState,e)},useTransition:function(){var e=Ll(Ns)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Gc,useSyncExternalStore:Yc,useId:hd,unstable_isNewReconciler:!1},jp={readContext:Ct,useCallback:ud,useContext:Ct,useEffect:Ml,useImperativeHandle:od,useInsertionEffect:id,useLayoutEffect:ad,useMemo:cd,useReducer:zl,useRef:nd,useState:function(){return zl(Ns)},useDebugValue:Bl,useDeferredValue:function(e){var t=Tt();return qe===null?t.memoizedState=e:dd(t,qe.memoizedState,e)},useTransition:function(){var e=zl(Ns)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Gc,useSyncExternalStore:Yc,useId:hd,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Fl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:J({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=ut(),d=Er(e),f=ir(o,d);f.payload=t,i!=null&&(f.callback=i),t=br(e,f,d),t!==null&&(Mt(t,e,d,o),Ai(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=ut(),d=Er(e),f=ir(o,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=br(e,f,d),t!==null&&(Mt(t,e,d,o),Ai(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ut(),o=Er(e),d=ir(i,o);d.tag=2,t!=null&&(d.callback=t),t=br(e,d,o),t!==null&&(Mt(t,e,o,i),Ai(t,e,o))}};function gd(e,t,i,o,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!ds(i,o)||!ds(d,f):!0}function vd(e,t,i){var o=!1,d=wr,f=t.contextType;return typeof f=="object"&&f!==null?f=Ct(f):(d=ht(t)?Mr:nt.current,o=t.contextTypes,f=(o=o!=null)?xn(e,d):wr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function xd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function ql(e,t,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},Tl(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Ct(f):(f=ht(t)?Mr:nt.current,d.context=xn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Fl(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Bi.enqueueReplaceState(d,d.state,null),Ii(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function kn(e,t){try{var i="",o=t;do i+=pe(o),o=o.return;while(o);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Wl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Vl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function yd(e,t,i){i=ir(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Ji||(Ji=!0,ao=o),Vl(e,t)},i}function wd(e,t,i){i=ir(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;i.payload=function(){return o(d)},i.callback=function(){Vl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Vl(e,t),typeof o!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function _d(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new bp;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(i)||(d.add(i),e=$p.bind(null,e,t,i),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,i,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ir(-1,1),t.tag=2,br(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Np=R.ReactCurrentOwner,ft=!1;function ot(e,t,i,o){t.child=e===null?qc(t,null,i,o):jn(t,e.child,i,o)}function Nd(e,t,i,o,d){i=i.render;var f=t.ref;return Nn(t,d),o=Ul(e,t,i,o,f,d),i=$l(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ar(e,t,d)):(Te&&i&&yl(t),t.flags|=1,ot(e,t,o,d),t.child)}function Sd(e,t,i,o,d){if(e===null){var f=i.type;return typeof f=="function"&&!mo(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,kd(e,t,f,o,d)):(e=ea(i.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ds,i(g,o)&&e.ref===t.ref)return ar(e,t,d)}return t.flags|=1,e=Tr(f,o),e.ref=t.ref,e.return=t,t.child=e}function kd(e,t,i,o,d){if(e!==null){var f=e.memoizedProps;if(ds(f,o)&&e.ref===t.ref)if(ft=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,ar(e,t,d)}return Hl(e,t,i,o,d)}function Ed(e,t,i){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Cn,_t),_t|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(Cn,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,be(Cn,_t),_t|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,be(Cn,_t),_t|=o;return ot(e,t,d,i),t.child}function Cd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Hl(e,t,i,o,d){var f=ht(i)?Mr:nt.current;return f=xn(t,f),Nn(t,d),i=Ul(e,t,i,o,f,d),o=$l(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ar(e,t,d)):(Te&&o&&yl(t),t.flags|=1,ot(e,t,i,d),t.child)}function Td(e,t,i,o,d){if(ht(i)){var f=!0;Si(t)}else f=!1;if(Nn(t,d),t.stateNode===null)qi(e,t),vd(t,i,o),ql(t,i,o,d),o=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var j=g.context,A=i.contextType;typeof A=="object"&&A!==null?A=Ct(A):(A=ht(i)?Mr:nt.current,A=xn(t,A));var z=i.getDerivedStateFromProps,M=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function";M||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==o||j!==A)&&xd(t,g,o,A),jr=!1;var $=t.memoizedState;g.state=$,Ii(t,o,g,d),j=t.memoizedState,y!==o||$!==j||dt.current||jr?(typeof z=="function"&&(Fl(t,i,z,o),j=t.memoizedState),(y=jr||gd(t,i,y,o,$,j,A))?(M||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),g.props=o,g.state=j,g.context=A,o=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Vc(e,t),y=t.memoizedProps,A=t.type===t.elementType?y:$t(t.type,y),g.props=A,M=t.pendingProps,$=g.context,j=i.contextType,typeof j=="object"&&j!==null?j=Ct(j):(j=ht(i)?Mr:nt.current,j=xn(t,j));var V=i.getDerivedStateFromProps;(z=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==M||$!==j)&&xd(t,g,o,j),jr=!1,$=t.memoizedState,g.state=$,Ii(t,o,g,d);var G=t.memoizedState;y!==M||$!==G||dt.current||jr?(typeof V=="function"&&(Fl(t,i,V,o),G=t.memoizedState),(A=jr||gd(t,i,A,o,$,G,j)||!1)?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,G,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,G,j)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=G),g.props=o,g.state=G,g.context=j,o=A):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return Kl(e,t,i,o,f,d)}function Kl(e,t,i,o,d,f){Cd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&Ic(t,i,!1),ar(e,t,f);o=t.stateNode,Np.current=t;var y=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=jn(t,e.child,null,f),t.child=jn(t,null,y,f)):ot(e,t,y,f),t.memoizedState=o.state,d&&Ic(t,i,!0),t.child}function Pd(e){var t=e.stateNode;t.pendingContext?Oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oc(e,t.context,!1),Pl(e,t.containerInfo)}function Rd(e,t,i,o,d){return _n(),bl(d),t.flags|=256,ot(e,t,i,o),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,t,i){var o=t.pendingProps,d=Pe.current,f=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(d&2)!==0),y?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),be(Pe,d&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ta(g,o,0,null),e=Yr(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Gl(i),t.memoizedState=Jl,e):Yl(t,g));if(d=e.memoizedState,d!==null&&(y=d.dehydrated,y!==null))return Sp(e,t,g,o,y,d,i);if(f){f=o.fallback,g=t.mode,d=e.child,y=d.sibling;var j={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=j,t.deletions=null):(o=Tr(d,j),o.subtreeFlags=d.subtreeFlags&14680064),y!==null?f=Tr(y,f):(f=Yr(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?Gl(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Jl,o}return f=e.child,e=f.sibling,o=Tr(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Yl(e,t){return t=ta({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,i,o){return o!==null&&bl(o),jn(t,e.child,null,i),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,i,o,d,f,g){if(i)return t.flags&256?(t.flags&=-257,o=Wl(Error(s(422))),Fi(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=ta({mode:"visible",children:o.children},d,0,null),f=Yr(f,d,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&jn(t,e.child,null,g),t.child.memoizedState=Gl(g),t.memoizedState=Jl,f);if((t.mode&1)===0)return Fi(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var y=o.dgst;return o=y,f=Error(s(419)),o=Wl(f,o,void 0),Fi(e,t,g,o)}if(y=(g&e.childLanes)!==0,ft||y){if(o=Ge,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,sr(e,d),Mt(o,e,d,-1))}return fo(),o=Wl(Error(s(421))),Fi(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Lp.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,wt=xr(d.nextSibling),yt=t,Te=!0,Ut=null,e!==null&&(kt[Et++]=rr,kt[Et++]=nr,kt[Et++]=Br,rr=e.id,nr=e.overflow,Br=t),t=Yl(t,o.children),t.flags|=4096,t)}function Ad(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),El(e.return,t,i)}function Ql(e,t,i,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=d)}function Id(e,t,i){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(ot(e,t,o.children,i),o=Pe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,i,t);else if(e.tag===19)Ad(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(be(Pe,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&Di(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Ql(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Di(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Ql(t,!0,i,null,f);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Tr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Tr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function kp(e,t,i){switch(t.tag){case 3:Pd(t),_n();break;case 5:Jc(t);break;case 1:ht(t.type)&&Si(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;be(Ri,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(be(Pe,Pe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Od(e,t,i):(be(Pe,Pe.current&1),e=ar(e,t,i),e!==null?e.sibling:null);be(Pe,Pe.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Id(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),be(Pe,Pe.current),o)break;return null;case 22:case 23:return t.lanes=0,Ed(e,t,i)}return ar(e,t,i)}var Dd,Xl,Ud,$d;Dd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xl=function(){},Ud=function(e,t,i,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Wr(Gt.current);var f=null;switch(i){case"input":d=Ea(e,d),o=Ea(e,o),f=[];break;case"select":d=J({},d,{value:void 0}),o=J({},o,{value:void 0}),f=[];break;case"textarea":d=Pa(e,d),o=Pa(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ji)}Oa(i,o);var g;i=null;for(A in d)if(!o.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var y=d[A];for(g in y)y.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(u.hasOwnProperty(A)?f||(f=[]):(f=f||[]).push(A,null));for(A in o){var j=o[A];if(y=d!=null?d[A]:void 0,o.hasOwnProperty(A)&&j!==y&&(j!=null||y!=null))if(A==="style")if(y){for(g in y)!y.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in j)j.hasOwnProperty(g)&&y[g]!==j[g]&&(i||(i={}),i[g]=j[g])}else i||(f||(f=[]),f.push(A,i)),i=j;else A==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,y=y?y.__html:void 0,j!=null&&y!==j&&(f=f||[]).push(A,j)):A==="children"?typeof j!="string"&&typeof j!="number"||(f=f||[]).push(A,""+j):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(u.hasOwnProperty(A)?(j!=null&&A==="onScroll"&&ke("scroll",e),f||y===j||(f=[])):(f=f||[]).push(A,j))}i&&(f=f||[]).push("style",i);var A=f;(t.updateQueue=A)&&(t.flags|=4)}},$d=function(e,t,i,o){i!==o&&(t.flags|=4)};function ks(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Ep(e,t,i){var o=t.pendingProps;switch(wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return ht(t.type)&&Ni(),it(t),null;case 3:return o=t.stateNode,Sn(),Ee(dt),Ee(nt),Al(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ut!==null&&(uo(Ut),Ut=null))),Xl(e,t),it(t),null;case 5:Rl(t);var d=Wr(_s.current);if(i=t.type,e!==null&&t.stateNode!=null)Ud(e,t,i,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return it(t),null}if(e=Wr(Gt.current),Ti(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Jt]=t,o[gs]=f,e=(t.mode&1)!==0,i){case"dialog":ke("cancel",o),ke("close",o);break;case"iframe":case"object":case"embed":ke("load",o);break;case"video":case"audio":for(d=0;d<fs.length;d++)ke(fs[d],o);break;case"source":ke("error",o);break;case"img":case"image":case"link":ke("error",o),ke("load",o);break;case"details":ke("toggle",o);break;case"input":vu(o,f),ke("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},ke("invalid",o);break;case"textarea":wu(o,f),ke("invalid",o)}Oa(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var y=f[g];g==="children"?typeof y=="string"?o.textContent!==y&&(f.suppressHydrationWarning!==!0&&_i(o.textContent,y,e),d=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&_i(o.textContent,y,e),d=["children",""+y]):u.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&ke("scroll",o)}switch(i){case"input":Xs(o),yu(o,f,!0);break;case"textarea":Xs(o),ju(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=ji)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Jt]=t,e[gs]=o,Dd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Aa(i,o),i){case"dialog":ke("cancel",e),ke("close",e),d=o;break;case"iframe":case"object":case"embed":ke("load",e),d=o;break;case"video":case"audio":for(d=0;d<fs.length;d++)ke(fs[d],e);d=o;break;case"source":ke("error",e),d=o;break;case"img":case"image":case"link":ke("error",e),ke("load",e),d=o;break;case"details":ke("toggle",e),d=o;break;case"input":vu(e,o),d=Ea(e,o),ke("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=J({},o,{value:void 0}),ke("invalid",e);break;case"textarea":wu(e,o),d=Pa(e,o),ke("invalid",e);break;default:d=o}Oa(i,d),y=d;for(f in y)if(y.hasOwnProperty(f)){var j=y[f];f==="style"?ku(e,j):f==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Nu(e,j)):f==="children"?typeof j=="string"?(i!=="textarea"||j!=="")&&Jn(e,j):typeof j=="number"&&Jn(e,""+j):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?j!=null&&f==="onScroll"&&ke("scroll",e):j!=null&&U(e,f,j,g))}switch(i){case"input":Xs(e),yu(e,o,!1);break;case"textarea":Xs(e),ju(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ye(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?an(e,!!o.multiple,f,!1):o.defaultValue!=null&&an(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=ji)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)$d(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(i=Wr(_s.current),Wr(Gt.current),Ti(t)){if(o=t.stateNode,i=t.memoizedProps,o[Jt]=t,(f=o.nodeValue!==i)&&(e=yt,e!==null))switch(e.tag){case 3:_i(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_i(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Jt]=t,t.stateNode=o}return it(t),null;case 13:if(Ee(Pe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mc(),_n(),t.flags|=98560,f=!1;else if(f=Ti(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Jt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),f=!1}else Ut!==null&&(uo(Ut),Ut=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Pe.current&1)!==0?We===0&&(We=3):fo())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Sn(),Xl(e,t),e===null&&ms(t.stateNode.containerInfo),it(t),null;case 10:return kl(t.type._context),it(t),null;case 17:return ht(t.type)&&Ni(),it(t),null;case 19:if(Ee(Pe),f=t.memoizedState,f===null)return it(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)ks(f,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Di(e),g!==null){for(t.flags|=128,ks(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return be(Pe,Pe.current&1|2),t.child}e=e.sibling}f.tail!==null&&Le()>Tn&&(t.flags|=128,o=!0,ks(f,!1),t.lanes=4194304)}else{if(!o)if(e=Di(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),ks(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Te)return it(t),null}else 2*Le()-f.renderingStartTime>Tn&&i!==1073741824&&(t.flags|=128,o=!0,ks(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Le(),t.sibling=null,i=Pe.current,be(Pe,o?i&1|2:i&1),t):(it(t),null);case 22:case 23:return ho(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(_t&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Cp(e,t){switch(wl(t),t.tag){case 1:return ht(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(),Ee(dt),Ee(nt),Al(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(Ee(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Pe),null;case 4:return Sn(),null;case 10:return kl(t.type._context),null;case 22:case 23:return ho(),null;case 24:return null;default:return null}}var Wi=!1,at=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,K=null;function En(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ie(e,t,o)}else i.current=null}function Zl(e,t,i){try{i()}catch(o){Ie(e,t,o)}}var Ld=!1;function Pp(e,t){if(dl=ci,e=gc(),nl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,y=-1,j=-1,A=0,z=0,M=e,$=null;t:for(;;){for(var V;M!==i||d!==0&&M.nodeType!==3||(y=g+d),M!==f||o!==0&&M.nodeType!==3||(j=g+o),M.nodeType===3&&(g+=M.nodeValue.length),(V=M.firstChild)!==null;)$=M,M=V;for(;;){if(M===e)break t;if($===i&&++A===d&&(y=g),$===f&&++z===o&&(j=g),(V=M.nextSibling)!==null)break;M=$,$=M.parentNode}M=V}i=y===-1||j===-1?null:{start:y,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(hl={focusedElem:e,selectionRange:i},ci=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var G=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var Y=G.memoizedProps,ze=G.memoizedState,P=t.stateNode,S=P.getSnapshotBeforeUpdate(t.elementType===t.type?Y:$t(t.type,Y),ze);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(B){Ie(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return G=Ld,Ld=!1,G}function Es(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Zl(t,i,f)}d=d.next}while(d!==o)}}function Vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function eo(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function zd(e){var t=e.alternate;t!==null&&(e.alternate=null,zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[gs],delete t[gl],delete t[hp],delete t[fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function to(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ji));else if(o!==4&&(e=e.child,e!==null))for(to(e,t,i),e=e.sibling;e!==null;)to(e,t,i),e=e.sibling}function ro(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ro(e,t,i),e=e.sibling;e!==null;)ro(e,t,i),e=e.sibling}var Qe=null,Lt=!1;function Nr(e,t,i){for(i=i.child;i!==null;)Fd(e,t,i),i=i.sibling}function Fd(e,t,i){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 5:at||En(i,t);case 6:var o=Qe,d=Lt;Qe=null,Nr(e,t,i),Qe=o,Lt=d,Qe!==null&&(Lt?(e=Qe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Qe.removeChild(i.stateNode));break;case 18:Qe!==null&&(Lt?(e=Qe,i=i.stateNode,e.nodeType===8?pl(e.parentNode,i):e.nodeType===1&&pl(e,i),is(e)):pl(Qe,i.stateNode));break;case 4:o=Qe,d=Lt,Qe=i.stateNode.containerInfo,Lt=!0,Nr(e,t,i),Qe=o,Lt=d;break;case 0:case 11:case 14:case 15:if(!at&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Zl(i,t,g),d=d.next}while(d!==o)}Nr(e,t,i);break;case 1:if(!at&&(En(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(y){Ie(i,t,y)}Nr(e,t,i);break;case 21:Nr(e,t,i);break;case 22:i.mode&1?(at=(o=at)||i.memoizedState!==null,Nr(e,t,i),at=o):Nr(e,t,i);break;default:Nr(e,t,i)}}function qd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Tp),t.forEach(function(o){var d=zp.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function zt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var f=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:Qe=y.stateNode,Lt=!1;break e;case 3:Qe=y.stateNode.containerInfo,Lt=!0;break e;case 4:Qe=y.stateNode.containerInfo,Lt=!0;break e}y=y.return}if(Qe===null)throw Error(s(160));Fd(f,g,d),Qe=null,Lt=!1;var j=d.alternate;j!==null&&(j.return=null),d.return=null}catch(A){Ie(d,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wd(t,e),t=t.sibling}function Wd(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Qt(e),o&4){try{Es(3,e,e.return),Vi(3,e)}catch(Y){Ie(e,e.return,Y)}try{Es(5,e,e.return)}catch(Y){Ie(e,e.return,Y)}}break;case 1:zt(t,e),Qt(e),o&512&&i!==null&&En(i,i.return);break;case 5:if(zt(t,e),Qt(e),o&512&&i!==null&&En(i,i.return),e.flags&32){var d=e.stateNode;try{Jn(d,"")}catch(Y){Ie(e,e.return,Y)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,y=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&xu(d,f),Aa(y,g);var A=Aa(y,f);for(g=0;g<j.length;g+=2){var z=j[g],M=j[g+1];z==="style"?ku(d,M):z==="dangerouslySetInnerHTML"?Nu(d,M):z==="children"?Jn(d,M):U(d,z,M,A)}switch(y){case"input":Ca(d,f);break;case"textarea":_u(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?an(d,!!f.multiple,V,!1):$!==!!f.multiple&&(f.defaultValue!=null?an(d,!!f.multiple,f.defaultValue,!0):an(d,!!f.multiple,f.multiple?[]:"",!1))}d[gs]=f}catch(Y){Ie(e,e.return,Y)}}break;case 6:if(zt(t,e),Qt(e),o&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Y){Ie(e,e.return,Y)}}break;case 3:if(zt(t,e),Qt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(Y){Ie(e,e.return,Y)}break;case 4:zt(t,e),Qt(e);break;case 13:zt(t,e),Qt(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(io=Le())),o&4&&qd(e);break;case 22:if(z=i!==null&&i.memoizedState!==null,e.mode&1?(at=(A=at)||z,zt(t,e),at=A):zt(t,e),Qt(e),o&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!z&&(e.mode&1)!==0)for(K=e,z=e.child;z!==null;){for(M=K=z;K!==null;){switch($=K,V=$.child,$.tag){case 0:case 11:case 14:case 15:Es(4,$,$.return);break;case 1:En($,$.return);var G=$.stateNode;if(typeof G.componentWillUnmount=="function"){o=$,i=$.return;try{t=o,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(Y){Ie(o,i,Y)}}break;case 5:En($,$.return);break;case 22:if($.memoizedState!==null){Kd(M);continue}}V!==null?(V.return=$,K=V):Kd(M)}z=z.sibling}e:for(z=null,M=e;;){if(M.tag===5){if(z===null){z=M;try{d=M.stateNode,A?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=M.stateNode,j=M.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,y.style.display=Su("display",g))}catch(Y){Ie(e,e.return,Y)}}}else if(M.tag===6){if(z===null)try{M.stateNode.nodeValue=A?"":M.memoizedProps}catch(Y){Ie(e,e.return,Y)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;z===M&&(z=null),M=M.return}z===M&&(z=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:zt(t,e),Qt(e),o&4&&qd(e);break;case 21:break;default:zt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Md(i)){var o=i;break e}i=i.return}throw Error(s(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Jn(d,""),o.flags&=-33);var f=Bd(e);ro(e,f,d);break;case 3:case 4:var g=o.stateNode.containerInfo,y=Bd(e);to(e,y,g);break;default:throw Error(s(161))}}catch(j){Ie(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rp(e,t,i){K=e,Vd(e)}function Vd(e,t,i){for(var o=(e.mode&1)!==0;K!==null;){var d=K,f=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Wi;if(!g){var y=d.alternate,j=y!==null&&y.memoizedState!==null||at;y=Wi;var A=at;if(Wi=g,(at=j)&&!A)for(K=d;K!==null;)g=K,j=g.child,g.tag===22&&g.memoizedState!==null?Jd(d):j!==null?(j.return=g,K=j):Jd(d);for(;f!==null;)K=f,Vd(f),f=f.sibling;K=d,Wi=y,at=A}Hd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,K=f):Hd(e)}}function Hd(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:at||Vi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!at)if(i===null)o.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:$t(t.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Kc(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Kc(t,g,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&i.focus();break;case"img":j.src&&(i.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var z=A.memoizedState;if(z!==null){var M=z.dehydrated;M!==null&&is(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}at||t.flags&512&&eo(t)}catch($){Ie(t,t.return,$)}}if(t===e){K=null;break}if(i=t.sibling,i!==null){i.return=t.return,K=i;break}K=t.return}}function Kd(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var i=t.sibling;if(i!==null){i.return=t.return,K=i;break}K=t.return}}function Jd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Vi(4,t)}catch(j){Ie(t,i,j)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(j){Ie(t,d,j)}}var f=t.return;try{eo(t)}catch(j){Ie(t,f,j)}break;case 5:var g=t.return;try{eo(t)}catch(j){Ie(t,g,j)}}}catch(j){Ie(t,t.return,j)}if(t===e){K=null;break}var y=t.sibling;if(y!==null){y.return=t.return,K=y;break}K=t.return}}var Op=Math.ceil,Hi=R.ReactCurrentDispatcher,no=R.ReactCurrentOwner,Pt=R.ReactCurrentBatchConfig,fe=0,Ge=null,Be=null,Xe=0,_t=0,Cn=yr(0),We=0,Cs=null,Hr=0,Ki=0,so=0,Ts=null,mt=null,io=0,Tn=1/0,lr=null,Ji=!1,ao=null,Sr=null,Gi=!1,kr=null,Yi=0,Ps=0,lo=null,Qi=-1,Xi=0;function ut(){return(fe&6)!==0?Le():Qi!==-1?Qi:Qi=Le()}function Er(e){return(e.mode&1)===0?1:(fe&2)!==0&&Xe!==0?Xe&-Xe:pp.transition!==null?(Xi===0&&(Xi=Bu()),Xi):(e=we,e!==0||(e=window.event,e=e===void 0?16:Yu(e.type)),e)}function Mt(e,t,i,o){if(50<Ps)throw Ps=0,lo=null,Error(s(185));es(e,i,o),((fe&2)===0||e!==Ge)&&(e===Ge&&((fe&2)===0&&(Ki|=i),We===4&&Cr(e,Xe)),pt(e,o),i===1&&fe===0&&(t.mode&1)===0&&(Tn=Le()+500,ki&&_r()))}function pt(e,t){var i=e.callbackNode;pm(e,t);var o=li(e,e===Ge?Xe:0);if(o===0)i!==null&&Lu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Lu(i),t===1)e.tag===0?mp(Yd.bind(null,e)):Dc(Yd.bind(null,e)),cp(function(){(fe&6)===0&&_r()}),i=null;else{switch(Fu(o)){case 1:i=Ma;break;case 4:i=zu;break;case 16:i=ni;break;case 536870912:i=Mu;break;default:i=ni}i=sh(i,Gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Gd(e,t){if(Qi=-1,Xi=0,(fe&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Pn()&&e.callbackNode!==i)return null;var o=li(e,e===Ge?Xe:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Zi(e,o);else{t=o;var d=fe;fe|=2;var f=Xd();(Ge!==e||Xe!==t)&&(lr=null,Tn=Le()+500,Jr(e,t));do try{Dp();break}catch(y){Qd(e,y)}while(!0);Sl(),Hi.current=f,fe=d,Be!==null?t=0:(Ge=null,Xe=0,t=We)}if(t!==0){if(t===2&&(d=Ba(e),d!==0&&(o=d,t=oo(e,d))),t===1)throw i=Cs,Jr(e,0),Cr(e,o),pt(e,Le()),i;if(t===6)Cr(e,o);else{if(d=e.current.alternate,(o&30)===0&&!Ap(d)&&(t=Zi(e,o),t===2&&(f=Ba(e),f!==0&&(o=f,t=oo(e,f))),t===1))throw i=Cs,Jr(e,0),Cr(e,o),pt(e,Le()),i;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Gr(e,mt,lr);break;case 3:if(Cr(e,o),(o&130023424)===o&&(t=io+500-Le(),10<t)){if(li(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){ut(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ml(Gr.bind(null,e,mt,lr),t);break}Gr(e,mt,lr);break;case 4:if(Cr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-It(o);f=1<<g,g=t[g],g>d&&(d=g),o&=~f}if(o=d,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Op(o/1960))-o,10<o){e.timeoutHandle=ml(Gr.bind(null,e,mt,lr),o);break}Gr(e,mt,lr);break;case 5:Gr(e,mt,lr);break;default:throw Error(s(329))}}}return pt(e,Le()),e.callbackNode===i?Gd.bind(null,e):null}function oo(e,t){var i=Ts;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=mt,mt=i,t!==null&&uo(t)),e}function uo(e){mt===null?mt=e:mt.push.apply(mt,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],f=d.getSnapshot;d=d.value;try{if(!Dt(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~so,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-It(t),o=1<<i;e[i]=-1,t&=~o}}function Yd(e){if((fe&6)!==0)throw Error(s(327));Pn();var t=li(e,0);if((t&1)===0)return pt(e,Le()),null;var i=Zi(e,t);if(e.tag!==0&&i===2){var o=Ba(e);o!==0&&(t=o,i=oo(e,o))}if(i===1)throw i=Cs,Jr(e,0),Cr(e,t),pt(e,Le()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,mt,lr),pt(e,Le()),null}function co(e,t){var i=fe;fe|=1;try{return e(t)}finally{fe=i,fe===0&&(Tn=Le()+500,ki&&_r())}}function Kr(e){kr!==null&&kr.tag===0&&(fe&6)===0&&Pn();var t=fe;fe|=1;var i=Pt.transition,o=we;try{if(Pt.transition=null,we=1,e)return e()}finally{we=o,Pt.transition=i,fe=t,(fe&6)===0&&_r()}}function ho(){_t=Cn.current,Ee(Cn)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,up(i)),Be!==null)for(i=Be.return;i!==null;){var o=i;switch(wl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ni();break;case 3:Sn(),Ee(dt),Ee(nt),Al();break;case 5:Rl(o);break;case 4:Sn();break;case 13:Ee(Pe);break;case 19:Ee(Pe);break;case 10:kl(o.type._context);break;case 22:case 23:ho()}i=i.return}if(Ge=e,Be=e=Tr(e.current,null),Xe=_t=t,We=0,Cs=null,so=Ki=Hr=0,mt=Ts=null,qr!==null){for(t=0;t<qr.length;t++)if(i=qr[t],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,o.next=g}i.pending=o}qr=null}return e}function Qd(e,t){do{var i=Be;try{if(Sl(),Ui.current=Mi,$i){for(var o=Re.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}$i=!1}if(Vr=0,Je=qe=Re=null,js=!1,bs=0,no.current=null,i===null||i.return===null){We=1,Cs=t,Be=null;break}e:{var f=e,g=i.return,y=i,j=t;if(t=Xe,y.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var A=j,z=y,M=z.tag;if((z.mode&1)===0&&(M===0||M===11||M===15)){var $=z.alternate;$?(z.updateQueue=$.updateQueue,z.memoizedState=$.memoizedState,z.lanes=$.lanes):(z.updateQueue=null,z.memoizedState=null)}var V=jd(g);if(V!==null){V.flags&=-257,bd(V,g,y,f,t),V.mode&1&&_d(f,A,t),t=V,j=A;var G=t.updateQueue;if(G===null){var Y=new Set;Y.add(j),t.updateQueue=Y}else G.add(j);break e}else{if((t&1)===0){_d(f,A,t),fo();break e}j=Error(s(426))}}else if(Te&&y.mode&1){var ze=jd(g);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),bd(ze,g,y,f,t),bl(kn(j,y));break e}}f=j=kn(j,y),We!==4&&(We=2),Ts===null?Ts=[f]:Ts.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var P=yd(f,j,t);Hc(f,P);break e;case 1:y=j;var S=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Sr===null||!Sr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var B=wd(f,y,t);Hc(f,B);break e}}f=f.return}while(f!==null)}eh(i)}catch(Q){t=Q,Be===i&&i!==null&&(Be=i=i.return);continue}break}while(!0)}function Xd(){var e=Hi.current;return Hi.current=Mi,e===null?Mi:e}function fo(){(We===0||We===3||We===2)&&(We=4),Ge===null||(Hr&268435455)===0&&(Ki&268435455)===0||Cr(Ge,Xe)}function Zi(e,t){var i=fe;fe|=2;var o=Xd();(Ge!==e||Xe!==t)&&(lr=null,Jr(e,t));do try{Ip();break}catch(d){Qd(e,d)}while(!0);if(Sl(),fe=i,Hi.current=o,Be!==null)throw Error(s(261));return Ge=null,Xe=0,We}function Ip(){for(;Be!==null;)Zd(Be)}function Dp(){for(;Be!==null&&!am();)Zd(Be)}function Zd(e){var t=nh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?eh(e):Be=t,no.current=null}function eh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Ep(i,t,_t),i!==null){Be=i;return}}else{if(i=Cp(i,t),i!==null){i.flags&=32767,Be=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function Gr(e,t,i){var o=we,d=Pt.transition;try{Pt.transition=null,we=1,Up(e,t,i,o)}finally{Pt.transition=d,we=o}return null}function Up(e,t,i,o){do Pn();while(kr!==null);if((fe&6)!==0)throw Error(s(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(gm(e,f),e===Ge&&(Be=Ge=null,Xe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Gi||(Gi=!0,sh(ni,function(){return Pn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Pt.transition,Pt.transition=null;var g=we;we=1;var y=fe;fe|=4,no.current=null,Pp(e,i),Wd(i,e),rp(hl),ci=!!dl,hl=dl=null,e.current=i,Rp(i),lm(),fe=y,we=g,Pt.transition=f}else e.current=i;if(Gi&&(Gi=!1,kr=e,Yi=d),f=e.pendingLanes,f===0&&(Sr=null),cm(i.stateNode),pt(e,Le()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(Ji)throw Ji=!1,e=ao,ao=null,e;return(Yi&1)!==0&&e.tag!==0&&Pn(),f=e.pendingLanes,(f&1)!==0?e===lo?Ps++:(Ps=0,lo=e):Ps=0,_r(),null}function Pn(){if(kr!==null){var e=Fu(Yi),t=Pt.transition,i=we;try{if(Pt.transition=null,we=16>e?16:e,kr===null)var o=!1;else{if(e=kr,kr=null,Yi=0,(fe&6)!==0)throw Error(s(331));var d=fe;for(fe|=4,K=e.current;K!==null;){var f=K,g=f.child;if((K.flags&16)!==0){var y=f.deletions;if(y!==null){for(var j=0;j<y.length;j++){var A=y[j];for(K=A;K!==null;){var z=K;switch(z.tag){case 0:case 11:case 15:Es(8,z,f)}var M=z.child;if(M!==null)M.return=z,K=M;else for(;K!==null;){z=K;var $=z.sibling,V=z.return;if(zd(z),z===A){K=null;break}if($!==null){$.return=V,K=$;break}K=V}}}var G=f.alternate;if(G!==null){var Y=G.child;if(Y!==null){G.child=null;do{var ze=Y.sibling;Y.sibling=null,Y=ze}while(Y!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,K=g;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Es(9,f,f.return)}var P=f.sibling;if(P!==null){P.return=f.return,K=P;break e}K=f.return}}var S=e.current;for(K=S;K!==null;){g=K;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,K=O;else e:for(g=S;K!==null;){if(y=K,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Vi(9,y)}}catch(Q){Ie(y,y.return,Q)}if(y===g){K=null;break e}var B=y.sibling;if(B!==null){B.return=y.return,K=B;break e}K=y.return}}if(fe=d,_r(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(si,e)}catch{}o=!0}return o}finally{we=i,Pt.transition=t}}return!1}function th(e,t,i){t=kn(i,t),t=yd(e,t,1),e=br(e,t,1),t=ut(),e!==null&&(es(e,1,t),pt(e,t))}function Ie(e,t,i){if(e.tag===3)th(e,e,i);else for(;t!==null;){if(t.tag===3){th(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sr===null||!Sr.has(o))){e=kn(i,e),e=wd(t,e,1),t=br(t,e,1),e=ut(),t!==null&&(es(t,1,e),pt(t,e));break}}t=t.return}}function $p(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&i,Ge===e&&(Xe&i)===i&&(We===4||We===3&&(Xe&130023424)===Xe&&500>Le()-io?Jr(e,0):so|=i),pt(e,t)}function rh(e,t){t===0&&((e.mode&1)===0?t=1:(t=ai,ai<<=1,(ai&130023424)===0&&(ai=4194304)));var i=ut();e=sr(e,t),e!==null&&(es(e,t,i),pt(e,i))}function Lp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),rh(e,i)}function zp(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),rh(e,i)}var nh;nh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ft=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ft=!1,kp(e,t,i);ft=(e.flags&131072)!==0}else ft=!1,Te&&(t.flags&1048576)!==0&&Uc(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qi(e,t),e=t.pendingProps;var d=xn(t,nt.current);Nn(t,i),d=Ul(null,t,o,e,d,i);var f=$l();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(o)?(f=!0,Si(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Tl(t),d.updater=Bi,t.stateNode=d,d._reactInternals=t,ql(t,o,e,i),t=Kl(null,t,o,!0,f,i)):(t.tag=0,Te&&f&&yl(t),ot(null,t,d,i),t=t.child),t;case 16:o=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=Bp(o),e=$t(o,e),d){case 0:t=Hl(null,t,o,e,i);break e;case 1:t=Td(null,t,o,e,i);break e;case 11:t=Nd(null,t,o,e,i);break e;case 14:t=Sd(null,t,o,$t(o.type,e),i);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:$t(o,d),Hl(e,t,o,d,i);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:$t(o,d),Td(e,t,o,d,i);case 3:e:{if(Pd(t),e===null)throw Error(s(387));o=t.pendingProps,f=t.memoizedState,d=f.element,Vc(e,t),Ii(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=kn(Error(s(423)),t),t=Rd(e,t,o,i,d);break e}else if(o!==d){d=kn(Error(s(424)),t),t=Rd(e,t,o,i,d);break e}else for(wt=xr(t.stateNode.containerInfo.firstChild),yt=t,Te=!0,Ut=null,i=qc(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(_n(),o===d){t=ar(e,t,i);break e}ot(e,t,o,i)}t=t.child}return t;case 5:return Jc(t),e===null&&jl(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,fl(o,d)?g=null:f!==null&&fl(o,f)&&(t.flags|=32),Cd(e,t),ot(e,t,g,i),t.child;case 6:return e===null&&jl(t),null;case 13:return Od(e,t,i);case 4:return Pl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=jn(t,null,o,i):ot(e,t,o,i),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:$t(o,d),Nd(e,t,o,d,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,be(Ri,o._currentValue),o._currentValue=g,f!==null)if(Dt(f.value,g)){if(f.children===d.children&&!dt.current){t=ar(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){g=f.child;for(var j=y.firstContext;j!==null;){if(j.context===o){if(f.tag===1){j=ir(-1,i&-i),j.tag=2;var A=f.updateQueue;if(A!==null){A=A.shared;var z=A.pending;z===null?j.next=j:(j.next=z.next,z.next=j),A.pending=j}}f.lanes|=i,j=f.alternate,j!==null&&(j.lanes|=i),El(f.return,i,t),y.lanes|=i;break}j=j.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=i,y=g.alternate,y!==null&&(y.lanes|=i),El(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ot(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,Nn(t,i),d=Ct(d),o=o(d),t.flags|=1,ot(e,t,o,i),t.child;case 14:return o=t.type,d=$t(o,t.pendingProps),d=$t(o.type,d),Sd(e,t,o,d,i);case 15:return kd(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:$t(o,d),qi(e,t),t.tag=1,ht(o)?(e=!0,Si(t)):e=!1,Nn(t,i),vd(t,o,d),ql(t,o,d,i),Kl(null,t,o,!0,e,i);case 19:return Id(e,t,i);case 22:return Ed(e,t,i)}throw Error(s(156,t.tag))};function sh(e,t){return $u(e,t)}function Mp(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,i,o){return new Mp(e,t,i,o)}function mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return mo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_e)return 11;if(e===Ht)return 14}return 2}function Tr(e,t){var i=e.alternate;return i===null?(i=Rt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ea(e,t,i,o,d,f){var g=2;if(o=e,typeof e=="function")mo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case W:return Yr(i.children,d,f,t);case ce:g=8,d|=8;break;case he:return e=Rt(12,i,t,d|2),e.elementType=he,e.lanes=f,e;case rt:return e=Rt(13,i,t,d),e.elementType=rt,e.lanes=f,e;case At:return e=Rt(19,i,t,d),e.elementType=At,e.lanes=f,e;case Ae:return ta(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ke:g=10;break e;case Vt:g=9;break e;case _e:g=11;break e;case Ht:g=14;break e;case ct:g=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Rt(g,i,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function Yr(e,t,i,o){return e=Rt(7,e,o,t),e.lanes=i,e}function ta(e,t,i,o){return e=Rt(22,e,o,t),e.elementType=Ae,e.lanes=i,e.stateNode={isHidden:!1},e}function po(e,t,i){return e=Rt(6,e,null,t),e.lanes=i,e}function go(e,t,i){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fp(e,t,i,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function vo(e,t,i,o,d,f,g,y,j){return e=new Fp(e,t,i,y,j),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Rt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(f),e}function qp(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function ih(e){if(!e)return wr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(ht(i))return Ac(e,i,t)}return t}function ah(e,t,i,o,d,f,g,y,j){return e=vo(i,o,!0,e,d,f,g,y,j),e.context=ih(null),i=e.current,o=ut(),d=Er(i),f=ir(o,d),f.callback=t??null,br(i,f,d),e.current.lanes=d,es(e,d,o),pt(e,o),e}function ra(e,t,i,o){var d=t.current,f=ut(),g=Er(d);return i=ih(i),t.context===null?t.context=i:t.pendingContext=i,t=ir(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=br(d,t,g),e!==null&&(Mt(e,d,g,f),Ai(e,d,g)),g}function na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function xo(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}function Wp(){return null}var oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function yo(e){this._internalRoot=e}sa.prototype.render=yo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ra(e,t,null,null)},sa.prototype.unmount=yo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){ra(null,e,null,null)}),t[er]=null}};function sa(e){this._internalRoot=e}sa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<pr.length&&t!==0&&t<pr[i].priority;i++);pr.splice(i,0,e),i===0&&Ju(e)}};function wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uh(){}function Vp(e,t,i,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var A=na(g);f.call(A)}}var g=ah(t,o,e,0,null,!1,!1,"",uh);return e._reactRootContainer=g,e[er]=g.current,ms(e.nodeType===8?e.parentNode:e),Kr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var y=o;o=function(){var A=na(j);y.call(A)}}var j=vo(e,0,!1,null,null,!1,!1,"",uh);return e._reactRootContainer=j,e[er]=j.current,ms(e.nodeType===8?e.parentNode:e),Kr(function(){ra(t,j,i,o)}),j}function aa(e,t,i,o,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var y=d;d=function(){var j=na(g);y.call(j)}}ra(t,g,e,d)}else g=Vp(i,t,e,d,o);return na(g)}qu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Zn(t.pendingLanes);i!==0&&(qa(t,i|1),pt(t,Le()),(fe&6)===0&&(Tn=Le()+500,_r()))}break;case 13:Kr(function(){var o=sr(e,1);if(o!==null){var d=ut();Mt(o,e,1,d)}}),xo(e,1)}},Wa=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var i=ut();Mt(t,e,134217728,i)}xo(e,134217728)}},Wu=function(e){if(e.tag===13){var t=Er(e),i=sr(e,t);if(i!==null){var o=ut();Mt(i,e,t,o)}xo(e,t)}},Vu=function(){return we},Hu=function(e,t){var i=we;try{return we=e,t()}finally{we=i}},Ua=function(e,t,i){switch(t){case"input":if(Ca(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var d=bi(o);if(!d)throw Error(s(90));gu(o),Ca(o,d)}}}break;case"textarea":_u(e,i);break;case"select":t=i.value,t!=null&&an(e,!!i.multiple,t,!1)}},Pu=co,Ru=Kr;var Hp={usingClientEntryPoint:!1,Events:[vs,gn,bi,Cu,Tu,co]},Rs={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Du(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{si=la.inject(Kp),Kt=la}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp,gt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wo(t))throw Error(s(200));return qp(e,t,null,i)},gt.createRoot=function(e,t){if(!wo(e))throw Error(s(299));var i=!1,o="",d=oh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=vo(e,1,!1,null,null,i,!1,o,d),e[er]=t.current,ms(e.nodeType===8?e.parentNode:e),new yo(t)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Du(t),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return Kr(e)},gt.hydrate=function(e,t,i){if(!ia(t))throw Error(s(200));return aa(null,e,t,!0,i)},gt.hydrateRoot=function(e,t,i){if(!wo(e))throw Error(s(405));var o=i!=null&&i.hydratedSources||null,d=!1,f="",g=oh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=ah(t,null,e,1,i??null,d,!1,f,g),e[er]=t.current,ms(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new sa(t)},gt.render=function(e,t,i){if(!ia(t))throw Error(s(200));return aa(null,e,t,!1,i)},gt.unmountComponentAtNode=function(e){if(!ia(e))throw Error(s(40));return e._reactRootContainer?(Kr(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},gt.unstable_batchedUpdates=co,gt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!ia(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return aa(e,t,i,!1,o)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var vh;function mf(){if(vh)return bo.exports;vh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),bo.exports=s0(),bo.exports}var xh;function i0(){if(xh)return oa;xh=1;var n=mf();return oa.createRoot=n.createRoot,oa.hydrateRoot=n.hydrateRoot,oa}var a0=i0();mf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},Us.apply(this,arguments)}var Ir;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ir||(Ir={}));const yh="popstate";function l0(n){n===void 0&&(n={});function r(l,u){let{pathname:c,search:h,hash:m}=l.location;return zo("",{pathname:c,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:ga(u)}return u0(r,s,null,n)}function Me(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function ru(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function o0(){return Math.random().toString(36).substr(2,8)}function wh(n,r){return{usr:n.state,key:n.key,idx:r}}function zo(n,r,s,l){return s===void 0&&(s=null),Us({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?qn(r):r,{state:s,key:r&&r.key||l||o0()})}function ga(n){let{pathname:r="/",search:s="",hash:l=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function qn(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let l=n.indexOf("?");l>=0&&(r.search=n.substr(l),n=n.substr(0,l)),n&&(r.pathname=n)}return r}function u0(n,r,s,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:c=!1}=l,h=u.history,m=Ir.Pop,p=null,v=x();v==null&&(v=0,h.replaceState(Us({},h.state,{idx:v}),""));function x(){return(h.state||{idx:null}).idx}function w(){m=Ir.Pop;let N=x(),I=N==null?null:N-v;v=N,p&&p({action:m,location:k.location,delta:I})}function b(N,I){m=Ir.Push;let D=zo(k.location,N,I);v=x()+1;let U=wh(D,v),R=k.createHref(D);try{h.pushState(U,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;u.location.assign(R)}c&&p&&p({action:m,location:k.location,delta:1})}function C(N,I){m=Ir.Replace;let D=zo(k.location,N,I);v=x();let U=wh(D,v),R=k.createHref(D);h.replaceState(U,"",R),c&&p&&p({action:m,location:k.location,delta:0})}function _(N){let I=u.location.origin!=="null"?u.location.origin:u.location.href,D=typeof N=="string"?N:ga(N);return D=D.replace(/ $/,"%20"),Me(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let k={get action(){return m},get location(){return n(u,h)},listen(N){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(yh,w),p=N,()=>{u.removeEventListener(yh,w),p=null}},createHref(N){return r(u,N)},createURL:_,encodeLocation(N){let I=_(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:C,go(N){return h.go(N)}};return k}var _h;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(_h||(_h={}));function c0(n,r,s){return s===void 0&&(s="/"),d0(n,r,s)}function d0(n,r,s,l){let u=typeof r=="string"?qn(r):r,c=nu(u.pathname||"/",s);if(c==null)return null;let h=pf(n);h0(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let v=N0(c);m=_0(h[p],v)}return m}function pf(n,r,s,l){r===void 0&&(r=[]),s===void 0&&(s=[]),l===void 0&&(l="");let u=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let v=Dr([l,p.relativePath]),x=s.concat(p);c.children&&c.children.length>0&&(Me(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),pf(c.children,r,x,v)),!(c.path==null&&!c.index)&&r.push({path:v,score:y0(v,c.index),routesMeta:x})};return n.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))u(c,h);else for(let p of gf(c.path))u(c,h,p)}),r}function gf(n){let r=n.split("/");if(r.length===0)return[];let[s,...l]=r,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=gf(l.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),u&&m.push(...h),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function h0(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:w0(r.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}const f0=/^:[\w-]+$/,m0=3,p0=2,g0=1,v0=10,x0=-2,jh=n=>n==="*";function y0(n,r){let s=n.split("/"),l=s.length;return s.some(jh)&&(l+=x0),r&&(l+=p0),s.filter(u=>!jh(u)).reduce((u,c)=>u+(f0.test(c)?m0:c===""?g0:v0),l)}function w0(n,r){return n.length===r.length&&n.slice(0,-1).every((l,u)=>l===r[u])?n[n.length-1]-r[r.length-1]:0}function _0(n,r,s){let{routesMeta:l}=n,u={},c="/",h=[];for(let m=0;m<l.length;++m){let p=l[m],v=m===l.length-1,x=c==="/"?r:r.slice(c.length)||"/",w=j0({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),b=p.route;if(!w)return null;Object.assign(u,w.params),h.push({params:u,pathname:Dr([c,w.pathname]),pathnameBase:T0(Dr([c,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(c=Dr([c,w.pathnameBase]))}return h}function j0(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,l]=b0(n.path,n.caseSensitive,n.end),u=r.match(s);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((v,x,w)=>{let{paramName:b,isOptional:C}=x;if(b==="*"){let k=m[w]||"";h=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const _=m[w];return C&&!_?v[b]=void 0:v[b]=(_||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:n}}function b0(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),ru(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let l=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(l.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),l]}function N0(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ru(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function nu(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,l=n.charAt(s);return l&&l!=="/"?null:n.slice(s)||"/"}const S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k0=n=>S0.test(n);function E0(n,r){r===void 0&&(r="/");let{pathname:s,search:l="",hash:u=""}=typeof n=="string"?qn(n):n,c;if(s)if(k0(s))c=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),ru(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?c=bh(s.substring(1),"/"):c=bh(s,r)}else c=r;return{pathname:c,search:P0(l),hash:R0(u)}}function bh(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function ko(n,r,s,l){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C0(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function su(n,r){let s=C0(n);return r?s.map((l,u)=>u===s.length-1?l.pathname:l.pathnameBase):s.map(l=>l.pathnameBase)}function iu(n,r,s,l){l===void 0&&(l=!1);let u;typeof n=="string"?u=qn(n):(u=Us({},n),Me(!u.pathname||!u.pathname.includes("?"),ko("?","pathname","search",u)),Me(!u.pathname||!u.pathname.includes("#"),ko("#","pathname","hash",u)),Me(!u.search||!u.search.includes("#"),ko("#","search","hash",u)));let c=n===""||u.pathname==="",h=c?"/":u.pathname,m;if(h==null)m=s;else{let w=r.length-1;if(!l&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;u.pathname=b.join("/")}m=w>=0?r[w]:"/"}let p=E0(u,m),v=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}const Dr=n=>n.join("/").replace(/\/\/+/g,"/"),T0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),P0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,R0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function O0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vf=["post","put","patch","delete"];new Set(vf);const A0=["get",...vf];new Set(A0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},$s.apply(this,arguments)}const au=E.createContext(null),I0=E.createContext(null),Ur=E.createContext(null),ja=E.createContext(null),$r=E.createContext({outlet:null,matches:[],isDataRoute:!1}),xf=E.createContext(null);function D0(n,r){let{relative:s}=r===void 0?{}:r;Wn()||Me(!1);let{basename:l,navigator:u}=E.useContext(Ur),{hash:c,pathname:h,search:m}=wf(n,{relative:s}),p=h;return l!=="/"&&(p=h==="/"?l:Dr([l,h])),u.createHref({pathname:p,search:m,hash:c})}function Wn(){return E.useContext(ja)!=null}function sn(){return Wn()||Me(!1),E.useContext(ja).location}function yf(n){E.useContext(Ur).static||E.useLayoutEffect(n)}function Vn(){let{isDataRoute:n}=E.useContext($r);return n?J0():U0()}function U0(){Wn()||Me(!1);let n=E.useContext(au),{basename:r,future:s,navigator:l}=E.useContext(Ur),{matches:u}=E.useContext($r),{pathname:c}=sn(),h=JSON.stringify(su(u,s.v7_relativeSplatPath)),m=E.useRef(!1);return yf(()=>{m.current=!0}),E.useCallback(function(v,x){if(x===void 0&&(x={}),!m.current)return;if(typeof v=="number"){l.go(v);return}let w=iu(v,JSON.parse(h),c,x.relative==="path");n==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Dr([r,w.pathname])),(x.replace?l.replace:l.push)(w,x.state,x)},[r,l,h,c,n])}function wf(n,r){let{relative:s}=r===void 0?{}:r,{future:l}=E.useContext(Ur),{matches:u}=E.useContext($r),{pathname:c}=sn(),h=JSON.stringify(su(u,l.v7_relativeSplatPath));return E.useMemo(()=>iu(n,JSON.parse(h),c,s==="path"),[n,h,c,s])}function $0(n,r){return L0(n,r)}function L0(n,r,s,l){Wn()||Me(!1);let{navigator:u}=E.useContext(Ur),{matches:c}=E.useContext($r),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let v=sn(),x;if(r){var w;let N=typeof r=="string"?qn(r):r;p==="/"||(w=N.pathname)!=null&&w.startsWith(p)||Me(!1),x=N}else x=v;let b=x.pathname||"/",C=b;if(p!=="/"){let N=p.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=c0(n,{pathname:C}),k=q0(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Dr([p,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Dr([p,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,s,l);return r&&k?E.createElement(ja.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ir.Pop}},k):k}function z0(){let n=K0(),r=O0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},r),s?E.createElement("pre",{style:u},s):null,null)}const M0=E.createElement(z0,null);class B0 extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?E.createElement($r.Provider,{value:this.props.routeContext},E.createElement(xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F0(n){let{routeContext:r,match:s,children:l}=n,u=E.useContext(au);return u&&u.static&&u.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=s.route.id),E.createElement($r.Provider,{value:r},l)}function q0(n,r,s,l){var u;if(r===void 0&&(r=[]),s===void 0&&(s=null),l===void 0&&(l=null),n==null){var c;if(!s)return null;if(s.errors)n=s.matches;else if((c=l)!=null&&c.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,m=(u=s)==null?void 0:u.errors;if(m!=null){let x=h.findIndex(w=>w.route.id&&(m==null?void 0:m[w.route.id])!==void 0);x>=0||Me(!1),h=h.slice(0,Math.min(h.length,x+1))}let p=!1,v=-1;if(s&&l&&l.v7_partialHydration)for(let x=0;x<h.length;x++){let w=h[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=x),w.route.id){let{loaderData:b,errors:C}=s,_=w.route.loader&&b[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||_){p=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((x,w,b)=>{let C,_=!1,k=null,N=null;s&&(C=m&&w.route.id?m[w.route.id]:void 0,k=w.route.errorElement||M0,p&&(v<0&&b===0?(G0("route-fallback"),_=!0,N=null):v===b&&(_=!0,N=w.route.hydrateFallbackElement||null)));let I=r.concat(h.slice(0,b+1)),D=()=>{let U;return C?U=k:_?U=N:w.route.Component?U=E.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=x,E.createElement(F0,{match:w,routeContext:{outlet:x,matches:I,isDataRoute:s!=null},children:U})};return s&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?E.createElement(B0,{location:s.location,revalidation:s.revalidation,component:k,error:C,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var _f=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(_f||{}),jf=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(jf||{});function W0(n){let r=E.useContext(au);return r||Me(!1),r}function V0(n){let r=E.useContext(I0);return r||Me(!1),r}function H0(n){let r=E.useContext($r);return r||Me(!1),r}function bf(n){let r=H0(),s=r.matches[r.matches.length-1];return s.route.id||Me(!1),s.route.id}function K0(){var n;let r=E.useContext(xf),s=V0(),l=bf();return r!==void 0?r:(n=s.errors)==null?void 0:n[l]}function J0(){let{router:n}=W0(_f.UseNavigateStable),r=bf(jf.UseNavigateStable),s=E.useRef(!1);return yf(()=>{s.current=!0}),E.useCallback(function(u,c){c===void 0&&(c={}),s.current&&(typeof u=="number"?n.navigate(u):n.navigate(u,$s({fromRouteId:r},c)))},[n,r])}const Nh={};function G0(n,r,s){Nh[n]||(Nh[n]=!0)}function Y0(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function lu(n){let{to:r,replace:s,state:l,relative:u}=n;Wn()||Me(!1);let{future:c,static:h}=E.useContext(Ur),{matches:m}=E.useContext($r),{pathname:p}=sn(),v=Vn(),x=iu(r,su(m,c.v7_relativeSplatPath),p,u==="path"),w=JSON.stringify(x);return E.useEffect(()=>v(JSON.parse(w),{replace:s,state:l,relative:u}),[v,w,u,s,l]),null}function lt(n){Me(!1)}function Q0(n){let{basename:r="/",children:s=null,location:l,navigationType:u=Ir.Pop,navigator:c,static:h=!1,future:m}=n;Wn()&&Me(!1);let p=r.replace(/^\/*/,"/"),v=E.useMemo(()=>({basename:p,navigator:c,static:h,future:$s({v7_relativeSplatPath:!1},m)}),[p,m,c,h]);typeof l=="string"&&(l=qn(l));let{pathname:x="/",search:w="",hash:b="",state:C=null,key:_="default"}=l,k=E.useMemo(()=>{let N=nu(x,p);return N==null?null:{location:{pathname:N,search:w,hash:b,state:C,key:_},navigationType:u}},[p,x,w,b,C,_,u]);return k==null?null:E.createElement(Ur.Provider,{value:v},E.createElement(ja.Provider,{children:s,value:k}))}function X0(n){let{children:r,location:s}=n;return $0(Mo(r),s)}new Promise(()=>{});function Mo(n,r){r===void 0&&(r=[]);let s=[];return E.Children.forEach(n,(l,u)=>{if(!E.isValidElement(l))return;let c=[...r,u];if(l.type===E.Fragment){s.push.apply(s,Mo(l.props.children,c));return}l.type!==lt&&Me(!1),!l.props.index||!l.props.children||Me(!1);let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Mo(l.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},Bo.apply(this,arguments)}function Z0(n,r){if(n==null)return{};var s={},l=Object.keys(n),u,c;for(c=0;c<l.length;c++)u=l[c],!(r.indexOf(u)>=0)&&(s[u]=n[u]);return s}function eg(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tg(n,r){return n.button===0&&(!r||r==="_self")&&!eg(n)}const rg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ng="6";try{window.__reactRouterVersion=ng}catch{}const sg="startTransition",Sh=t0[sg];function ig(n){let{basename:r,children:s,future:l,window:u}=n,c=E.useRef();c.current==null&&(c.current=l0({window:u,v5Compat:!0}));let h=c.current,[m,p]=E.useState({action:h.action,location:h.location}),{v7_startTransition:v}=l||{},x=E.useCallback(w=>{v&&Sh?Sh(()=>p(w)):p(w)},[p,v]);return E.useLayoutEffect(()=>h.listen(x),[h,x]),E.useEffect(()=>Y0(l),[l]),E.createElement(Q0,{basename:r,children:s,location:m.location,navigationType:m.action,navigator:h,future:l})}const ag=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=E.forwardRef(function(r,s){let{onClick:l,relative:u,reloadDocument:c,replace:h,state:m,target:p,to:v,preventScrollReset:x,viewTransition:w}=r,b=Z0(r,rg),{basename:C}=E.useContext(Ur),_,k=!1;if(typeof v=="string"&&lg.test(v)&&(_=v,ag))try{let U=new URL(window.location.href),R=v.startsWith("//")?new URL(U.protocol+v):new URL(v),F=nu(R.pathname,C);R.origin===U.origin&&F!=null?v=F+R.search+R.hash:k=!0}catch{}let N=D0(v,{relative:u}),I=og(v,{replace:h,state:m,target:p,preventScrollReset:x,relative:u,viewTransition:w});function D(U){l&&l(U),U.defaultPrevented||I(U)}return E.createElement("a",Bo({},b,{href:_||N,onClick:k||c?l:D,ref:s,target:p}))});var kh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kh||(kh={}));var Eh;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Eh||(Eh={}));function og(n,r){let{target:s,replace:l,state:u,preventScrollReset:c,relative:h,viewTransition:m}=r===void 0?{}:r,p=Vn(),v=sn(),x=wf(n,{relative:h});return E.useCallback(w=>{if(tg(w,s)){w.preventDefault();let b=l!==void 0?l:ga(v)===ga(x);p(n,{replace:b,state:u,preventScrollReset:c,relative:h,viewTransition:m})}},[v,p,x,l,u,s,n,c,h,m])}function ba(n,r){var s={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&r.indexOf(l)<0&&(s[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(n);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(n,l[u])&&(s[l[u]]=n[l[u]]);return s}function ug(n,r,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(x){try{v(l.next(x))}catch(w){h(w)}}function p(x){try{v(l.throw(x))}catch(w){h(w)}}function v(x){x.done?c(x.value):u(x.value).then(m,p)}v((l=l.apply(n,r||[])).next())})}const cg=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class ou extends Error{constructor(r,s="FunctionsError",l){super(r),this.name=s,this.context=l}}class dg extends ou{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ch extends ou{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Th extends ou{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Fo;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Fo||(Fo={}));class hg{constructor(r,{headers:s={},customFetch:l,region:u=Fo.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=cg(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return ug(this,arguments,void 0,function*(s,l={}){var u;let c,h;try{const{headers:m,method:p,body:v,signal:x,timeout:w}=l;let b={},{region:C}=l;C||(C=this.region);const _=new URL(`${this.url}/${s}`);C&&C!=="any"&&(b["x-region"]=C,_.searchParams.set("forceFunctionRegion",C));let k;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",k=v):typeof v=="string"?(b["Content-Type"]="text/plain",k=v):typeof FormData<"u"&&v instanceof FormData?k=v:(b["Content-Type"]="application/json",k=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?k=JSON.stringify(v):k=v;let N=x;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),x?(N=h.signal,x.addEventListener("abort",()=>h.abort())):N=h.signal);const I=yield this.fetch(_.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:k,signal:N}).catch(F=>{throw new dg(F)}),D=I.headers.get("x-relay-error");if(D&&D==="true")throw new Ch(I);if(!I.ok)throw new Th(I);let U=((u=I.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),R;return U==="application/json"?R=yield I.json():U==="application/octet-stream"||U==="application/pdf"?R=yield I.blob():U==="text/event-stream"?R=I:U==="multipart/form-data"?R=yield I.formData():R=yield I.text(),{data:R,error:null,response:I}}catch(m){return{data:null,error:m,response:m instanceof Th||m instanceof Ch?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var fg=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},mg=class{constructor(n){var r,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,m=null,p=null,v=c.status,x=c.statusText;if(c.ok){var w,b;if(s.method!=="HEAD"){var C;const I=await c.text();I===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((C=s.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?m=I:m=JSON.parse(I))}const k=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),N=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");k&&N&&N.length>1&&(p=parseInt(N[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,v=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var _;const k=await c.text();try{h=JSON.parse(k),Array.isArray(h)&&c.status===404&&(m=[],h=null,v=200,x="OK")}catch{c.status===404&&k===""?(v=204,x="No Content"):h={message:k}}if(h&&s.isMaybeSingle&&(!(h==null||(_=h.details)===null||_===void 0)&&_.includes("0 rows"))&&(h=null,v=200,x="OK"),h&&s.shouldThrowOnError)throw new fg(h)}return{error:h,data:m,count:p,status:v,statusText:x}});return this.shouldThrowOnError||(u=u.catch(c=>{var h;let m="";const p=c==null?void 0:c.cause;if(p){var v,x,w,b;const _=(v=p==null?void 0:p.message)!==null&&v!==void 0?v:"",k=(x=p==null?void 0:p.code)!==null&&x!==void 0?x:"";m=`${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"Error"}: ${_}`,k&&(m+=` (${k})`),p!=null&&p.stack&&(m+=`
${p.stack}`)}else{var C;m=(C=c==null?void 0:c.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(n,r)}returns(){return this}overrideTypes(){return this}},pg=class extends mg{select(n){let r=!1;const s=(n??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(c,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var h;const m=[n?"analyze":null,r?"verbose":null,s?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ph=new RegExp("[,()]");var $n=class extends pg{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(l=>typeof l=="string"&&Ph.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(l=>typeof l=="string"&&Ph.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${u}fts${c}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},gg=class{constructor(n,{headers:r={},schema:s,fetch:l}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:l}=r??{},u=s?"HEAD":"GET";let c=!1;const h=(n??"*").split("").map(v=>/\s/.test(v)&&!c?"":(v==='"'&&(c=!c),v)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",h),l&&p.append("Prefer",`count=${l}`),new $n({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(n,{count:r,defaultToNull:s=!0}={}){var l;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(m.length>0){const p=[...new Set(m)].map(v=>`"${v}"`);c.searchParams.set("columns",p.join(","))}}return new $n({method:u,url:c,headers:h,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:l,defaultToNull:u=!0}={}){var c;const h="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&m.searchParams.set("on_conflict",r),l&&p.append("Prefer",`count=${l}`),u||p.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);m.searchParams.set("columns",x.join(","))}}return new $n({method:h,url:m,headers:p,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:r}={}){var s;const l="PATCH",{url:u,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new $n({method:l,url:u,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var r;const s="DELETE",{url:l,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new $n({method:s,url:l,headers:u,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},vg=class Nf{constructor(r,{headers:s={},schema:l,fetch:u}={}){this.url=r,this.headers=new Headers(s),this.schemaName=l,this.fetch=u}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Nf(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:l=!1,get:u=!1,count:c}={}){var h;let m;const p=new URL(`${this.url}/rpc/${r}`);let v;const x=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(x)),w=l&&Object.values(s).some(x);w?(m="POST",v=s):l||u?(m=l?"HEAD":"GET",Object.entries(s).filter(([C,_])=>_!==void 0).map(([C,_])=>[C,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([C,_])=>{p.searchParams.append(C,_)})):(m="POST",v=s);const b=new Headers(this.headers);return w?b.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&b.set("Prefer",`count=${c}`),new $n({method:m,url:p,headers:b,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class xg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const l=s.versions;if(l&&l.node){const u=l.node,c=parseInt(u.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const l=this.getWebSocketConstructor();return new l(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const yg="2.91.0",wg=`realtime-js/${yg}`,_g="1.0.0",Sf="2.0.0",Rh=Sf,qo=1e4,jg=1e3,bg=100;var Or;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Or||(Or={}));var Ve;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ve||(Ve={}));var qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(qt||(qt={}));var Wo;(function(n){n.websocket="websocket"})(Wo||(Wo={}));var en;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(en||(en={}));class Ng{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let l=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,l;const u=(l=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var s,l;const u=(l=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,l){var u,c;const h=r.topic,m=(u=r.ref)!==null&&u!==void 0?u:"",p=(c=r.join_ref)!==null&&c!==void 0?c:"",v=r.payload.event,x=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+v.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(C),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,p.length),_.setUint8(k++,m.length),_.setUint8(k++,h.length),_.setUint8(k++,v.length),_.setUint8(k++,w.length),_.setUint8(k++,s),Array.from(p,I=>_.setUint8(k++,I.charCodeAt(0))),Array.from(m,I=>_.setUint8(k++,I.charCodeAt(0))),Array.from(h,I=>_.setUint8(k++,I.charCodeAt(0))),Array.from(v,I=>_.setUint8(k++,I.charCodeAt(0))),Array.from(w,I=>_.setUint8(k++,I.charCodeAt(0)));var N=new Uint8Array(C.byteLength+l.byteLength);return N.set(new Uint8Array(C),0),N.set(new Uint8Array(l),C.byteLength),N.buffer}decode(r,s){if(this._isArrayBuffer(r)){let l=this._binaryDecode(r);return s(l)}if(typeof r=="string"){const l=JSON.parse(r),[u,c,h,m,p]=l;return s({join_ref:u,ref:c,topic:h,event:m,payload:p})}return s({})}_binaryDecode(r){const s=new DataView(r),l=s.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,u)}}_decodeUserBroadcast(r,s,l){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const v=l.decode(r.slice(p,p+u));p=p+u;const x=l.decode(r.slice(p,p+c));p=p+c;const w=l.decode(r.slice(p,p+h));p=p+h;const b=r.slice(p,r.byteLength),C=m===this.JSON_ENCODING?JSON.parse(l.decode(b)):b,_={type:this.BROADCAST_EVENT,event:x,payload:C};return h>0&&(_.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([l])=>s.includes(l)))}}class kf{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ne||(Ne={}));const Oh=(n,r,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Sg(h,n,r,u),c),{}):{}},Sg=(n,r,s,l)=>{const u=r.find(m=>m.name===n),c=u==null?void 0:u.type,h=s[n];return c&&!l.includes(c)?Ef(c,h):Vo(h)},Ef=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Tg(r,s)}switch(n){case Ne.bool:return kg(r);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Eg(r);case Ne.json:case Ne.jsonb:return Cg(r);case Ne.timestamp:return Pg(r);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return Vo(r);default:return Vo(r)}},Vo=n=>n,kg=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Eg=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},Cg=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Tg=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,l=n[s];if(n[0]==="{"&&l==="}"){let c;const h=n.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Ef(r,m))}return n},Pg=n=>typeof n=="string"?n.replace(" ","T"):n,Cf=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Eo{constructor(r,s,l={},u=qo){this.channel=r,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var l;return this._hasReceived(r)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Ah;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ah||(Ah={}));class Is{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Is.syncState(this.state,u,c,h),this.pendingDiffs.forEach(p=>{this.state=Is.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Is.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,l,u){const c=this.cloneDeep(r),h=this.transformState(s),m={},p={};return this.map(c,(v,x)=>{h[v]||(p[v]=x)}),this.map(h,(v,x)=>{const w=c[v];if(w){const b=x.map(N=>N.presence_ref),C=w.map(N=>N.presence_ref),_=x.filter(N=>C.indexOf(N.presence_ref)<0),k=w.filter(N=>b.indexOf(N.presence_ref)<0);_.length>0&&(m[v]=_),k.length>0&&(p[v]=k)}else m[v]=x}),this.syncDiff(c,{joins:m,leaves:p},l,u)}static syncDiff(r,s,l,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,p)=>{var v;const x=(v=r[m])!==null&&v!==void 0?v:[];if(r[m]=this.cloneDeep(p),x.length>0){const w=r[m].map(C=>C.presence_ref),b=x.filter(C=>w.indexOf(C.presence_ref)<0);r[m].unshift(...b)}l(m,x,p)}),this.map(h,(m,p)=>{let v=r[m];if(!v)return;const x=p.map(w=>w.presence_ref);v=v.filter(w=>x.indexOf(w.presence_ref)<0),r[m]=v,u(m,v,p),v.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(l=>s(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,l)=>{const u=r[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ih;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Ih||(Ih={}));var Ds;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ds||(Ds={}));var or;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Mn{constructor(r,s={config:{}},l){var u,c;if(this.topic=r,this.params=s,this.socket=l,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,qt.join,this.params,this.timeout),this.rejoinTimer=new kf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Is(this),this.broadcastEndpointURL=Cf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(C=>C.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},b={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>r==null?void 0:r(or.CHANNEL_ERROR,C)),this._onClose(()=>r==null?void 0:r(or.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:C})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){r==null||r(or.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(_=k==null?void 0:k.length)!==null&&_!==void 0?_:0,I=[];for(let D=0;D<N;D++){const U=k[D],{filter:{event:R,schema:F,table:H,filter:W}}=U,ce=C&&C[D];if(ce&&ce.event===R&&Mn.isFilterValueEqual(ce.schema,F)&&Mn.isFilterValueEqual(ce.table,H)&&Mn.isFilterValueEqual(ce.filter,W))I.push(Object.assign(Object.assign({},U),{id:ce.id}));else{this.unsubscribe(),this.state=Ve.errored,r==null||r(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(or.SUBSCRIBED);return}}).receive("error",C=>{this.state=Ve.errored,r==null||r(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,l){return this.state===Ve.joined&&r===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,l)}async httpSend(r,s,l={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const v=await m.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(r,s={}){var l,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,p;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Eo(this,qt.leave,{},r),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(r,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(r,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Eo(this,r,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>bg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,l){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,l){var u,c;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:v,join:x}=qt;if(l&&[m,p,v,x].indexOf(h)>=0&&l!==this._joinRef())return;let b=this._onMessage(h,s,l);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(C=>{var _,k,N;return((_=C.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(k=C.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(C=>C.callback(b,l)):(c=this.bindings[h])===null||c===void 0||c.filter(C=>{var _,k,N,I,D,U,R,F;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const H=C.id,W=(_=C.filter)===null||_===void 0?void 0:_.event;return H&&((k=s.ids)===null||k===void 0?void 0:k.includes(H))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((I=C.filter)===null||I===void 0)&&I.table)||C.filter.table===((D=s.data)===null||D===void 0?void 0:D.table))}else{const H=(R=(U=C==null?void 0:C.filter)===null||U===void 0?void 0:U.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return H==="*"||H===((F=s==null?void 0:s.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:k,table:N,commit_timestamp:I,type:D,errors:U}=_;b=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:I,eventType:D,new:{},old:{},errors:U}),this._getPayloadRecords(_))}C.callback(b,l)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,l){const u=r.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,s){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Mn.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const l in r)if(r[l]!==s[l])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(qt.close,{},r)}_onError(r){this._on(qt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Oh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Oh(r.columns,r.old_record)),s}}const Co=()=>{},ua={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rg=[1e3,2e3,5e3,1e4],Og=1e4,Ag=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ig{constructor(r,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qo,this.transport=null,this.heartbeatIntervalMs=ua.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Co,this.ref=0,this.reconnectTimer=null,this.vsn=Rh,this.logger=Co,this.conn=null,this.sendBuffer=[],this.serializer=new Ng,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Wo.websocket}`,this.httpEndpoint=Cf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,l){this.logger(r,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return en.Connecting;case Or.open:return en.Open;case Or.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const l=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Mn(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:l,payload:u,ref:c}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(jg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ua.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:c,ref:h}=s,m=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${l} ${u} ${m}`.trim(),c),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Or.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(qt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const l=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${l}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const l=new Blob([Ag],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,l=!1;if(r)s=r,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:wg};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(qt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new kf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ua.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,l,u,c,h,m,p,v,x,w,b,C;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(l=r==null?void 0:r.timeout)!==null&&l!==void 0?l:qo,this.heartbeatIntervalMs=(u=r==null?void 0:r.heartbeatIntervalMs)!==null&&u!==void 0?u:ua.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r==null?void 0:r.heartbeatCallback)!==null&&m!==void 0?m:Co,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:Rh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(_=>Rg[_-1]||Og),this.vsn){case _g:this.encode=(x=r==null?void 0:r.encode)!==null&&x!==void 0?x:((_,k)=>k(JSON.stringify(_))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((_,k)=>k(JSON.parse(_)));break;case Sf:this.encode=(b=r==null?void 0:r.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(C=r==null?void 0:r.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Ls=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dg(n,r,s){const l=new URL(r,n);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function Ug(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function $g(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:c,headers:h}){const m=Dg(n.baseUrl,l,u),p=await Ug(n.auth),v=await r(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...p,...h},body:c?JSON.stringify(c):void 0}),x=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),b=w&&x?JSON.parse(x):x;if(!v.ok){const C=w?b:void 0,_=C==null?void 0:C.error;throw new Ls((_==null?void 0:_.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:C})}return{status:v.status,headers:v.headers,data:b}}}}function ca(n){return n.join("")}var Lg=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:ca(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ca(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ca(n.namespace)}`}),!0}catch(r){if(r instanceof Ls&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof Ls&&s.status===409)return;throw s}}};function Rn(n){return n.join("")}var zg=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rn(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof Ls&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof Ls&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},Mg=class{constructor(n){var l;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=$g({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(l=n.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Lg(this.client,r),this.tableOps=new zg(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},Na=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Oe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Bg=class extends Na{constructor(n,r,s){super(n),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ho=class extends Na{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}};const uu=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Fg=()=>Response,Ko=n=>{if(Array.isArray(n))return n.map(s=>Ko(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=Ko(l)}),r},qg=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Wg=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function zs(n){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zs(n)}function Vg(n,r){if(zs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var l=s.call(n,r);if(zs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Hg(n){var r=Vg(n,"string");return zs(r)=="symbol"?r:r+""}function Kg(n,r,s){return(r=Hg(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Dh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,l)}return s}function se(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Dh(Object(s),!0).forEach(function(l){Kg(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Dh(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}const To=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},Jg=async(n,r,s)=>{n instanceof await Fg()&&!(s!=null&&s.noResolveJson)?n.json().then(l=>{const u=n.status||500,c=(l==null?void 0:l.statusCode)||u+"";r(new Bg(To(l),u,c))}).catch(l=>{r(new Ho(To(l),l))}):r(new Ho(To(n),n))},Gg=(n,r,s,l)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||!l?u:(qg(l)?(u.headers=se({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(l)):u.body=l,r!=null&&r.duplex&&(u.duplex=r.duplex),se(se({},u),s))};async function Gs(n,r,s,l,u,c){return new Promise((h,m)=>{n(s,Gg(r,l,u,c)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Jg(p,m,l))})}async function Ms(n,r,s,l){return Gs(n,"GET",r,s,l)}async function Ft(n,r,s,l,u){return Gs(n,"POST",r,l,u,s)}async function Jo(n,r,s,l,u){return Gs(n,"PUT",r,l,u,s)}async function Yg(n,r,s,l){return Gs(n,"HEAD",r,se(se({},s),{},{noResolveJson:!0}),l)}async function cu(n,r,s,l,u){return Gs(n,"DELETE",r,l,u,s)}var Qg=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}};let Tf;Tf=Symbol.toStringTag;var Xg=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[Tf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qg(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}};const Zg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ev=class{constructor(n,r={},s,l){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=s,this.fetch=uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,r,s,l){var u=this;try{let c;const h=se(se({},Uh),l);let m=se(se({},u.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",u.encodeMetadata(p)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),p&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(p))):(c=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(m=se(se({},m),l.headers));const v=u._removeEmptyFolders(r),x=u._getFinalPath(v),w=await(n=="PUT"?Jo:Ft)(u.fetch,`${u.url}/object/${x}`,c,se({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(u.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,l){var u=this;const c=u._removeEmptyFolders(n),h=u._getFinalPath(c),m=new URL(u.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let p;const v=se({upsert:Uh.upsert},l),x=se(se({},u.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",v.cacheControl)):(p=s,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType),{data:{path:c,fullPath:(await Jo(u.fetch,m.toString(),p,{headers:x})).Key},error:null}}catch(p){if(u.shouldThrowOnError)throw p;if(Oe(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,r){var s=this;try{let l=s._getFinalPath(n);const u=se({},s.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const c=await Ft(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(s.url+c.url),m=h.searchParams.get("token");if(!m)throw new Na("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var l=this;try{return{data:await Ft(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}async copy(n,r,s){var l=this;try{return{data:{path:(await Ft(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}async createSignedUrl(n,r,s){var l=this;try{let u=l._getFinalPath(n),c=await Ft(l.fetch,`${l.url}/object/sign/${u}`,se({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:l.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${l.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}async createSignedUrls(n,r,s){var l=this;try{const u=await Ft(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:r,paths:n},{headers:l.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>se(se({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}download(n,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=l?`?${l}`:"",c=this._getFinalPath(n),h=()=>Ms(this.fetch,`${this.url}/${s}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new Xg(h,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);try{return{data:Ko(await Ms(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await Yg(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l)&&l instanceof Ho){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}}getPublicUrl(n,r){const s=this._getFinalPath(n),l=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&l.push(u);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${m}`)}}}async remove(n){var r=this;try{return{data:await cu(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async list(n,r,s){var l=this;try{const u=se(se(se({},Zg),r),{},{prefix:n||""});return{data:await Ft(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},s),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}async listV2(n,r){var s=this;try{const l=se({},n);return{data:await Ft(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},r),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const Pf="2.91.0",Rf={"X-Client-Info":`storage-js/${Pf}`};var tv=class{constructor(n,r={},s,l){this.shouldThrowOnError=!1;const u=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=se(se({},Rf),r),this.fetch=uu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var r=this;try{const s=r.listBucketOptionsToQueryString(n);return{data:await Ms(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async getBucket(n){var r=this;try{return{data:await Ms(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createBucket(n,r={public:!1}){var s=this;try{return{data:await Ft(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async updateBucket(n,r){var s=this;try{return{data:await Jo(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async emptyBucket(n){var r=this;try{return{data:await Ft(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await cu(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},rv=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},Rf),r),this.fetch=uu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var r=this;try{return{data:await Ft(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async listBuckets(n){var r=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const l=s.toString(),u=l?`${r.url}/bucket?${l}`:`${r.url}/bucket`;return{data:await Ms(r.fetch,u,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await cu(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}from(n){var r=this;if(!Wg(n))throw new Na("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Mg({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(u,c){const h=u[c];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(u,m),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const du={"X-Client-Info":`storage-js/${Pf}`,"Content-Type":"application/json"};var Of=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Po=class extends Of{constructor(n,r,s){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nv=class extends Of{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}};const hu=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),sv=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},$h=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),iv=async(n,r,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const l=n.status||500,u=n;if(typeof u.json=="function")u.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";r(new Po($h(c),l,h))}).catch(()=>{const c=l+"";r(new Po(u.statusText||`HTTP ${l} error`,l,c))});else{const c=l+"";r(new Po(u.statusText||`HTTP ${l} error`,l,c))}}else r(new nv($h(n),n))},av=(n,r,s,l)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return l?(sv(l)?(u.headers=se({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(l)):u.body=l,se(se({},u),s)):u};async function lv(n,r,s,l,u,c){return new Promise((h,m)=>{n(s,av(r,l,u,c)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>iv(p,m,l))})}async function Nt(n,r,s,l,u){return lv(n,"POST",r,l,u,s)}var ov=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},du),r),this.fetch=hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getIndex(n,r){var s=this;try{return{data:await Nt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}}async listIndexes(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteIndex(n,r){var s=this;try{return{data:await Nt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}}},uv=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},du),r),this.fetch=hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var r=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nt(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getVectors(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async listVectors(n){var r=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Nt(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async queryVectors(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var r=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nt(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}},cv=class{constructor(n,r={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},du),r),this.fetch=hu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async getBucket(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var r=this;try{return{data:await Nt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}}},dv=class extends cv{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new hv(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},hv=class extends ov{constructor(n,r,s,l){super(n,r,l),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new fv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},fv=class extends uv{constructor(n,r,s,l,u){super(n,r,u),this.vectorBucketName=s,this.indexName=l}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},mv=class extends tv{constructor(n,r={},s,l){super(n,r,s,l)}from(n){return new ev(this.url,this.headers,n,this.fetch)}get vectors(){return new dv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rv(this.url+"/iceberg",this.headers,this.fetch)}};const Af="2.91.0",Ln=30*1e3,Go=3,Ro=Go*Ln,pv="http://localhost:9999",gv="supabase.auth.token",vv={"X-Client-Info":`gotrue-js/${Af}`},Yo="X-Supabase-Api-Version",If={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yv=600*1e3;class Bs extends Error{constructor(r,s,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function X(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class wv extends Bs{constructor(r,s,l){super(r,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function _v(n){return X(n)&&n.name==="AuthApiError"}class tn extends Bs{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class dr extends Bs{constructor(r,s,l,u){super(r,l,u),this.name=s,this.status=l}}class jt extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jv(n){return X(n)&&n.name==="AuthSessionMissingError"}class On extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class da extends dr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ha extends dr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bv(n){return X(n)&&n.name==="AuthImplicitGrantRedirectError"}class Lh extends dr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nv extends dr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qo extends dr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Oo(n){return X(n)&&n.name==="AuthRetryableFetchError"}class zh extends dr{constructor(r,s,l){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Xo extends dr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mh=` 	
\r=`.split(""),Sv=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<Mh.length;r+=1)n[Mh[r].charCodeAt(0)]=-2;for(let r=0;r<va.length;r+=1)n[va[r].charCodeAt(0)]=r;return n})();function Bh(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(va[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;s(va[l]),r.queuedBits-=6}}function Df(n,r,s){const l=Sv[n];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Fh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{Cv(h,l,s)};for(let h=0;h<n.length;h+=1)Df(n.charCodeAt(h),u,c);return r.join("")}function kv(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Ev(n,r){for(let s=0;s<n.length;s+=1){let l=n.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(n.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}kv(l,r)}}function Cv(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let l=1;l<6;l+=1)if((n>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Bn(n){const r=[],s={queue:0,queuedBits:0},l=u=>{r.push(u)};for(let u=0;u<n.length;u+=1)Df(n.charCodeAt(u),s,l);return new Uint8Array(r)}function Tv(n){const r=[];return Ev(n,s=>r.push(s)),new Uint8Array(r)}function rn(n){const r=[],s={queue:0,queuedBits:0},l=u=>{r.push(u)};return n.forEach(u=>Bh(u,s,l)),Bh(null,s,l),r.join("")}function Pv(n){return Math.round(Date.now()/1e3)+n}function Rv(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Uf=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function Ov(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{r[u]=l}),r}const $f=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Av=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",zn=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Xr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ze=async(n,r)=>{await n.removeItem(r)};class Sa{constructor(){this.promise=new Sa.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Sa.promiseConstructor=Promise;function Ao(n){const r=n.split(".");if(r.length!==3)throw new Xo("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!xv.test(r[l]))throw new Xo("JWT not in base64url format");return{header:JSON.parse(Fh(r[0])),payload:JSON.parse(Fh(r[1])),signature:Bn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Iv(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Dv(n,r){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await n(c);if(!r(c,null,h)){l(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function Uv(n){return("0"+n.toString(16)).substr(-2)}function $v(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(r),Array.from(r,Uv).join("")}async function Lv(n){const s=new TextEncoder().encode(n),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function zv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Lv(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(n,r,s=!1){const l=$v();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await zn(n,`${r}-code-verifier`,u);const c=await zv(l);return[c,l===c?"plain":"s256"]}const Mv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bv(n){const r=n.headers.get(Yo);if(!r||!r.match(Mv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Fv(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function qv(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(n){if(!Wv.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vv(n,r){return new Proxy(n,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!r.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,l,u)}})}function qh(n){return JSON.parse(JSON.stringify(n))}const Zr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Hv=[502,503,504];async function Wh(n){var r;if(!Av(n))throw new Qo(Zr(n),0);if(Hv.includes(n.status))throw new Qo(Zr(n),n.status);let s;try{s=await n.json()}catch(c){throw new tn(Zr(c),c)}let l;const u=Bv(n);if(u&&u.getTime()>=If["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new zh(Zr(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new zh(Zr(s),n.status,s.weak_password.reasons);throw new wv(Zr(s),n.status||500,l)}const Kv=(n,r,s,l)=>{const u={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function ne(n,r,s,l){var u;const c=Object.assign({},l==null?void 0:l.headers);c[Yo]||(c[Yo]=If["2024-01-01"].name),l!=null&&l.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Jv(n,r,s+m,{headers:c,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function Jv(n,r,s,l,u,c){const h=Kv(r,l,u,c);let m;try{m=await n(s,Object.assign({},h))}catch(p){throw console.error(p),new Qo(Zr(p),0)}if(m.ok||await Wh(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(p){await Wh(p)}}function Bt(n){var r;let s=null;Qv(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Pv(n.expires_in)));const l=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:l},error:null}}function Vh(n){const r=Bt(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(r.data.weak_password=n.weak_password),r}function Ar(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function Gv(n){return{data:n,error:null}}function Yv(n){const{action_link:r,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=n,h=ba(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Hh(n){return n}function Qv(n){return n.access_token&&n.refresh_token&&n.expires_in}const Do=["global","local","others"];class Xv{constructor({url:r="",headers:s={},fetch:l}){this.url=r,this.headers=s,this.fetch=$f(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Do[0]){if(Do.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(X(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ar})}catch(l){if(X(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:s}=r,l=ba(r,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Yv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ar})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,l,u,c,h,m,p;try{const v={nextPage:null,lastPage:0,total:0},x=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Hh});if(x.error)throw x.error;const w=await x.json(),b=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);v[`${N}Page`]=k}),v.total=parseInt(b)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(X(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){In(r);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ar})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){In(r);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Ar})}catch(l){if(X(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,s=!1){In(r);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ar})}catch(l){if(X(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){In(r.userId);try{const{data:s,error:l}=await ne(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(r){In(r.userId),In(r.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,l,u,c,h,m,p;try{const v={nextPage:null,lastPage:0,total:0},x=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Hh});if(x.error)throw x.error;const w=await x.json(),b=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);v[`${N}Page`]=k}),v.total=parseInt(b)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(X(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(X(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(r){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}}function Kh(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const Dn={debug:!!(globalThis&&Uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Zv extends Lf{}async function ex(n,r,s){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,u.name);try{return await s()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,u.name)}}else{if(r===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Zv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Dn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function tx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zf(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function rx(n){return parseInt(n,16)}function nx(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,l=>l.toString(16).padStart(2,"0")).join("")}function sx(n){var r;const{chainId:s,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:p,resources:v,scheme:x,uri:w,version:b}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const C=zf(n.address),_=x?`${x}://${l}`:l,k=n.statement?`${n.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${C}

${k}`;let I=`URI: ${w}
Version: ${b}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(I+=`
Expiration Time: ${u.toISOString()}`),m&&(I+=`
Not Before: ${m.toISOString()}`),p&&(I+=`
Request ID: ${p}`),v){let D=`
Resources:`;for(const U of v){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);D+=`
- ${U}`}I+=D}return`${N}
${I}`}class Fe extends Error{constructor({message:r,code:s,cause:l,name:u}){var c;super(r,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class xa extends Fe{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function ix({error:n,options:r}){var s,l,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Fe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(Mf(h)){if(c.rp.id!==h)return new Fe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ax({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Fe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Mf(l)){if(s.rpId!==l)return new Fe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class lx{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const ox=new lx;function ux(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:l}=n,u=ba(n,["challenge","user","excludeCredentials"]),c=Bn(r).buffer,h=Object.assign(Object.assign({},s),{id:Bn(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const v=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Bn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function cx(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,l=ba(n,["challenge","allowCredentials"]),u=Bn(r).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Bn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function dx(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:rn(new Uint8Array(n.response.attestationObject)),clientDataJSON:rn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function hx(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,l=n.getClientExtensionResults(),u=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:rn(new Uint8Array(u.authenticatorData)),clientDataJSON:rn(new Uint8Array(u.clientDataJSON)),signature:rn(new Uint8Array(u.signature)),userHandle:u.userHandle?rn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Mf(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Jh(){var n,r;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function fx(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",r)}:{data:null,error:new xa("Empty credential response",r)}}catch(r){return{data:null,error:ix({error:r,options:n})}}}async function mx(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",r)}:{data:null,error:new xa("Empty credential response",r)}}catch(r){return{data:null,error:ax({error:r,options:n})}}}const px={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ya(...n){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of n)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(s(h))l[c]=h;else if(r(h)){const m=l[c];r(m)?l[c]=ya(m,h):l[c]=ya(h)}else l[c]=h}return l}function vx(n,r){return ya(px,n,r||{})}function xx(n,r){return ya(gx,n,r||{})}class yx{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:l,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:m};const p=u??ox.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=vx(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:x,error:w}=await fx({publicKey:v,signal:p});return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const v=xx(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:x,error:w}=await mx(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new tn("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:l})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Bs("rpId is required for WebAuthn authentication")};try{if(!Jh())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new tn("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Bs("rpId is required for WebAuthn registration")};try{if(!Jh())return{data:null,error:new tn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===r&&b.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:m};const{data:p,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:c});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(h){return X(h)?{data:null,error:h}:{data:null,error:new tn("Unexpected error in register",h)}}}}tx();const wx={url:pv,storageKey:gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gh(n,r,s){return await s()}const Un={};class Fs{get jwks(){var r,s;return(s=(r=Un[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=Un[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Un[this.storageKey]=Object.assign(Object.assign({},Un[this.storageKey]),{cachedAt:r})}constructor(r){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},wx),r);if(this.storageKey=c.storageKey,this.instanceID=(s=Fs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Fs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&et()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Xv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$f(c.fetch),this.lock=c.lock||Gh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&et()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=ex:this.lock=Gh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Uf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Kh(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Af}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},l="none";if(et()&&(s=Ov(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),et()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),bv(c)){const p=(r=c.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?this._returnResult({error:s}):this._returnResult({error:new tn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,l,u;try{const c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:Bt}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,l,u;try{let c;if("email"in r){const{email:x,password:w,options:b}=r;let C=null,_=null;this.flowType==="pkce"&&([C,_]=await An(this.storage,this.storageKey)),c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:w,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:_},xform:Bt})}else if("phone"in r){const{phone:x,password:w,options:b}=r;c=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},channel:(u=b==null?void 0:b.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Bt})}else throw new da("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return await Ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:m}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Vh})}else if("phone"in r){const{phone:c,password:h,options:m}=r;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Vh})}else throw new da("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new On;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,l,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,l,u,c,h,m,p,v,x,w,b;let C,_;if("message"in r)C=r.message,_=r.signature;else{const{chain:k,wallet:N,statement:I,options:D}=r;let U;if(et())if(typeof N=="object")U=N;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")U=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const R=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href),F=await U.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=zf(F[0]);let W=(l=D==null?void 0:D.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!W){const he=await U.request({method:"eth_chainId"});W=rx(he)}const ce={domain:R.host,address:H,statement:I,uri:R.href,version:"1",chainId:W,nonce:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=D==null?void 0:D.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(x=D==null?void 0:D.signInWithEthereum)===null||x===void 0?void 0:x.resources};C=sx(ce),_=await U.request({method:"personal_sign",params:[nx(C),H]})}try{const{data:k,error:N}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:_},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Bt});if(N)throw N;if(!k||!k.session||!k.user){const I=new On;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(X(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(r){var s,l,u,c,h,m,p,v,x,w,b,C;let _,k;if("message"in r)_=r.message,k=r.signature;else{const{chain:N,wallet:I,statement:D,options:U}=r;let R;if(et())if(typeof I=="object")R=I;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))R=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=I}const F=new URL((s=U==null?void 0:U.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in R&&R.signIn){const H=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),D?{statement:D}:null));let W;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")W=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)W=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)_=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),k=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(u=(l=U==null?void 0:U.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((m=U==null?void 0:U.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((v=U==null?void 0:U.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(x=U==null?void 0:U.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const H=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:N,error:I}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:rn(k)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Bt});if(I)throw I;if(!N||!N.session||!N.user){const D=new On;return this._returnResult({data:{user:null,session:null},error:D})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:I})}catch(N){if(X(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(r){const s=await Xr(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Nv;const{data:c,error:h}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Bt});if(await Ze(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new On;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",c.session)},0)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:l,token:u,access_token:c,nonce:h}=r,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Bt}),{data:p,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const x=new On;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,l,u,c,h;try{if("email"in r){const{email:m,options:p}=r;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await An(this.storage,this.storageKey));const{error:w}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:m,options:p}=r,{data:v,error:x}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p==null?void 0:p.data)!==null&&u!==void 0?u:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:x})}throw new da("You must provide either an email or phone number.")}catch(m){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var s,l;try{let u,c;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Bt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,v=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(u){if(X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var s,l,u,c,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await An(this.storage,this.storageKey));const v=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:Gv});return!((c=v.data)===null||c===void 0)&&c.url&&et()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;if(l)throw l;if(!s)throw new jt;const{error:u}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:l,type:u,options:c}=r,{error:h}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:l,type:u,options:c}=r,{data:h,error:m}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new da("You must provide either an email or phone number and a type")}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<Ro:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const h=await Xr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Io()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Vv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ar}):await this._useSession(async s=>{var l,u,c;const{data:h,error:m}=s;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ar})})}catch(s){if(X(s))return jv(s)&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new jt;const h=u.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await An(this.storage,this.storageKey));const{data:v,error:x}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Ar});if(x)throw x;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new jt;const s=Date.now()/1e3;let l=s,u=!0,c=null;const{payload:h}=Ao(r.access_token);if(h.exp&&(l=h.exp,u=l<=s),u){const{data:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(X(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var l;if(!r){const{data:h,error:m}=s;if(m)throw m;r=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new jt;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!et())throw new ha("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ha(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Lh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ha("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Lh("No code detected.");const{data:D,error:U}=await this._exchangeCodeForSession(r.code);if(U)throw U;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:p,token_type:v}=r;if(!c||!m||!h||!v)throw new ha("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(m);let b=x+w;p&&(b=parseInt(p));const C=b-x;C*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const _=b-w;x-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,x):x-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,x);const{data:k,error:N}=await this._getUser(c);if(N)throw N;const I={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:w,expires_at:b,refresh_token:h,token_type:v,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(l){if(X(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(_v(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Rv(),l={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await An(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,p,v,x;const{data:w,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return et()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:r.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(X(l))return this._returnResult({data:{provider:r.provider,url:null},error:l});throw l}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:m,token:p,access_token:v,nonce:x}=r,w=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c==null?void 0:c.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:v,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bt}),{data:b,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new On}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:C}))}catch(u){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)throw h;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Dv(async u=>(u>0&&await Iv(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Bt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Oo(c)&&Date.now()+h-l<Ln})}catch(l){if(this._debug(s,"error",l),X(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",l),et()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Xr(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await zn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Io()}else if(u&&!u.user&&!u.user){const h=await Xr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await Ze(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,u)):u.user=Io()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ro;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Ro}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Oo(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var s,l;if(!r)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Sa;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new jt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),X(c)){const h={data:null,error:c};return Oo(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,l=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Ze(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await zn(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=qh(u);await zn(this.storage,this.storageKey,c)}else{const u=qh(s);await zn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ze(this.storage,this.storageKey),await Ze(this.storage,this.storageKey+"-code-verifier"),await Ze(this.storage,this.storageKey+"-user"),this.userStorage&&await Ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-r)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ln}ms, refresh threshold is ${Go} ticks`),u<=Go&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Lf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await An(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l!=null&&l.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await ne(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:v}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&p.type==="totp"&&(!((u=p==null?void 0:p.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?dx(r.webauthn.credential_response):hx(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:p}=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await ne(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:ux(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:cx(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:l}=await this._challenge({factorId:r.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ao(l.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((s=(r=l.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const v=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new jt})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new jt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&et()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(r,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new jt});const h=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&et()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:l}=r;return l?this._returnResult({data:null,error:l}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new jt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let l=s.keys.find(m=>m.kid===r);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===r),l&&this.jwks_cached_at+yv>u)return l;const{data:c,error:h}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===r),!l)?null:l}async getClaims(r,s={}){try{let l=r;if(!l){const{data:C,error:_}=await this.getSession();if(_||!C.session)return this._returnResult({data:null,error:_});l=C.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:p}}=Ao(l);s!=null&&s.allowExpired||Fv(c.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:C}=await this.getUser(l);if(C)throw C;return{data:{claims:c,header:u,signature:h},error:null}}const x=qv(u.alg),w=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,h,Tv(`${m}.${p}`)))throw new Xo("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}}Fs.nextInstanceID={};const _x=Fs,jx="2.91.0";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const bx={"X-Client-Info":`supabase-js-${As}/${jx}`},Nx={headers:bx},Sx={schema:"public"},kx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ex={};function qs(n){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qs(n)}function Cx(n,r){if(qs(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var l=s.call(n,r);if(qs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Tx(n){var r=Cx(n,"string");return qs(r)=="symbol"?r:r+""}function Px(n,r,s){return(r=Tx(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Yh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);r&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),s.push.apply(s,l)}return s}function De(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Yh(Object(s),!0).forEach(function(l){Px(n,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Yh(Object(s)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(s,l))})}return n}const Rx=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Ox=()=>Headers,Ax=(n,r,s)=>{const l=Rx(s),u=Ox();return async(c,h)=>{var m;const p=(m=await r())!==null&&m!==void 0?m:n;let v=new u(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),l(c,De(De({},h),{},{headers:v}))}};function Ix(n){return n.endsWith("/")?n:n+"/"}function Dx(n,r){var s,l;const{db:u,auth:c,realtime:h,global:m}=n,{db:p,auth:v,realtime:x,global:w}=r,b={db:De(De({},p),u),auth:De(De({},v),c),realtime:De(De({},x),h),storage:{},global:De(De(De({},w),m),{},{headers:De(De({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function Ux(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ix(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $x=class extends _x{constructor(n){super(n)}},Lx=class{constructor(n,r,s){var l,u;this.supabaseUrl=n,this.supabaseKey=r;const c=Ux(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:Sx,realtime:Ex,auth:De(De({},kx),{},{storageKey:h}),global:Nx},p=Dx(s??{},m);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=p.auth)!==null&&v!==void 0?v:{},this.headers,p.global.fetch)}this.fetch=Ax(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new vg(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mv(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new hg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:l}=await n.auth.getSession();return(r=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:l,userStorage:u,storageKey:c,flowType:h,lock:m,debug:p,throwOnError:v},x,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $x({url:this.authUrl.href,headers:De(De({},b),x),storageKey:c,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:l,userStorage:u,flowType:h,lock:m,debug:p,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ig(this.realtimeUrl.href,De(De({},n),{},{params:De(De({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zx=(n,r,s)=>new Lx(n,r,s);function Mx(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Mx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bx="https://snnngysmaltnabucdpcn.supabase.co",Fx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A",me=zx(Bx,Fx),Bf=E.createContext(void 0);function qx({children:n}){const[r,s]=E.useState(null),[l,u]=E.useState(null),[c,h]=E.useState(null),[m,p]=E.useState(!0),v=async k=>{const{data:N,error:I}=await me.from("profiles").select("*").eq("id",k).maybeSingle();return I?(console.error("Error fetching profile:",I),null):N},x=async()=>{if(r){const k=await v(r.id);u(k)}};E.useEffect(()=>{me.auth.getSession().then(({data:{session:N}})=>{h(N),s((N==null?void 0:N.user)??null),N!=null&&N.user&&v(N.user.id).then(u),p(!1)});const{data:{subscription:k}}=me.auth.onAuthStateChange((N,I)=>{h(I),s((I==null?void 0:I.user)??null),I!=null&&I.user?v(I.user.id).then(u):u(null)});return()=>k.unsubscribe()},[]);const w=async(k,N,I)=>{const{error:D}=await me.auth.signUp({email:k,password:N,options:{data:{full_name:I}}});return{error:D}},b=async(k,N)=>{const{error:I}=await me.auth.signInWithPassword({email:k,password:N});return{error:I}},C=async()=>{await me.auth.signOut(),u(null)},_=async k=>{const{error:N}=await me.auth.resetPasswordForEmail(k,{redirectTo:`${window.location.origin}/reset-password`});return{error:N}};return a.jsx(Bf.Provider,{value:{user:r,profile:l,session:c,loading:m,signUp:w,signIn:b,signOut:C,resetPassword:_,refreshProfile:x},children:n})}function tt(){const n=E.useContext(Bf);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ff=(...n)=>n.filter((r,s,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=E.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:h,...m},p)=>E.createElement("svg",{ref:p,...Vx,width:r,height:r,stroke:n,strokeWidth:l?Number(s)*24/Number(r):s,className:Ff("lucide",u),...m},[...h.map(([v,x])=>E.createElement(v,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(n,r)=>{const s=E.forwardRef(({className:l,...u},c)=>E.createElement(Hx,{ref:c,iconNode:r,className:Ff(`lucide-${Wx(n)}`,l),...u}));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=le("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=le("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=le("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=le("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xe({children:n,variant:r="primary",size:s="md",loading:l=!1,fullWidth:u=!1,className:c="",disabled:h,...m}){const p="inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950",v={primary:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-600/30 hover:shadow-blue-500/40 focus:ring-blue-500",secondary:"bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white shadow-lg shadow-slate-700/25 focus:ring-slate-500",outline:"border-2 border-slate-600 text-slate-300 hover:border-blue-500 hover:text-blue-400 hover:bg-blue-500/5 focus:ring-blue-500",ghost:"text-slate-400 hover:text-white hover:bg-slate-800/50 focus:ring-slate-500",danger:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-600/30 focus:ring-red-500"},x={sm:"px-4 py-2 text-sm gap-2",md:"px-6 py-3 text-base gap-2",lg:"px-8 py-4 text-lg gap-3"};return a.jsxs("button",{className:`${p} ${v[r]} ${x[s]} ${u?"w-full":""} ${h||l?"opacity-50 cursor-not-allowed":""} ${c}`,disabled:h||l,...m,children:[l&&a.jsx(Zx,{size:s==="sm"?16:s==="md"?20:24,className:"animate-spin"}),n]})}const sy=[{icon:wa,title:"Portfolio Tracking",description:"Monitor your investment performance with real-time portfolio analytics and comprehensive ROI tracking."},{icon:Jf,title:"Secure Platform",description:"Your account information is protected with industry-standard security measures and encryption."},{icon:cr,title:"Easy Transactions",description:"Submit deposit and withdrawal requests seamlessly through our intuitive interface."},{icon:ka,title:"Dedicated Support",description:"Our team of investment professionals is available to assist with your account needs."}],iy=[{value:"$50M+",label:"Assets Under Management"},{value:"10,000+",label:"Active Investors"},{value:"99.9%",label:"Platform Uptime"},{value:"24/7",label:"Customer Support"}],rf=[{step:"01",title:"Create Account",description:"Register with your email and complete the verification process to get started."},{step:"02",title:"Submit Deposit",description:"Request a deposit to fund your investment account through our secure platform."},{step:"03",title:"Track Performance",description:"Monitor your portfolio growth and investment returns through your personalized dashboard."}];function ay(){return a.jsxs("div",{className:"min-h-screen bg-slate-950",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-slate-800/50 shadow-lg",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[a.jsxs(Ue,{to:"/",className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:a.jsx(Wt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-bold text-white block",children:"Prime Blocks"}),a.jsx("span",{className:"text-xs text-slate-400 hidden sm:block",children:"Investments"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[a.jsx(Ue,{to:"/login",children:a.jsx(xe,{variant:"ghost",size:"sm",children:"Sign In"})}),a.jsx(Ue,{to:"/register",children:a.jsx(xe,{size:"sm",className:"shadow-lg shadow-blue-500/20",children:"Get Started"})})]})]})})}),a.jsxs("section",{className:"relative pt-32 lg:pt-40 pb-20 px-4 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900/95 to-slate-950 z-10"}),a.jsx("img",{src:"https://images.pexels.com/photos/534216/pexels-photo-534216.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent z-10"})]}),a.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-500/10 border border-blue-500/30 rounded-full text-blue-400 text-sm mb-8 backdrop-blur-sm shadow-lg",children:[a.jsx(Kx,{size:16}),a.jsx("span",{className:"font-medium",children:"Trusted Investment Platform"})]}),a.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold text-white leading-tight mb-6",children:["Professional Investment",a.jsx("span",{className:"block bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Management Dashboard"})]}),a.jsx("p",{className:"text-lg sm:text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Track your portfolio performance, manage transactions, and monitor your investments all in one secure, professional platform."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(Ue,{to:"/register",children:a.jsxs(xe,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Start Investing",a.jsx(Vs,{size:20})]})}),a.jsx(Ue,{to:"/login",children:a.jsx(xe,{variant:"outline",size:"lg",className:"backdrop-blur-sm",children:"Access Dashboard"})})]})]})})]}),a.jsxs("section",{className:"relative py-16 px-4 border-y border-slate-800/50 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-950/90 z-10"}),a.jsx("img",{src:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),a.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:iy.map(n=>a.jsxs("div",{className:"text-center group",children:[a.jsx("div",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-br from-blue-400 to-blue-600 bg-clip-text text-transparent mb-2 group-hover:scale-105 transition-transform",children:n.value}),a.jsx("div",{className:"text-slate-300 text-sm sm:text-base font-medium",children:n.label})]},n.label))})})]}),a.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900/95 to-slate-950 z-10"}),a.jsx("img",{src:"https://images.pexels.com/photos/187041/pexels-photo-187041.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Why Choose Prime Blocks"}),a.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Our platform provides everything you need to track and manage your investments effectively."})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:sy.map(n=>a.jsxs("div",{className:"p-6 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl hover:border-blue-500/50 hover:bg-slate-800/80 transition-all duration-300 group shadow-xl hover:shadow-2xl hover:shadow-blue-500/10",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all",children:a.jsx(n.icon,{className:"text-blue-400",size:24})}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:n.title}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:n.description})]},n.title))})]})]}),a.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-950/95 z-10"}),a.jsx("img",{src:"https://images.pexels.com/photos/6801647/pexels-photo-6801647.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-5"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"How It Works"}),a.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Get started with Prime Blocks in three simple steps."})]}),a.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:rf.map((n,r)=>a.jsxs("div",{className:"relative",children:[r<rf.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-12 left-1/2 w-full h-0.5 bg-gradient-to-r from-blue-500/50 to-transparent z-0"}),a.jsxs("div",{className:"relative z-10 p-8 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl text-center hover:border-blue-500/50 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/10 group",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform",children:a.jsx("span",{className:"text-2xl font-bold text-white",children:n.step})}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:n.title}),a.jsx("p",{className:"text-slate-400 leading-relaxed",children:n.description})]})]},n.step))})]})]}),a.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-blue-950/20 to-slate-950 z-10"}),a.jsx("img",{src:"https://images.pexels.com/photos/7413915/pexels-photo-7413915.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),a.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-20",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Ready to Get Started?"}),a.jsx("p",{className:"text-slate-300 text-lg mb-10 max-w-2xl mx-auto",children:"Join thousands of investors tracking their portfolio performance with Prime Blocks."}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:a.jsx(Ue,{to:"/register",children:a.jsxs(xe,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Create Your Account",a.jsx(Vs,{size:20})]})})}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-4 md:gap-6 text-sm text-slate-300",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx($e,{size:16,className:"text-emerald-400"}),"Free to register"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx($e,{size:16,className:"text-emerald-400"}),"No hidden fees"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx($e,{size:16,className:"text-emerald-400"}),"Secure platform"]})]})]})]}),a.jsx("footer",{className:"py-12 px-4 border-t border-slate-800/50 bg-slate-950/80 backdrop-blur-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:a.jsx(Wt,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-lg font-bold text-white block",children:"Prime Blocks"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Investments"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[a.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Contact"})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800/50 text-center text-sm text-slate-500",children:a.jsx("p",{className:"text-slate-400",children:"2025 Prime Blocks Investments. All rights reserved."})})]})})]})}const He=E.forwardRef(({label:n,error:r,helpText:s,className:l="",...u},c)=>a.jsxs("div",{className:"space-y-2",children:[n&&a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:n}),a.jsx("input",{ref:c,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${l}`,...u}),s&&!r&&a.jsx("p",{className:"text-sm text-slate-500",children:s}),r&&a.jsx("p",{className:"text-sm text-red-400",children:r})]}));He.displayName="Input";function ly(){const n=Vn(),{signIn:r}=tt(),[s,l]=E.useState(""),[u,c]=E.useState(""),[h,m]=E.useState(""),[p,v]=E.useState(!1),x=async w=>{w.preventDefault(),m(""),v(!0);const{error:b}=await r(s,u);b?(m(b.message),v(!1)):n("/dashboard")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Ue,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:a.jsx(Wt,{className:"text-white",size:24})}),a.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-slate-400",children:"Sign in to access your investment dashboard"})]}),a.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[h&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:h})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsx(He,{label:"Email Address",type:"email",value:s,onChange:w=>l(w.target.value),placeholder:"you@example.com",required:!0}),a.jsx(He,{label:"Password",type:"password",value:u,onChange:w=>c(w.target.value),placeholder:"Enter your password",required:!0}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{htmlFor:"remember-me",className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{id:"remember-me",type:"checkbox",className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),a.jsx("span",{className:"text-sm text-slate-400",children:"Remember me"})]}),a.jsx(Ue,{to:"/forgot-password",className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:"Forgot password?"})]}),a.jsx(xe,{type:"submit",fullWidth:!0,loading:p,children:"Sign In"})]}),a.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Don't have an account?"," ",a.jsx(Ue,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Create one"})]})]}),a.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})})}function oy(){const n=Vn(),{signUp:r}=tt(),[s,l]=E.useState(""),[u,c]=E.useState(""),[h,m]=E.useState(""),[p,v]=E.useState(""),[x,w]=E.useState(""),[b,C]=E.useState(!1),[_,k]=E.useState(!1),N=async I=>{if(I.preventDefault(),w(""),h!==p){w("Passwords do not match");return}if(h.length<8){w("Password must be at least 8 characters");return}const D=/[A-Z]/.test(h),U=/[a-z]/.test(h),R=/[0-9]/.test(h),F=/[!@#$%^&*(),.?":{}|<>]/.test(h);if(!D||!U||!R||!F){w("Password must contain uppercase, lowercase, number, and special character");return}C(!0);const{error:H}=await r(u,h,s);H?(w(H.message),C(!1)):(k(!0),setTimeout(()=>n("/dashboard"),1500))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Ue,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:a.jsx(Wt,{className:"text-white",size:24})}),a.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),a.jsx("p",{className:"text-slate-400",children:"Join Prime Blocks Investments today"})]}),a.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[x&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:x})]}),_&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Account created successfully! Redirecting..."})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsx(He,{label:"Full Name",type:"text",value:s,onChange:I=>l(I.target.value),placeholder:"John Doe",required:!0}),a.jsx(He,{label:"Email Address",type:"email",value:u,onChange:I=>c(I.target.value),placeholder:"you@example.com",required:!0}),a.jsx(He,{label:"Password",type:"password",value:h,onChange:I=>m(I.target.value),placeholder:"Create a password",helpText:"Must be at least 6 characters",required:!0}),a.jsx(He,{label:"Confirm Password",type:"password",value:p,onChange:I=>v(I.target.value),placeholder:"Confirm your password",required:!0}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),a.jsxs("span",{className:"text-sm text-slate-400",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})]}),a.jsx(xe,{type:"submit",fullWidth:!0,loading:b,children:"Create Account"})]}),a.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Already have an account?"," ",a.jsx(Ue,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Sign in"})]})]})]})})}function uy(){const{resetPassword:n}=tt(),[r,s]=E.useState(""),[l,u]=E.useState(""),[c,h]=E.useState(!1),[m,p]=E.useState(!1),v=async x=>{x.preventDefault(),u(""),h(!0);const{error:w}=await n(r);w?u(w.message):p(!0),h(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Ue,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:a.jsx(Wt,{className:"text-white",size:24})}),a.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Reset Password"}),a.jsx("p",{className:"text-slate-400",children:"Enter your email to receive a reset link"})]}),a.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[l&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:l})]}),m?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx($e,{className:"text-emerald-400",size:32})}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Check your email"}),a.jsxs("p",{className:"text-slate-400 mb-6",children:["We've sent a password reset link to ",a.jsx("strong",{className:"text-white",children:r})]}),a.jsx(Ue,{to:"/login",children:a.jsxs(xe,{variant:"outline",fullWidth:!0,children:[a.jsx(Qh,{size:20}),"Back to Sign In"]})})]}):a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsx(He,{label:"Email Address",type:"email",value:r,onChange:x=>s(x.target.value),placeholder:"you@example.com",required:!0}),a.jsx(xe,{type:"submit",fullWidth:!0,loading:c,children:"Send Reset Link"}),a.jsxs(Ue,{to:"/login",className:"flex items-center justify-center gap-2 text-slate-400 hover:text-white transition-colors",children:[a.jsx(Qh,{size:20}),"Back to Sign In"]})]})]})]})})}function Yf(){const{user:n}=tt(),[r,s]=E.useState([]),[l,u]=E.useState(!0),[c,h]=E.useState(null),m=E.useCallback(async()=>{if(!n)return;u(!0);const{data:p,error:v}=await me.from("transactions").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});v?h(v.message):s(p||[]),u(!1)},[n]);return E.useEffect(()=>{m()},[m]),{transactions:r,loading:l,error:c,refetch:m}}function Qf(){const{user:n}=tt(),[r,s]=E.useState([]),[l,u]=E.useState(null),[c,h]=E.useState(!0),[m,p]=E.useState(null),v=E.useCallback(async()=>{if(!n)return;h(!0);const{data:x,error:w}=await me.from("portfolio_performance").select("*").eq("user_id",n.id).order("date",{ascending:!1}).limit(30);w?p(w.message):(s(x||[]),u((x==null?void 0:x[0])||null)),h(!1)},[n]);return E.useEffect(()=>{v()},[v]),{performance:r,latestPerformance:l,loading:c,error:m,refetch:v}}function mu(){const{user:n}=tt(),[r,s]=E.useState([]),[l,u]=E.useState(!0),[c,h]=E.useState(null),m=E.useCallback(async()=>{if(!n)return;u(!0);const{data:v,error:x}=await me.from("deposit_requests").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});x?h(x.message):s(v||[]),u(!1)},[n]),p=async(v,x,w,b)=>{if(!n)return{error:new Error("Not authenticated")};const{error:C}=await me.from("deposit_requests").insert({user_id:n.id,amount:v,payment_method:x,reference_number:w,notes:b});if(!C){await m();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-deposit-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:n.id,amount:v,paymentMethod:x,referenceNumber:w,notes:b})})}catch(_){console.error("Failed to send notification:",_)}}return{error:C}};return E.useEffect(()=>{m()},[m]),{requests:r,loading:l,error:c,createRequest:p,refetch:m}}function pu(){const{user:n}=tt(),[r,s]=E.useState([]),[l,u]=E.useState(!0),[c,h]=E.useState(null),m=E.useCallback(async()=>{if(!n)return;u(!0);const{data:v,error:x}=await me.from("withdrawal_requests").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});x?h(x.message):s(v||[]),u(!1)},[n]),p=async(v,x,w,b)=>{if(!n)return{error:new Error("Not authenticated")};const{error:C}=await me.from("withdrawal_requests").insert({user_id:n.id,amount:v,withdrawal_method:x,account_details:w,notes:b});if(!C){await m();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-withdrawal-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:n.id,amount:v,withdrawalMethod:x,accountDetails:w,notes:b})})}catch(_){console.error("Failed to send notification:",_)}}return{error:C}};return E.useEffect(()=>{m()},[m]),{requests:r,loading:l,error:c,createRequest:p,refetch:m}}function Xf(){const{user:n}=tt(),[r,s]=E.useState(null),[l,u]=E.useState(!0),[c,h]=E.useState(null),m=E.useCallback(async()=>{if(!n)return;u(!0);const{data:v,error:x}=await me.from("kyc_verifications").select("*").eq("user_id",n.id).maybeSingle();x?h(x.message):s(v),u(!1)},[n]),p=async(v,x,w,b)=>{if(!n)return{error:new Error("Not authenticated")};const{data:C,error:_}=await me.from("kyc_verifications").upsert({user_id:n.id,full_name:v,id_type:x,id_number:w,id_image_url:b||null,status:"under_review",submitted_at:new Date().toISOString()},{onConflict:"user_id"}).select().maybeSingle();return _||await m(),{data:C,error:_}};return E.useEffect(()=>{m()},[m]),{kyc:r,loading:l,error:c,submitKyc:p,refetch:m}}const nf=[{path:"/dashboard",label:"Dashboard",icon:Xx},{path:"/account",label:"Account Summary",icon:Ys},{path:"/transactions",label:"Transactions",icon:Ks},{path:"/deposit",label:"Deposit",icon:Zt},{path:"/withdraw",label:"Withdraw",icon:ur},{path:"/market",label:"Market Overview",icon:wa},{path:"/kyc",label:"Verify Identity",icon:Js},{path:"/support",label:"Support & Contact",icon:_a}],cy=[{path:"/admin",label:"Admin Panel",icon:ry},{path:"/admin/users",label:"Manage Users",icon:ka}];function St({children:n}){const{profile:r,signOut:s}=tt(),l=sn(),u=Vn(),[c,h]=E.useState(!1),m=async()=>{await s(),u("/")},p=r!=null&&r.is_admin?[...nf,...cy]:nf;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[a.jsx("button",{onClick:()=>h(!c),className:"lg:hidden fixed top-3 left-3 z-50 p-2 bg-slate-800/90 backdrop-blur-sm rounded-lg text-white shadow-lg border border-slate-700/50","aria-label":c?"Close menu":"Open menu",children:c?a.jsx(fu,{size:20}):a.jsx(ty,{size:20})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800/50 shadow-2xl transform transition-transform duration-300 lg:translate-x-0 ${c?"translate-x-0":"-translate-x-full"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-slate-800/50",children:a.jsxs(Ue,{to:"/dashboard",className:"flex items-center gap-3 group",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:shadow-blue-500/40 transition-all",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"PB"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-white font-semibold text-lg",children:"Prime Blocks"}),a.jsx("p",{className:"text-slate-400 text-xs",children:"Investments"})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:p.map(v=>{const x=l.pathname===v.path,w=v.icon;return a.jsxs(Ue,{to:v.path,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${x?"bg-gradient-to-r from-blue-600/20 to-blue-500/20 text-white border border-blue-500/30 shadow-lg shadow-blue-500/10":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[a.jsx(w,{size:20,className:x?"text-blue-400":""}),a.jsx("span",{className:"font-medium",children:v.label}),x&&a.jsx(Wf,{size:16,className:"ml-auto text-blue-400"})]},v.path)})}),a.jsxs("div",{className:"p-4 border-t border-slate-800/50",children:[a.jsxs("div",{className:"p-4 bg-slate-800/60 backdrop-blur-sm rounded-xl mb-4 border border-slate-700/30 shadow-lg",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:"Logged in as"}),a.jsx("p",{className:"text-white font-medium truncate",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)}),(r==null?void 0:r.is_admin)&&a.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Administrator"})]}),a.jsxs("button",{onClick:m,className:"flex items-center gap-3 w-full px-4 py-3 text-slate-400 hover:text-white hover:bg-red-500/10 hover:border-red-500/30 rounded-xl transition-all duration-200 border border-transparent",children:[a.jsx(ey,{size:20}),a.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>h(!1)}),a.jsx("main",{className:"lg:ml-64 min-h-screen",children:a.jsx("div",{className:"pt-16 px-3 pb-4 md:pt-6 md:px-6 md:pb-6 lg:p-8",children:n})})]})}function Z({children:n,className:r="",hover:s=!1}){return a.jsx("div",{className:`bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl shadow-xl ${s?"card-hover":""} ${r}`,children:n})}function Se({children:n,className:r=""}){return a.jsx("div",{className:`p-6 border-b border-slate-700/50 ${r}`,children:n})}function ee({children:n,className:r=""}){return a.jsx("div",{className:`p-6 ${r}`,children:n})}function nn({status:n}){const r={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"},s={pending:"Pending",approved:"Approved",rejected:"Rejected"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${r[n]}`,children:s[n]})}function fa(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function sf(n){return`${n>=0?"+":""}${n.toFixed(2)}%`}function dy(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function hy(){const{profile:n}=tt(),{transactions:r}=Yf(),{latestPerformance:s}=Qf(),{requests:l}=mu(),{requests:u}=pu(),{kyc:c}=Xf(),h=l.filter(k=>k.status==="pending").length,m=u.filter(k=>k.status==="pending").length,p=r.slice(0,5),x=(()=>{if(!c)return{label:"Not Verified",color:"text-slate-400",bg:"bg-slate-500/20",icon:tf};switch(c.status){case"verified":return{label:"Verified",color:"text-emerald-400",bg:"bg-emerald-500/20",icon:Js};case"under_review":return{label:"Under Review",color:"text-yellow-400",bg:"bg-yellow-500/20",icon:cr};case"rejected":return{label:"Rejected",color:"text-red-400",bg:"bg-red-500/20",icon:ef};default:return{label:"Not Verified",color:"text-slate-400",bg:"bg-slate-500/20",icon:tf}}})(),w=(n==null?void 0:n.balance)||0,b=(n==null?void 0:n.total_deposits)||0,C=(n==null?void 0:n.total_profits)||0,_=b>0?(w-b)/b*100:0;return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:["Welcome back, ",(n==null?void 0:n.full_name)||"Investor"]}),a.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"Here's an overview of your investment portfolio."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 md:mb-8",children:[a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Portfolio Value"}),a.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:fa(w)}),s&&a.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${s.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:[s.daily_change_percent>=0?a.jsx(Wt,{size:14,className:"md:w-4 md:h-4"}):a.jsx(Gf,{size:14,className:"md:w-4 md:h-4"}),a.jsxs("span",{className:"truncate",children:[sf(s.daily_change_percent)," today"]})]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-primary-500/20 rounded-xl flex-shrink-0",children:a.jsx(Ys,{className:"text-primary-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Deposits"}),a.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:fa(b)}),a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[a.jsx(Ws,{size:14,className:"md:w-4 md:h-4"}),a.jsx("span",{className:"truncate",children:"Lifetime deposits"})]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-emerald-500/20 rounded-xl flex-shrink-0",children:a.jsx(Zt,{className:"text-emerald-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Profits"}),a.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:fa(C)}),a.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${C>=0?"text-emerald-400":"text-red-400"}`,children:[a.jsx(Hn,{size:14,className:"md:w-4 md:h-4"}),a.jsx("span",{className:"truncate",children:"Credited earnings"})]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-accent-500/20 rounded-xl flex-shrink-0",children:a.jsx(Wt,{className:"text-accent-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total ROI"}),a.jsx("p",{className:`text-xl md:text-2xl lg:text-3xl font-bold break-words ${_>=0?"text-emerald-400":"text-red-400"}`,children:sf(_)}),a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[a.jsx(Zh,{size:14,className:"md:w-4 md:h-4"}),a.jsx("span",{className:"truncate",children:"Return on investment"})]})]}),a.jsx("div",{className:"p-2 md:p-3 bg-yellow-500/20 rounded-xl flex-shrink-0",children:a.jsx(Zh,{className:"text-yellow-400 w-5 h-5 md:w-6 md:h-6"})})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.jsxs(Z,{className:"lg:col-span-2",children:[a.jsxs(Se,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Recent Transactions"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your latest account activity"})]}),a.jsx(Ue,{to:"/transactions",children:a.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",a.jsx(Vs,{size:16})]})})]}),a.jsx(ee,{className:"p-0",children:p.length>0?a.jsx("div",{className:"divide-y divide-slate-700/50",children:p.map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-slate-700/20 transition-colors gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[a.jsx("div",{className:`p-1.5 md:p-2 rounded-lg flex-shrink-0 ${k.type==="deposit"||k.type==="profit_credit"?"bg-emerald-500/20":"bg-red-500/20"}`,children:k.type==="deposit"||k.type==="profit_credit"?a.jsx(Zt,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"}):a.jsx(ur,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-white font-medium capitalize text-sm md:text-base truncate",children:k.type.replace("_"," ")}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:dy(k.created_at)})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("p",{className:`font-semibold text-sm md:text-base ${k.type==="deposit"||k.type==="profit_credit"?"text-emerald-400":"text-red-400"}`,children:[k.type==="deposit"||k.type==="profit_credit"?"+":"-",fa(k.amount)]}),a.jsx(nn,{status:k.status})]})]},k.id))}):a.jsxs("div",{className:"p-6 md:p-8 text-center text-slate-400",children:[a.jsx(Ws,{size:32,className:"md:w-10 md:h-10 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm md:text-base",children:"No transactions yet"})]})})]}),a.jsxs(Z,{children:[a.jsxs(Se,{children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Pending Requests"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Awaiting processing"})]}),a.jsxs(ee,{className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Deposits"}),a.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:h})]}),a.jsx(Ue,{to:"/deposit",children:a.jsxs(xe,{variant:"outline",size:"sm",fullWidth:!0,children:[a.jsx(Zt,{size:16}),"New Deposit"]})})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Withdrawals"}),a.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:m})]}),a.jsx(Ue,{to:"/withdraw",children:a.jsxs(xe,{variant:"outline",size:"sm",fullWidth:!0,children:[a.jsx(ur,{size:16}),"New Withdrawal"]})})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-primary-500/10 border border-primary-500/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary-400 mb-2",children:[a.jsx(cr,{size:14,className:"md:w-4 md:h-4"}),a.jsx("span",{className:"text-xs md:text-sm font-medium",children:"Processing Time"})]}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Requests are typically processed within 1-3 business days."})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsx(Z,{className:`border ${x.bg.replace("/20","/30")}`,children:a.jsxs(ee,{className:"p-4 md:p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 md:p-3 ${x.bg} rounded-xl`,children:a.jsx(x.icon,{className:`${x.color} w-5 h-5 md:w-6 md:h-6`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-xs md:text-sm",children:"Identity Verification"}),a.jsx("p",{className:`font-semibold ${x.color}`,children:x.label})]})]})}),a.jsx(Ue,{to:"/kyc",children:a.jsxs(xe,{variant:"outline",size:"sm",fullWidth:!0,children:[a.jsx(Js,{size:16}),(c==null?void 0:c.status)==="verified"?"View Status":"Verify Identity"]})})]})}),a.jsx(Z,{className:"lg:col-span-2",children:a.jsx(ee,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(ef,{className:"text-yellow-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Investment Disclaimer"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"All investments carry risk. Past performance does not guarantee future results. The value of investments can go down as well as up. Please ensure you understand the risks involved before making investment decisions."})]})]})})})]})]})}function Rr(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function Uo(n){return`${n>=0?"+":""}${n.toFixed(2)}%`}function af(n){return new Date(n).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function fy(){var ce,he,Ke,Vt;const{profile:n,user:r,refreshProfile:s}=tt(),{performance:l}=Qf(),[u,c]=E.useState(!1),[h,m]=E.useState(""),[p,v]=E.useState(""),[x,w]=E.useState(!1),[b,C]=E.useState(!1),[_,k]=E.useState("");E.useEffect(()=>{n&&(m(n.full_name||""),v(n.email||""))},[n]);const N=(n==null?void 0:n.balance)||0,I=(n==null?void 0:n.total_deposits)||0,D=(n==null?void 0:n.total_withdrawals)||0,U=(n==null?void 0:n.total_profits)||0,R=I>0?(N-I)/I*100:0,F=()=>{m((n==null?void 0:n.full_name)||""),v((n==null?void 0:n.email)||""),k(""),c(!0)},H=()=>{m((n==null?void 0:n.full_name)||""),v((n==null?void 0:n.email)||""),k(""),c(!1)},W=async()=>{if(r){k(""),w(!0);try{const{error:_e}=await me.from("profiles").update({full_name:h,email:p}).eq("id",r.id);if(_e){k(_e.message),w(!1);return}if(p!==(n==null?void 0:n.email)){const{error:rt}=await me.auth.updateUser({email:p});if(rt){k(rt.message),w(!1);return}}await s(),C(!0),setTimeout(()=>{C(!1),c(!1)},1500)}catch{k("Failed to save changes. Please try again.")}w(!1)}};return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:"Account Summary"}),a.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"View your account details and investment summary."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[a.jsxs(Z,{children:[a.jsxs(Se,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Profile Information"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your account details"})]}),!u&&a.jsx(xe,{variant:"outline",size:"sm",onClick:F,children:"Edit Profile"})]}),a.jsx(ee,{className:"space-y-6",children:u?a.jsxs("div",{className:"space-y-4",children:[_&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:_})]}),b&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Profile updated successfully!"})]}),a.jsx(He,{label:"Full Name",value:h,onChange:_e=>m(_e.target.value),placeholder:"Enter your full name"}),a.jsx(He,{label:"Email Address",type:"email",value:p,onChange:_e=>v(_e.target.value),placeholder:"Enter your email",helpText:"Changing your email will require verification"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(xe,{onClick:W,loading:x,disabled:b,children:b?a.jsxs(a.Fragment,{children:[a.jsx($e,{size:16}),"Saved"]}):"Save Changes"}),a.jsx(xe,{variant:"ghost",onClick:H,disabled:x,children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:a.jsx(eu,{className:"text-primary-400",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-400",children:"Full Name"}),a.jsx("p",{className:"text-white font-medium",children:(n==null?void 0:n.full_name)||"Not set"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:a.jsx(Hf,{className:"text-accent-400",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-400",children:"Email Address"}),a.jsx("p",{className:"text-white font-medium",children:n==null?void 0:n.email})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:a.jsx(qf,{className:"text-emerald-400",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-400",children:"Member Since"}),a.jsx("p",{className:"text-white font-medium",children:n!=null&&n.created_at?af(n.created_at):"N/A"})]})]})]})})]}),a.jsxs(Z,{children:[a.jsxs(Se,{children:[a.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Investment Summary"}),a.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your portfolio at a glance"})]}),a.jsx(ee,{children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Ys,{className:"text-primary-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Portfolio Value"})]}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Rr(N)})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:a.jsx(Wt,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Deposits"})]}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Rr(I)})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-red-500/20 rounded-lg",children:a.jsx(Gf,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Withdrawals"})]}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Rr(D)})]}),a.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-accent-500/20 rounded-lg",children:a.jsx(Hn,{className:"text-accent-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Profits"})]}),a.jsx("p",{className:`text-xl md:text-2xl font-bold ${U>=0?"text-emerald-400":"text-red-400"}`,children:Rr(U)})]})]})})]}),l.length>0&&a.jsxs(Z,{children:[a.jsxs(Se,{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance History"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Recent portfolio performance"})]}),a.jsx(ee,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-700/50",children:[a.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"Date"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Value"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Daily Change"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Total ROI"})]})}),a.jsx("tbody",{children:l.slice(0,10).map(_e=>a.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20",children:[a.jsx("td",{className:"p-4 text-white",children:af(_e.date)}),a.jsx("td",{className:"p-4 text-right text-white font-medium",children:Rr(_e.portfolio_value)}),a.jsx("td",{className:`p-4 text-right font-medium ${_e.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:Uo(_e.daily_change_percent)}),a.jsx("td",{className:`p-4 text-right font-medium ${_e.total_roi_percent>=0?"text-emerald-400":"text-red-400"}`,children:Uo(_e.total_roi_percent)})]},_e.id))})]})})})]})]}),a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsx(Z,{children:a.jsxs(ee,{className:"text-center p-6 md:p-8",children:[a.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4",children:a.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:((he=(ce=n==null?void 0:n.full_name)==null?void 0:ce.charAt(0))==null?void 0:he.toUpperCase())||((Vt=(Ke=n==null?void 0:n.email)==null?void 0:Ke.charAt(0))==null?void 0:Vt.toUpperCase())||"U"})}),a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-1",children:(n==null?void 0:n.full_name)||"Investor"}),a.jsx("p",{className:"text-slate-400 text-xs md:text-sm break-words",children:n==null?void 0:n.email}),(n==null?void 0:n.is_admin)&&a.jsx("span",{className:"inline-block mt-3 px-3 py-1 bg-accent-500/20 text-accent-400 text-sm rounded-full",children:"Administrator"})]})}),a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"ROI Summary"})}),a.jsxs(ee,{children:[a.jsxs("div",{className:"text-center mb-4 md:mb-6",children:[a.jsx("p",{className:`text-3xl md:text-4xl font-bold ${R>=0?"text-emerald-400":"text-red-400"}`,children:Uo(R)}),a.jsx("p",{className:"text-slate-400 text-xs md:text-sm mt-1",children:"Total Return on Investment"})]}),a.jsxs("div",{className:"space-y-2 md:space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Initial Investment"}),a.jsx("span",{className:"text-white",children:Rr(I)})]}),a.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Current Value"}),a.jsx("span",{className:"text-white",children:Rr(N)})]}),a.jsxs("div",{className:"flex justify-between text-xs md:text-sm pt-2 md:pt-3 border-t border-slate-700/50",children:[a.jsx("span",{className:"text-slate-400",children:"Net Gain/Loss"}),a.jsx("span",{className:`font-medium ${N-I>=0?"text-emerald-400":"text-red-400"}`,children:Rr(N-I)})]})]})]})]}),a.jsx(Z,{children:a.jsxs(ee,{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:a.jsx(Jf,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),a.jsx("span",{className:"font-medium text-white text-sm md:text-base",children:"Account Security"})]}),a.jsxs("div",{className:"space-y-2 text-xs md:text-sm text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),a.jsx("span",{children:"Email verified"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),a.jsx("span",{children:"Secure connection (HTTPS)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),a.jsx("span",{children:"Data encryption enabled"})]})]})]})})]})]})]})}function lf(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function of(n){return new Date(n).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const uf={deposit:"Deposit",withdrawal:"Withdrawal",profit_credit:"Profit Credit",balance_adjustment:"Balance Adjustment",deposit_request:"Deposit Request",withdrawal_request:"Withdrawal Request"},cf={bank_transfer:"Bank Transfer",wire_transfer:"Wire Transfer",crypto:"Cryptocurrency"};function my({transaction:n,onClose:r}){const s=Vn();if(!n)return null;const l=["deposit","deposit_request","profit_credit"].includes(n.type),u=()=>{const m=`
Transaction ID: ${n.transactionId||n.id}
Type: ${uf[n.type]||n.type}
Amount: ${lf(n.amount)}
Status: ${n.status}
Date: ${of(n.date)}
${n.paymentMethod?`Payment Method: ${cf[n.paymentMethod]||n.paymentMethod}`:""}
${n.referenceNumber?`Reference: ${n.referenceNumber}`:""}
`.trim(),p=n.type.includes("deposit")?"deposit":"withdrawal";s("/support",{state:{prefillSubject:p,prefillMessage:`I need assistance with the following transaction:

${m}

Description of issue:
`}}),r()},c=()=>l?a.jsx(Zt,{className:"text-emerald-400",size:24}):a.jsx(ur,{className:"text-red-400",size:24}),h=()=>l?"bg-emerald-500/20":"bg-red-500/20";return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),a.jsxs("div",{className:"relative w-full max-w-lg bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-xl ${h()}`,children:c()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Transaction Details"}),a.jsx("p",{className:"text-sm text-slate-400",children:uf[n.type]||n.type})]})]}),a.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(fu,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[n.transactionId&&a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Zo,{size:16}),a.jsx("span",{className:"text-sm",children:"Transaction ID"})]}),a.jsx("p",{className:"text-white font-mono text-lg",children:n.transactionId})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Hn,{size:16}),a.jsx("span",{className:"text-sm",children:"Amount"})]}),a.jsxs("p",{className:`text-xl font-bold ${l?"text-emerald-400":"text-red-400"}`,children:[l?"+":"-",lf(n.amount)]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Ks,{size:16}),a.jsx("span",{className:"text-sm",children:"Status"})]}),a.jsx("div",{className:"mt-1",children:a.jsx(nn,{status:n.status})})]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(qf,{size:16}),a.jsx("span",{className:"text-sm",children:"Date & Time"})]}),a.jsx("p",{className:"text-white",children:of(n.date)})]}),n.paymentMethod&&a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Hs,{size:16}),a.jsx("span",{className:"text-sm",children:"Payment Method"})]}),a.jsx("p",{className:"text-white",children:cf[n.paymentMethod]||n.paymentMethod})]}),n.referenceNumber&&a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Zo,{size:16}),a.jsx("span",{className:"text-sm",children:"Reference Number"})]}),a.jsx("p",{className:"text-white font-mono",children:n.referenceNumber})]}),n.accountDetails&&a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Hs,{size:16}),a.jsx("span",{className:"text-sm",children:"Account Details"})]}),a.jsx("p",{className:"text-white",children:n.accountDetails})]}),n.notes&&a.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[a.jsx(Ks,{size:16}),a.jsx("span",{className:"text-sm",children:"Notes"})]}),a.jsx("p",{className:"text-white",children:n.notes})]})]}),a.jsx("div",{className:"p-6 border-t border-slate-700",children:a.jsxs(xe,{onClick:u,variant:"outline",fullWidth:!0,children:[a.jsx(_a,{size:18}),"Contact Support About This Transaction"]})})]})]})}function df(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function py(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function gy(){const{transactions:n,loading:r}=Yf(),{requests:s,loading:l}=mu(),{requests:u,loading:c}=pu(),[h,m]=E.useState("all"),[p,v]=E.useState(""),[x,w]=E.useState("all"),[b,C]=E.useState(null),_=r||l||c,N=[...n.map(R=>({id:R.id,type:R.type,amount:R.amount,status:R.status,description:R.description,date:R.created_at,category:"transaction"})),...s.map(R=>{var F;return{id:R.id,transactionId:R.transaction_id,type:"deposit_request",amount:R.amount,status:R.status,description:`${(F=R.payment_method)==null?void 0:F.replace("_"," ")} - ${R.reference_number||"Pending"}`,date:R.created_at,category:"deposit",paymentMethod:R.payment_method,notes:R.notes,referenceNumber:R.reference_number}}),...u.map(R=>{var F;return{id:R.id,transactionId:R.transaction_id,type:"withdrawal_request",amount:R.amount,status:R.status,description:`${(F=R.withdrawal_method)==null?void 0:F.replace("_"," ")}`,date:R.created_at,category:"withdrawal",paymentMethod:R.withdrawal_method,notes:R.notes,accountDetails:R.account_details}})].sort((R,F)=>new Date(F.date).getTime()-new Date(R.date).getTime()).filter(R=>{var F;if(h==="deposits"&&!["deposit","deposit_request","profit_credit"].includes(R.type)||h==="withdrawals"&&!["withdrawal","withdrawal_request"].includes(R.type)||x!=="all"&&R.status!==x)return!1;if(p){const H=p.toLowerCase();return R.type.toLowerCase().includes(H)||R.description.toLowerCase().includes(H)||df(R.amount).toLowerCase().includes(H)||((F=R.transactionId)==null?void 0:F.toLowerCase().includes(H))}return!0}),I=R=>({deposit:"Deposit",withdrawal:"Withdrawal",profit_credit:"Profit Credit",balance_adjustment:"Balance Adjustment",deposit_request:"Deposit Request",withdrawal_request:"Withdrawal Request"})[R]||R,D=R=>["deposit","deposit_request","profit_credit"].includes(R)?a.jsx(Zt,{className:"text-emerald-400",size:20}):["withdrawal","withdrawal_request"].includes(R)?a.jsx(ur,{className:"text-red-400",size:20}):a.jsx(Hn,{className:"text-primary-400",size:20}),U=R=>["deposit","deposit_request","profit_credit"].includes(R)?"bg-emerald-500/20":["withdrawal","withdrawal_request"].includes(R)?"bg-red-500/20":"bg-primary-500/20";return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Transaction History"}),a.jsx("p",{className:"text-slate-400",children:"View all your deposits, withdrawals, and account activity. Click any transaction for details."})]}),a.jsx(Z,{className:"mb-6",children:a.jsx(ee,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 lg:pb-0",children:[{key:"all",label:"All Transactions"},{key:"deposits",label:"Deposits & Credits"},{key:"withdrawals",label:"Withdrawals"}].map(R=>a.jsx("button",{onClick:()=>m(R.key),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-all ${h===R.key?"bg-primary-500 text-white":"bg-slate-700/50 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:R.label},R.key))}),a.jsxs("div",{className:"flex flex-1 gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Kf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search by ID, type, or amount...",value:p,onChange:R=>v(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Yx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),a.jsxs("select",{value:x,onChange:R=>w(R.target.value),className:"pl-10 pr-8 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white focus:outline-none focus:border-primary-500 appearance-none cursor-pointer",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})})}),a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("h2",{className:"text-lg font-semibold text-white",children:[N.length," Transaction",N.length!==1?"s":""]})}),a.jsx(ee,{className:"p-0",children:_?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-slate-400 mt-4",children:"Loading transactions..."})]}):N.length>0?a.jsx("div",{className:"divide-y divide-slate-700/50",children:N.map(R=>a.jsxs("button",{onClick:()=>C(R),className:"w-full flex items-center justify-between p-4 hover:bg-slate-700/30 transition-colors text-left",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${U(R.type)}`,children:D(R.type)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:I(R.type)}),R.transactionId&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-0.5",children:[a.jsx(Zo,{size:12}),a.jsx("span",{className:"font-mono",children:R.transactionId})]}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:R.description||"No description"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:py(R.date)})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-lg font-semibold ${["deposit","deposit_request","profit_credit"].includes(R.type)?"text-emerald-400":"text-red-400"}`,children:[["deposit","deposit_request","profit_credit"].includes(R.type)?"+":"-",df(R.amount)]}),a.jsx(nn,{status:R.status})]}),a.jsx(Wf,{className:"text-slate-500",size:20})]})]},`${R.category}-${R.id}`))}):a.jsxs("div",{className:"p-8 text-center text-slate-400",children:[a.jsx(Ws,{size:40,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No transactions found"}),a.jsx("p",{className:"text-sm mt-2",children:p||x!=="all"?"Try adjusting your filters":"Your transaction history will appear here"})]})})]}),a.jsx(my,{transaction:b,onClose:()=>C(null)})]})}const Qs=E.forwardRef(({label:n,error:r,options:s,className:l="",...u},c)=>a.jsxs("div",{className:"space-y-2",children:[n&&a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:n}),a.jsx("select",{ref:c,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${l}`,...u,children:s.map(h=>a.jsx("option",{value:h.value,className:"bg-slate-800",children:h.label},h.value))}),r&&a.jsx("p",{className:"text-sm text-red-400",children:r})]}));Qs.displayName="Select";const vy=[{value:"bank_transfer",label:"Bank Transfer"},{value:"wire_transfer",label:"Wire Transfer"},{value:"crypto",label:"Cryptocurrency"}];function xy(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function yy(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function wy(){const{requests:n,createRequest:r}=mu(),[s,l]=E.useState(""),[u,c]=E.useState("bank_transfer"),[h,m]=E.useState(""),[p,v]=E.useState(""),[x,w]=E.useState(!1),[b,C]=E.useState(!1),[_,k]=E.useState(""),N=async D=>{D.preventDefault(),k("");const U=parseFloat(s);if(isNaN(U)||U<=0){k("Please enter a valid amount");return}w(!0);const{error:R}=await r(U,u,h,p);R?k(R.message):(C(!0),l(""),m(""),v(""),setTimeout(()=>C(!1),3e3)),w(!1)},I=n.filter(D=>D.status==="pending");return n.filter(D=>D.status!=="pending"),a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Deposit Funds"}),a.jsx("p",{className:"text-slate-400",children:"Submit a deposit request to fund your investment account."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:a.jsx(Zt,{className:"text-emerald-400",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Deposit Request"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a deposit"})]})]})}),a.jsxs(ee,{children:[b&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Deposit request submitted successfully!"})]}),_&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:_})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsx(He,{label:"Amount (USD)",type:"number",value:s,onChange:D=>l(D.target.value),placeholder:"Enter amount",min:"0",step:"0.01",required:!0}),a.jsx(Qs,{label:"Payment Method",value:u,onChange:D=>c(D.target.value),options:vy}),a.jsx(He,{label:"Reference Number (Optional)",type:"text",value:h,onChange:D=>m(D.target.value),placeholder:"Transaction or reference number",helpText:"Enter any reference number from your payment"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Additional Notes (Optional)"}),a.jsx("textarea",{value:p,onChange:D=>v(D.target.value),placeholder:"Any additional information about your deposit",rows:3,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),a.jsxs(xe,{type:"submit",fullWidth:!0,loading:x,children:[a.jsx(Zt,{size:20}),"Submit Deposit Request"]})]})]})]}),n.length>0&&a.jsxs(Z,{children:[a.jsxs(Se,{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Deposit Requests"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Your deposit request history"})]}),a.jsx(ee,{className:"p-0",children:a.jsx("div",{className:"divide-y divide-slate-700/50",children:n.slice(0,10).map(D=>a.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:a.jsx(Zt,{className:"text-emerald-400",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:xy(D.amount)}),a.jsxs("p",{className:"text-sm text-slate-400",children:[D.payment_method.replace("_"," "),D.reference_number&&` - ${D.reference_number}`]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:yy(D.created_at)})]})]}),a.jsx(nn,{status:D.status})]},D.id))})})]})]}),a.jsxs("div",{className:"space-y-6",children:[I.length>0&&a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[a.jsx(cr,{size:20}),a.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),a.jsxs(ee,{children:[a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:I.length}),a.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting processing"})]})]}),a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsx("h3",{className:"font-semibold text-white",children:"Payment Instructions"})}),a.jsxs(ee,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[a.jsx(Gx,{size:18}),a.jsx("span",{className:"font-medium",children:"Bank Transfer"})]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Contact support to receive bank transfer details."})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[a.jsx(Jx,{size:18}),a.jsx("span",{className:"font-medium",children:"Wire Transfer"})]}),a.jsx("p",{className:"text-sm text-slate-400",children:"International wire transfers accepted. Contact support for SWIFT details."})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[a.jsx(Hs,{size:18}),a.jsx("span",{className:"font-medium",children:"Cryptocurrency"})]}),a.jsx("p",{className:"text-sm text-slate-400",children:"BTC, ETH, USDT accepted. Contact support for wallet addresses."})]})]})]}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Vf,{className:"text-primary-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Deposit requests are typically processed within 1-3 business days. You will be notified once your deposit is approved."})]})]})})}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Ot,{className:"text-yellow-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),a.jsx("p",{className:"text-sm text-slate-400",children:"This is a request-only system. Deposits are credited to your account after verification and approval by our team."})]})]})})})]})]})]})}const _y=[{value:"bank_transfer",label:"Bank Transfer"},{value:"wire_transfer",label:"Wire Transfer"},{value:"crypto",label:"Cryptocurrency"}];function ma(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function jy(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function by(){const{profile:n}=tt(),{requests:r,createRequest:s}=pu(),[l,u]=E.useState(""),[c,h]=E.useState("bank_transfer"),[m,p]=E.useState(""),[v,x]=E.useState(""),[w,b]=E.useState(!1),[C,_]=E.useState(!1),[k,N]=E.useState(""),I=(n==null?void 0:n.balance)||0,D=async F=>{F.preventDefault(),N("");const H=parseFloat(l);if(isNaN(H)||H<=0){N("Please enter a valid amount");return}if(H>I){N("Withdrawal amount exceeds available balance");return}if(!m.trim()){N("Please provide account details for the withdrawal");return}b(!0);const{error:W}=await s(H,c,m,v);W?N(W.message):(_(!0),u(""),p(""),x(""),setTimeout(()=>_(!1),3e3)),b(!1)},U=r.filter(F=>F.status==="pending"),R=U.reduce((F,H)=>F+H.amount,0);return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Withdraw Funds"}),a.jsx("p",{className:"text-slate-400",children:"Submit a withdrawal request from your investment account."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:a.jsx(ur,{className:"text-red-400",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Withdrawal Request"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a withdrawal"})]})]})}),a.jsxs(ee,{children:[C&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Withdrawal request submitted successfully!"})]}),k&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:k})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Ys,{className:"text-primary-400",size:20})}),a.jsx("span",{className:"text-slate-400",children:"Available Balance"})]}),a.jsx("span",{className:"text-2xl font-bold text-white",children:ma(I)})]}),R>0&&a.jsxs("p",{className:"text-sm text-yellow-400 mt-2 flex items-center gap-2",children:[a.jsx(cr,{size:14}),ma(R)," pending withdrawal"]})]}),a.jsx(He,{label:"Amount (USD)",type:"number",value:l,onChange:F=>u(F.target.value),placeholder:"Enter amount",min:"0",max:I,step:"0.01",required:!0}),a.jsx(Qs,{label:"Withdrawal Method",value:c,onChange:F=>h(F.target.value),options:_y}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Account Details"}),a.jsx("textarea",{value:m,onChange:F=>p(F.target.value),placeholder:c==="bank_transfer"?"Bank name, account number, routing number...":c==="crypto"?"Wallet address, network (e.g., ERC20, TRC20)...":"SWIFT code, bank details...",rows:3,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Provide complete details for receiving your withdrawal"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Additional Notes (Optional)"}),a.jsx("textarea",{value:v,onChange:F=>x(F.target.value),placeholder:"Any additional information",rows:2,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),a.jsxs(xe,{type:"submit",variant:"danger",fullWidth:!0,loading:w,disabled:I<=0,children:[a.jsx(ur,{size:20}),"Submit Withdrawal Request"]})]})]})]}),r.length>0&&a.jsxs(Z,{children:[a.jsxs(Se,{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Withdrawal Requests"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Your withdrawal request history"})]}),a.jsx(ee,{className:"p-0",children:a.jsx("div",{className:"divide-y divide-slate-700/50",children:r.slice(0,10).map(F=>a.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:a.jsx(ur,{className:"text-red-400",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:ma(F.amount)}),a.jsx("p",{className:"text-sm text-slate-400",children:F.withdrawal_method.replace("_"," ")}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:jy(F.created_at)})]})]}),a.jsx(nn,{status:F.status})]},F.id))})})]})]}),a.jsxs("div",{className:"space-y-6",children:[U.length>0&&a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[a.jsx(cr,{size:20}),a.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),a.jsxs(ee,{children:[a.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:U.length}),a.jsxs("p",{className:"text-sm text-slate-400",children:["Total: ",ma(R)]})]})]}),a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsx("h3",{className:"font-semibold text-white",children:"Withdrawal Guidelines"})}),a.jsxs(ee,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Minimum Withdrawal"}),a.jsx("p",{className:"text-lg text-white font-bold",children:"$100.00"})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Time"}),a.jsx("p",{className:"text-sm text-slate-400",children:"1-5 business days"})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Fees"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Varies by method"})]})]})]}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Vf,{className:"text-primary-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Withdrawal requests are reviewed and processed within 1-5 business days. You will be notified of the status."})]})]})})}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Fn,{className:"text-yellow-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Double-check your account details before submitting. Incorrect information may delay your withdrawal or result in lost funds."})]})]})})})]})]})]})}function Ny({symbol:n,containerId:r}){const s=E.useRef(null);return E.useEffect(()=>{if(!s.current)return;const l=document.createElement("script");return l.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",l.type="text/javascript",l.async=!0,l.innerHTML=JSON.stringify({symbol:n,width:"100%",height:"220",locale:"en",dateRange:"12M",colorTheme:"dark",isTransparent:!0,autosize:!0,largeChartUrl:""}),s.current.innerHTML="",s.current.appendChild(l),()=>{s.current&&(s.current.innerHTML="")}},[n]),a.jsx("div",{className:"tradingview-widget-container",ref:s,id:r,children:a.jsx("div",{className:"tradingview-widget-container__widget"})})}function Sy(){const n=E.useRef(null);return E.useEffect(()=>{if(!n.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({colorTheme:"dark",dateRange:"12M",showChart:!0,locale:"en",width:"100%",height:"500",largeChartUrl:"",isTransparent:!0,showSymbolLogo:!0,showFloatingTooltip:!1,plotLineColorGrowing:"rgba(59, 130, 246, 1)",plotLineColorFalling:"rgba(239, 68, 68, 1)",gridLineColor:"rgba(42, 46, 57, 0)",scaleFontColor:"rgba(134, 137, 147, 1)",belowLineFillColorGrowing:"rgba(59, 130, 246, 0.12)",belowLineFillColorFalling:"rgba(239, 68, 68, 0.12)",belowLineFillColorGrowingBottom:"rgba(59, 130, 246, 0)",belowLineFillColorFallingBottom:"rgba(239, 68, 68, 0)",symbolActiveColor:"rgba(59, 130, 246, 0.12)",tabs:[{title:"Indices",symbols:[{s:"FOREXCOM:SPXUSD",d:"S&P 500"},{s:"FOREXCOM:NSXUSD",d:"Nasdaq 100"},{s:"FOREXCOM:DJI",d:"Dow Jones"}],originalTitle:"Indices"},{title:"Forex",symbols:[{s:"FX:EURUSD",d:"EUR/USD"},{s:"FX:GBPUSD",d:"GBP/USD"},{s:"FX:USDJPY",d:"USD/JPY"}],originalTitle:"Forex"},{title:"Crypto",symbols:[{s:"BITSTAMP:BTCUSD",d:"Bitcoin"},{s:"BITSTAMP:ETHUSD",d:"Ethereum"},{s:"BINANCE:BNBUSDT",d:"BNB"}],originalTitle:"Crypto"}]}),n.current.innerHTML="",n.current.appendChild(r),()=>{n.current&&(n.current.innerHTML="")}},[]),a.jsx("div",{className:"tradingview-widget-container",ref:n,children:a.jsx("div",{className:"tradingview-widget-container__widget"})})}function ky(){const n=E.useRef(null);return E.useEffect(()=>{if(!n.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"BITSTAMP:BTCUSD",title:"Bitcoin"},{proName:"BITSTAMP:ETHUSD",title:"Ethereum"},{proName:"FX:EURUSD",title:"EUR/USD"},{proName:"COMEX:GC1!",title:"Gold"},{proName:"NYMEX:CL1!",title:"Crude Oil"}],showSymbolLogo:!0,isTransparent:!0,displayMode:"adaptive",colorTheme:"dark",locale:"en"}),n.current.innerHTML="",n.current.appendChild(r),()=>{n.current&&(n.current.innerHTML="")}},[]),a.jsx("div",{className:"tradingview-widget-container",ref:n,children:a.jsx("div",{className:"tradingview-widget-container__widget"})})}const Ey=[{symbol:"FOREXCOM:SPXUSD",name:"S&P 500",id:"spx"},{symbol:"BITSTAMP:BTCUSD",name:"Bitcoin",id:"btc"},{symbol:"BITSTAMP:ETHUSD",name:"Ethereum",id:"eth"},{symbol:"FX:EURUSD",name:"EUR/USD",id:"eurusd"}];function Cy(){return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Market Overview"}),a.jsx("p",{className:"text-slate-400",children:"View live market data and global financial trends."})]}),a.jsx(Z,{className:"mb-6 overflow-hidden",children:a.jsx(ee,{className:"p-0",children:a.jsx(ky,{})})}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:Ey.map(n=>a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Wt,{className:"text-primary-400",size:20})}),a.jsx("span",{className:"font-semibold text-white",children:n.name})]})}),a.jsx(ee,{className:"p-0 overflow-hidden",children:a.jsx(Ny,{symbol:n.symbol,containerId:`widget-${n.id}`})})]},n.id))}),a.jsxs(Z,{className:"mb-6",children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent-500/20 rounded-lg",children:a.jsx(wa,{className:"text-accent-400",size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Global Markets"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Indices, Forex, and Cryptocurrency"})]})]})}),a.jsx(ee,{className:"p-0 overflow-hidden",children:a.jsx(Sy,{})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsx(Z,{children:a.jsxs(ee,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Qx,{className:"text-primary-400",size:24})}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Global Coverage"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Access market data from major exchanges worldwide."})]})}),a.jsx(Z,{children:a.jsxs(ee,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Wt,{className:"text-emerald-400",size:24})}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Real-Time Data"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Live market prices updated in real-time."})]})}),a.jsx(Z,{children:a.jsxs(ee,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-accent-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:a.jsx(wa,{className:"text-accent-400",size:24})}),a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Interactive Charts"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Powered by TradingView professional charts."})]})})]}),a.jsx(Z,{className:"mt-6",children:a.jsx(ee,{className:"p-6",children:a.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Market data provided by TradingView. Prices may be delayed. This information is for educational and informational purposes only and should not be construed as investment advice. Past performance is not indicative of future results."})})})]})}const Ty=[{value:"general",label:"General Inquiry"},{value:"complaint",label:"Complaint"},{value:"account",label:"Account Issue"},{value:"withdrawal",label:"Withdrawal Issue"},{value:"deposit",label:"Deposit Issue"}];function Py(){const n=sn(),{profile:r}=tt(),s=n.state,[l,u]=E.useState((r==null?void 0:r.full_name)||""),[c,h]=E.useState((r==null?void 0:r.email)||""),[m,p]=E.useState((s==null?void 0:s.prefillSubject)||"general"),[v,x]=E.useState((s==null?void 0:s.prefillMessage)||""),[w,b]=E.useState(!1),[C,_]=E.useState(!1),[k,N]=E.useState("");E.useEffect(()=>{r&&(l||u(r.full_name||""),c||h(r.email||""))},[r]),E.useEffect(()=>{s!=null&&s.prefillSubject&&p(s.prefillSubject),s!=null&&s.prefillMessage&&x(s.prefillMessage)},[s]);const I=async D=>{if(D.preventDefault(),N(""),!l.trim()||!c.trim()||!v.trim()){N("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){N("Please enter a valid email address");return}b(!0);try{if(!(await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/send-contact-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({fullName:l,email:c,subject:m,message:v})})).ok)throw new Error("Failed to send message");_(!0),u(""),h(""),p("general"),x(""),setTimeout(()=>_(!1),5e3)}catch{N("Failed to send message. Please try again.")}finally{b(!1)}};return a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Support & Contact"}),a.jsx("p",{className:"text-slate-400",children:"Get in touch with Prime Blocks Investments for support, complaints, or questions."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:a.jsx(_a,{className:"text-primary-400",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Send Us a Message"}),a.jsx("p",{className:"text-sm text-slate-400",children:"We'll get back to you as soon as possible"})]})]})}),a.jsxs(ee,{children:[C&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Your message has been sent to our support team. We'll get back to you shortly."})]}),k&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:k})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsx(He,{label:"Full Name",type:"text",value:l,onChange:D=>u(D.target.value),placeholder:"Enter your full name",required:!0}),a.jsx(He,{label:"Email Address",type:"email",value:c,onChange:D=>h(D.target.value),placeholder:"your.email@example.com",required:!0}),a.jsx(Qs,{label:"Subject",value:m,onChange:D=>p(D.target.value),options:Ty}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["Message ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{value:v,onChange:D=>x(D.target.value),placeholder:"Describe your inquiry or issue in detail",rows:6,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),a.jsxs(xe,{type:"submit",fullWidth:!0,loading:w,children:[a.jsx(_a,{size:20}),"Send Message"]})]})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsx("h3",{className:"font-semibold text-white",children:"Contact Information"})}),a.jsxs(ee,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:a.jsx(Hf,{className:"text-primary-400",size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Email Support"}),a.jsx("p",{className:"text-sm text-slate-400 break-all",children:"support@primeblockinvestment.org"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:a.jsx(cr,{className:"text-primary-400",size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Business Hours"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Monday - Friday"}),a.jsx("p",{className:"text-sm text-slate-400",children:"9:00 AM - 6:00 PM EST"})]})]})]})]}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Ot,{className:"text-primary-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Response Time"}),a.jsx("p",{className:"text-sm text-slate-400",children:"We typically respond to all inquiries within 24-48 hours during business days. For urgent matters, please mark your subject accordingly."})]})]})})}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:a.jsx($e,{className:"text-emerald-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"What to Expect"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Your message will be directly sent to our support team. We'll review your inquiry and respond with the information or assistance you need."})]})]})})})]})]})]})}const Ry=[{value:"national_id",label:"National ID"},{value:"passport",label:"Passport"},{value:"drivers_license",label:"Driver's License"}],hf={national_id:"National ID",passport:"Passport",drivers_license:"Driver's License"};function Oy(){const{kyc:n,loading:r,submitKyc:s}=Xf(),[l,u]=E.useState(""),[c,h]=E.useState("national_id"),[m,p]=E.useState(""),[v,x]=E.useState(!1),[w,b]=E.useState(!1),[C,_]=E.useState(""),k=async R=>{if(R.preventDefault(),_(""),!l.trim()||!m.trim()){_("Please fill in all required fields");return}x(!0);const{error:F}=await s(l,c,m);F?_(F.message):(b(!0),setTimeout(()=>b(!1),5e3)),x(!1)},N=()=>{if(!n)return a.jsx(Fn,{className:"text-slate-400",size:24});switch(n.status){case"verified":return a.jsx($e,{className:"text-emerald-400",size:24});case"under_review":return a.jsx(cr,{className:"text-yellow-400",size:24});case"rejected":return a.jsx(Ot,{className:"text-red-400",size:24});default:return a.jsx(Fn,{className:"text-slate-400",size:24})}},I=()=>{if(!n)return"bg-slate-500/20 border-slate-500/30";switch(n.status){case"verified":return"bg-emerald-500/20 border-emerald-500/30";case"under_review":return"bg-yellow-500/20 border-yellow-500/30";case"rejected":return"bg-red-500/20 border-red-500/30";default:return"bg-slate-500/20 border-slate-500/30"}},D=()=>{if(!n)return"Not Submitted";switch(n.status){case"verified":return"Verified";case"under_review":return"Under Review";case"rejected":return"Rejected";default:return"Not Submitted"}},U=()=>{if(!n)return"Submit your identification documents for verification.";switch(n.status){case"verified":return"Your identity has been successfully verified.";case"under_review":return"Your documents are being reviewed. This usually takes 1-3 business days.";case"rejected":return n.rejection_reason||"Your submission was rejected. Please resubmit with valid documents.";default:return"Submit your identification documents for verification."}};return r?a.jsx(St,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full"})})}):a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Identity Verification (KYC)"}),a.jsx("p",{className:"text-slate-400",children:"Verify your identity to unlock full platform features and ensure account security."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsx(Z,{className:`border ${I()}`,children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-4 rounded-xl ${I()}`,children:N()}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-1",children:["Verification Status: ",D()]}),a.jsx("p",{className:"text-sm text-slate-400",children:U()})]})]})})}),(n==null?void 0:n.status)==="verified"?a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:a.jsx(Js,{className:"text-emerald-400",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Verified Information"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Your identity has been confirmed"})]})]})}),a.jsxs(ee,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(eu,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Full Name"})]}),a.jsx("p",{className:"text-white",children:n.full_name})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(Hs,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"ID Type"})]}),a.jsx("p",{className:"text-white",children:hf[n.id_type]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(Ks,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"ID Number"})]}),a.jsxs("p",{className:"text-white font-mono",children:[n.id_number.slice(0,4),"****",n.id_number.slice(-4)]})]})]})]}):a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:a.jsx(Js,{className:"text-primary-400",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:(n==null?void 0:n.status)==="under_review"?"Submitted Information":"Submit Verification"}),a.jsx("p",{className:"text-sm text-slate-400",children:(n==null?void 0:n.status)==="under_review"?"Your documents are being reviewed":"Provide your identification details"})]})]})}),a.jsxs(ee,{children:[w&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[a.jsx($e,{size:20}),a.jsx("span",{children:"Your verification request has been submitted successfully!"})]}),C&&a.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[a.jsx(Ot,{size:20}),a.jsx("span",{children:C})]}),(n==null?void 0:n.status)==="under_review"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(eu,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Full Name"})]}),a.jsx("p",{className:"text-white",children:n.full_name})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(Hs,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"ID Type"})]}),a.jsx("p",{className:"text-white",children:hf[n.id_type]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[a.jsx(Ks,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"ID Number"})]}),a.jsx("p",{className:"text-white font-mono",children:n.id_number})]}),a.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[a.jsx(cr,{size:18}),a.jsx("span",{className:"font-medium",children:"Review in Progress"})]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Your verification is being processed. You'll be notified once the review is complete."})]})]}):a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsx(He,{label:"Full Legal Name",type:"text",value:l,onChange:R=>u(R.target.value),placeholder:"Enter your full name as it appears on your ID",required:!0}),a.jsx(Qs,{label:"ID Document Type",value:c,onChange:R=>h(R.target.value),options:Ry}),a.jsx(He,{label:"ID Number",type:"text",value:m,onChange:R=>p(R.target.value),placeholder:"Enter your ID document number",required:!0}),a.jsxs(xe,{type:"submit",fullWidth:!0,loading:v,children:[a.jsx(ny,{size:20}),"Submit Verification"]})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsx("h3",{className:"font-semibold text-white",children:"Why Verify?"})}),a.jsxs(ee,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:a.jsx($e,{className:"text-emerald-400",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Secure Withdrawals"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Process withdrawals securely to verified accounts"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:a.jsx($e,{className:"text-emerald-400",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Account Protection"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Enhanced security against unauthorized access"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:a.jsx($e,{className:"text-emerald-400",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Regulatory Compliance"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Meet regulatory requirements for investment platforms"})]})]})]})]}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(Ot,{className:"text-primary-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Review Time"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Verification typically takes 1-3 business days. You'll receive a notification once your documents have been reviewed."})]})]})})}),a.jsx(Z,{children:a.jsx(ee,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:a.jsx(Fn,{className:"text-yellow-400",size:20})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Please ensure all information matches your official ID document exactly. Incorrect information may result in verification delays."})]})]})})})]})]})]})}function $o(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function ff(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ay(){const{profile:n}=tt(),[r,s]=E.useState({totalUsers:0,pendingDeposits:0,pendingWithdrawals:0,totalBalance:0}),[l,u]=E.useState([]),[c,h]=E.useState([]),[m,p]=E.useState(!0),[v,x]=E.useState(null),w=async()=>{p(!0);const[_,k,N]=await Promise.all([me.from("profiles").select("id, balance"),me.from("deposit_requests").select("*").eq("status","pending").order("created_at",{ascending:!1}),me.from("withdrawal_requests").select("*").eq("status","pending").order("created_at",{ascending:!1})]),I=_.data||[],D=k.data||[],U=N.data||[];s({totalUsers:I.length,pendingDeposits:D.length,pendingWithdrawals:U.length,totalBalance:I.reduce((R,F)=>R+(F.balance||0),0)}),u(D),h(U),p(!1)};E.useEffect(()=>{n!=null&&n.is_admin&&w()},[n==null?void 0:n.is_admin]);const b=async(_,k)=>{if(n){if(x(_.id),k==="approved"){const{data:N}=await me.from("profiles").select("balance, total_deposits").eq("id",_.user_id).maybeSingle();N&&(await me.from("profiles").update({balance:N.balance+_.amount,total_deposits:N.total_deposits+_.amount}).eq("id",_.user_id),await me.from("transactions").insert({user_id:_.user_id,type:"deposit",amount:_.amount,status:"approved",description:`Deposit via ${_.payment_method}`,processed_at:new Date().toISOString(),processed_by:n.id}))}await me.from("deposit_requests").update({status:k,processed_at:new Date().toISOString(),processed_by:n.id}).eq("id",_.id),x(null),w()}},C=async(_,k)=>{if(n){if(x(_.id),k==="approved"){const{data:N}=await me.from("profiles").select("balance, total_withdrawals").eq("id",_.user_id).maybeSingle();N&&N.balance>=_.amount&&(await me.from("profiles").update({balance:N.balance-_.amount,total_withdrawals:N.total_withdrawals+_.amount}).eq("id",_.user_id),await me.from("transactions").insert({user_id:_.user_id,type:"withdrawal",amount:_.amount,status:"approved",description:`Withdrawal via ${_.withdrawal_method}`,processed_at:new Date().toISOString(),processed_by:n.id}))}await me.from("withdrawal_requests").update({status:k,processed_at:new Date().toISOString(),processed_by:n.id}).eq("id",_.id),x(null),w()}};return n!=null&&n.is_admin?a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-slate-400",children:"Manage users, deposits, and withdrawals."})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total Users"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.totalUsers})]}),a.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:a.jsx(ka,{className:"text-primary-400",size:24})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Deposits"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingDeposits})]}),a.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:a.jsx(Zt,{className:"text-emerald-400",size:24})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Withdrawals"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingWithdrawals})]}),a.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:a.jsx(ur,{className:"text-red-400",size:24})})]})})}),a.jsx(Z,{hover:!0,children:a.jsx(ee,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total AUM"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:$o(r.totalBalance)})]}),a.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:a.jsx(Hn,{className:"text-accent-400",size:24})})]})})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(Z,{children:[a.jsxs(Se,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Deposits"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),a.jsx(Ue,{to:"/admin/users",children:a.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",a.jsx(Vs,{size:16})]})})]}),a.jsx(ee,{className:"p-0",children:m?a.jsx("div",{className:"p-8 text-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):l.length>0?a.jsx("div",{className:"divide-y divide-slate-700/50",children:l.slice(0,5).map(_=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:$o(_.amount)}),a.jsxs("p",{className:"text-sm text-slate-400",children:[_.payment_method.replace("_"," "),_.reference_number&&` - ${_.reference_number}`]}),a.jsx("p",{className:"text-xs text-slate-500",children:ff(_.created_at)})]}),a.jsx(nn,{status:_.status})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(xe,{size:"sm",onClick:()=>b(_,"approved"),loading:v===_.id,children:[a.jsx($e,{size:16}),"Approve"]}),a.jsxs(xe,{variant:"danger",size:"sm",onClick:()=>b(_,"rejected"),loading:v===_.id,children:[a.jsx(Xh,{size:16}),"Reject"]})]})]},_.id))}):a.jsxs("div",{className:"p-8 text-center text-slate-400",children:[a.jsx(Ws,{size:40,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No pending deposits"})]})})]}),a.jsxs(Z,{children:[a.jsxs(Se,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Withdrawals"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),a.jsx(Ue,{to:"/admin/users",children:a.jsxs(xe,{variant:"ghost",size:"sm",children:["View All",a.jsx(Vs,{size:16})]})})]}),a.jsx(ee,{className:"p-0",children:m?a.jsx("div",{className:"p-8 text-center",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):c.length>0?a.jsx("div",{className:"divide-y divide-slate-700/50",children:c.slice(0,5).map(_=>a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:$o(_.amount)}),a.jsx("p",{className:"text-sm text-slate-400",children:_.withdrawal_method.replace("_"," ")}),a.jsx("p",{className:"text-xs text-slate-500",children:ff(_.created_at)})]}),a.jsx(nn,{status:_.status})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(xe,{size:"sm",onClick:()=>C(_,"approved"),loading:v===_.id,children:[a.jsx($e,{size:16}),"Approve"]}),a.jsxs(xe,{variant:"danger",size:"sm",onClick:()=>C(_,"rejected"),loading:v===_.id,children:[a.jsx(Xh,{size:16}),"Reject"]})]})]},_.id))}):a.jsxs("div",{className:"p-8 text-center text-slate-400",children:[a.jsx(Ws,{size:40,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No pending withdrawals"})]})})]})]})]}):a.jsx(St,{children:a.jsx(Z,{children:a.jsxs(ee,{className:"p-8 text-center",children:[a.jsx(Fn,{className:"mx-auto text-yellow-400 mb-4",size:48}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function pa(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(n)}function Iy(n){return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Dy(){const{profile:n}=tt(),[r,s]=E.useState([]),[l,u]=E.useState(!0),[c,h]=E.useState(""),[m,p]=E.useState(null),[v,x]=E.useState(null),[w,b]=E.useState(""),[C,_]=E.useState(""),[k,N]=E.useState(!1),[I,D]=E.useState(!1),U=async()=>{u(!0);const{data:W}=await me.from("profiles").select("*").order("created_at",{ascending:!1});s(W||[]),u(!1)};E.useEffect(()=>{n!=null&&n.is_admin&&U()},[n==null?void 0:n.is_admin]);const R=r.filter(W=>{if(!c)return!0;const ce=c.toLowerCase();return W.email.toLowerCase().includes(ce)||W.full_name.toLowerCase().includes(ce)}),F=async W=>{if(W.preventDefault(),!m||!v||!n)return;const ce=parseFloat(w);if(isNaN(ce)){setError("Please enter a valid amount");return}N(!0),setError("");try{if(v==="balance"){const{error:he}=await me.from("profiles").update({balance:m.balance+ce}).eq("id",m.id);if(he)throw he;const{error:Ke}=await me.from("transactions").insert({user_id:m.id,type:"balance_adjustment",amount:Math.abs(ce),status:"approved",description:C||"Balance adjustment by admin",processed_at:new Date().toISOString(),processed_by:n.id});if(Ke)throw Ke}else if(v==="profit"){const{error:he}=await me.from("profiles").update({balance:m.balance+ce,total_profits:m.total_profits+ce}).eq("id",m.id);if(he)throw he;const{error:Ke}=await me.from("transactions").insert({user_id:m.id,type:"profit_credit",amount:ce,status:"approved",description:C||"Profit credit",processed_at:new Date().toISOString(),processed_by:n.id});if(Ke)throw Ke}D(!0),setTimeout(()=>{D(!1),p(null),x(null),b(""),_("")},1500),U()}catch(he){setError(he instanceof Error?he.message:"Failed to process action")}finally{N(!1)}},H=()=>{p(null),x(null),b(""),_("")};return n!=null&&n.is_admin?a.jsxs(St,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Manage Users"}),a.jsx("p",{className:"text-slate-400",children:"View and manage user accounts, balances, and credits."})]}),a.jsx(Z,{className:"mb-6",children:a.jsx(ee,{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Kf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:c,onChange:W=>h(W.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]})})}),a.jsxs(Z,{children:[a.jsx(Se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:a.jsx(ka,{className:"text-primary-400",size:20})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-semibold text-white",children:[R.length," User",R.length!==1?"s":""]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Click on a user to manage their account"})]})]})}),a.jsx(ee,{className:"p-0",children:l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-slate-400 mt-4",children:"Loading users..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-700/50",children:[a.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"User"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Balance"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Deposits"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Profits"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Joined"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Actions"})]})}),a.jsx("tbody",{children:R.map(W=>{var ce,he;return a.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium",children:((he=(ce=W.full_name)==null?void 0:ce.charAt(0))==null?void 0:he.toUpperCase())||W.email.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:W.full_name||"No name"}),a.jsx("p",{className:"text-sm text-slate-400",children:W.email})]}),W.is_admin&&a.jsx("span",{className:"px-2 py-1 bg-accent-500/20 text-accent-400 text-xs rounded-full",children:"Admin"})]})}),a.jsx("td",{className:"p-4 text-right text-white font-medium",children:pa(W.balance)}),a.jsx("td",{className:"p-4 text-right text-slate-300",children:pa(W.total_deposits)}),a.jsx("td",{className:`p-4 text-right font-medium ${W.total_profits>=0?"text-emerald-400":"text-red-400"}`,children:pa(W.total_profits)}),a.jsx("td",{className:"p-4 text-right text-slate-400",children:Iy(W.created_at)}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>{p(W),x("balance")},children:[a.jsx(Ys,{size:14}),"Balance"]}),a.jsxs(xe,{variant:"secondary",size:"sm",onClick:()=>{p(W),x("profit")},children:[a.jsx(Wt,{size:14}),"Credit"]})]})})]},W.id)})})]})})})]}),m&&v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(Z,{className:"w-full max-w-md",children:[a.jsxs(Se,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:v==="balance"?"Adjust Balance":"Credit Profit"}),a.jsx("p",{className:"text-sm text-slate-400",children:m.email})]}),a.jsx("button",{onClick:H,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(fu,{className:"text-slate-400",size:20})})]}),a.jsx(ee,{children:I?a.jsxs("div",{className:"text-center py-8",children:[a.jsx($e,{className:"mx-auto text-emerald-400 mb-4",size:48}),a.jsx("p",{className:"text-white font-medium",children:"Action completed successfully!"})]}):a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Current Balance"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:pa(m.balance)})]}),a.jsx(He,{label:v==="balance"?"Amount (can be negative)":"Profit Amount",type:"number",value:w,onChange:W=>b(W.target.value),placeholder:"Enter amount",step:"0.01",required:!0}),a.jsx(He,{label:"Description (Optional)",value:C,onChange:W=>_(W.target.value),placeholder:"Add a note for this transaction"}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(xe,{type:"submit",fullWidth:!0,loading:k,children:[a.jsx(Hn,{size:16}),v==="balance"?"Update Balance":"Credit Profit"]}),a.jsx(xe,{type:"button",variant:"ghost",onClick:H,children:"Cancel"})]})]})})]})})]}):a.jsx(St,{children:a.jsx(Z,{children:a.jsxs(ee,{className:"p-8 text-center",children:[a.jsx(Fn,{className:"mx-auto text-yellow-400 mb-4",size:48}),a.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function Xt({children:n}){const{user:r,loading:s}=tt();return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?a.jsx(a.Fragment,{children:n}):a.jsx(lu,{to:"/login",replace:!0})}function Lo({children:n}){const{user:r,loading:s}=tt();return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),a.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?a.jsx(lu,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:n})}function Uy(){return a.jsxs(X0,{children:[a.jsx(lt,{path:"/",element:a.jsx(ay,{})}),a.jsx(lt,{path:"/login",element:a.jsx(Lo,{children:a.jsx(ly,{})})}),a.jsx(lt,{path:"/register",element:a.jsx(Lo,{children:a.jsx(oy,{})})}),a.jsx(lt,{path:"/forgot-password",element:a.jsx(Lo,{children:a.jsx(uy,{})})}),a.jsx(lt,{path:"/dashboard",element:a.jsx(Xt,{children:a.jsx(hy,{})})}),a.jsx(lt,{path:"/account",element:a.jsx(Xt,{children:a.jsx(fy,{})})}),a.jsx(lt,{path:"/transactions",element:a.jsx(Xt,{children:a.jsx(gy,{})})}),a.jsx(lt,{path:"/deposit",element:a.jsx(Xt,{children:a.jsx(wy,{})})}),a.jsx(lt,{path:"/withdraw",element:a.jsx(Xt,{children:a.jsx(by,{})})}),a.jsx(lt,{path:"/market",element:a.jsx(Xt,{children:a.jsx(Cy,{})})}),a.jsx(lt,{path:"/support",element:a.jsx(Xt,{children:a.jsx(Py,{})})}),a.jsx(lt,{path:"/kyc",element:a.jsx(Xt,{children:a.jsx(Oy,{})})}),a.jsx(lt,{path:"/admin",element:a.jsx(Xt,{children:a.jsx(Ay,{})})}),a.jsx(lt,{path:"/admin/users",element:a.jsx(Xt,{children:a.jsx(Dy,{})})}),a.jsx(lt,{path:"*",element:a.jsx(lu,{to:"/",replace:!0})})]})}function $y(){return a.jsx(ig,{children:a.jsx(qx,{children:a.jsx(Uy,{})})})}a0.createRoot(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx($y,{})}));
