function s0(s,r){for(var i=0;i<r.length;i++){const l=r[i];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(s,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();function n0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Co={exports:{}},$n={},To={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function i0(){if(jh)return de;jh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function N(T,z,ue){this.props=T,this.context=z,this.refs=k,this.updater=ue||S}N.prototype.isReactComponent={},N.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function D(){}D.prototype=N.prototype;function U(T,z,ue){this.props=T,this.context=z,this.refs=k,this.updater=ue||S}var A=U.prototype=new D;A.constructor=U,j(A,N.prototype),A.isPureReactComponent=!0;var P=Array.isArray,B=Object.prototype.hasOwnProperty,V={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function pe(T,z,ue){var he,ge={},ve=null,Se=null;if(z!=null)for(he in z.ref!==void 0&&(Se=z.ref),z.key!==void 0&&(ve=""+z.key),z)B.call(z,he)&&!ae.hasOwnProperty(he)&&(ge[he]=z[he]);var we=arguments.length-2;if(we===1)ge.children=ue;else if(1<we){for(var Oe=Array(we),jt=0;jt<we;jt++)Oe[jt]=arguments[jt+2];ge.children=Oe}if(T&&T.defaultProps)for(he in we=T.defaultProps,we)ge[he]===void 0&&(ge[he]=we[he]);return{$$typeof:s,type:T,key:ve,ref:Se,props:ge,_owner:V.current}}function ee(T,z){return{$$typeof:s,type:T.type,key:z,ref:T.ref,props:T.props,_owner:T._owner}}function Ne(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Ce(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ue){return z[ue]})}var xe=/\/+/g;function nt(T,z){return typeof T=="object"&&T!==null&&T.key!=null?Ce(""+T.key):z.toString(36)}function Dt(T,z,ue,he,ge){var ve=typeof T;(ve==="undefined"||ve==="boolean")&&(T=null);var Se=!1;if(T===null)Se=!0;else switch(ve){case"string":case"number":Se=!0;break;case"object":switch(T.$$typeof){case s:case r:Se=!0}}if(Se)return Se=T,ge=ge(Se),T=he===""?"."+nt(Se,0):he,P(ge)?(ue="",T!=null&&(ue=T.replace(xe,"$&/")+"/"),Dt(ge,z,ue,"",function(jt){return jt})):ge!=null&&(Ne(ge)&&(ge=ee(ge,ue+(!ge.key||Se&&Se.key===ge.key?"":(""+ge.key).replace(xe,"$&/")+"/")+T)),z.push(ge)),1;if(Se=0,he=he===""?".":he+":",P(T))for(var we=0;we<T.length;we++){ve=T[we];var Oe=he+nt(ve,we);Se+=Dt(ve,z,ue,Oe,ge)}else if(Oe=b(T),typeof Oe=="function")for(T=Oe.call(T),we=0;!(ve=T.next()).done;)ve=ve.value,Oe=he+nt(ve,we++),Se+=Dt(ve,z,ue,Oe,ge);else if(ve==="object")throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Se}function Jt(T,z,ue){if(T==null)return T;var he=[],ge=0;return Dt(T,he,"","",function(ve){return z.call(ue,ve,ge++)}),he}function ft(T){if(T._status===-1){var z=T._result;z=z(),z.then(function(ue){(T._status===0||T._status===-1)&&(T._status=1,T._result=ue)},function(ue){(T._status===0||T._status===-1)&&(T._status=2,T._result=ue)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var $e={current:null},q={transition:null},ie={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:q,ReactCurrentOwner:V};function K(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Jt,forEach:function(T,z,ue){Jt(T,function(){z.apply(this,arguments)},ue)},count:function(T){var z=0;return Jt(T,function(){z++}),z},toArray:function(T){return Jt(T,function(z){return z})||[]},only:function(T){if(!Ne(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},de.Component=N,de.Fragment=i,de.Profiler=c,de.PureComponent=U,de.StrictMode=l,de.Suspense=p,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,de.act=K,de.cloneElement=function(T,z,ue){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var he=j({},T.props),ge=T.key,ve=T.ref,Se=T._owner;if(z!=null){if(z.ref!==void 0&&(ve=z.ref,Se=V.current),z.key!==void 0&&(ge=""+z.key),T.type&&T.type.defaultProps)var we=T.type.defaultProps;for(Oe in z)B.call(z,Oe)&&!ae.hasOwnProperty(Oe)&&(he[Oe]=z[Oe]===void 0&&we!==void 0?we[Oe]:z[Oe])}var Oe=arguments.length-2;if(Oe===1)he.children=ue;else if(1<Oe){we=Array(Oe);for(var jt=0;jt<Oe;jt++)we[jt]=arguments[jt+2];he.children=we}return{$$typeof:s,type:T.type,key:ge,ref:ve,props:he,_owner:Se}},de.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},de.createElement=pe,de.createFactory=function(T){var z=pe.bind(null,T);return z.type=T,z},de.createRef=function(){return{current:null}},de.forwardRef=function(T){return{$$typeof:m,render:T}},de.isValidElement=Ne,de.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:ft}},de.memo=function(T,z){return{$$typeof:x,type:T,compare:z===void 0?null:z}},de.startTransition=function(T){var z=q.transition;q.transition={};try{T()}finally{q.transition=z}},de.unstable_act=K,de.useCallback=function(T,z){return $e.current.useCallback(T,z)},de.useContext=function(T){return $e.current.useContext(T)},de.useDebugValue=function(){},de.useDeferredValue=function(T){return $e.current.useDeferredValue(T)},de.useEffect=function(T,z){return $e.current.useEffect(T,z)},de.useId=function(){return $e.current.useId()},de.useImperativeHandle=function(T,z,ue){return $e.current.useImperativeHandle(T,z,ue)},de.useInsertionEffect=function(T,z){return $e.current.useInsertionEffect(T,z)},de.useLayoutEffect=function(T,z){return $e.current.useLayoutEffect(T,z)},de.useMemo=function(T,z){return $e.current.useMemo(T,z)},de.useReducer=function(T,z,ue){return $e.current.useReducer(T,z,ue)},de.useRef=function(T){return $e.current.useRef(T)},de.useState=function(T){return $e.current.useState(T)},de.useSyncExternalStore=function(T,z,ue){return $e.current.useSyncExternalStore(T,z,ue)},de.useTransition=function(){return $e.current.useTransition()},de.version="18.3.1",de}var bh;function oc(){return bh||(bh=1,To.exports=i0()),To.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function a0(){if(_h)return $n;_h=1;var s=oc(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,x){var v,w={},b=null,S=null;x!==void 0&&(b=""+x),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)l.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(m&&m.defaultProps)for(v in p=m.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:r,type:m,key:b,ref:S,props:w,_owner:c.current}}return $n.Fragment=i,$n.jsx=h,$n.jsxs=h,$n}var Nh;function l0(){return Nh||(Nh=1,Co.exports=a0()),Co.exports}var n=l0(),E=oc();const o0=n0(E),c0=s0({__proto__:null,default:o0},[E]);var fa={},Po={exports:{}},yt={},Ro={exports:{}},Oo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function u0(){return Sh||(Sh=1,(function(s){function r(q,ie){var K=q.length;q.push(ie);e:for(;0<K;){var T=K-1>>>1,z=q[T];if(0<c(z,ie))q[T]=ie,q[K]=z,K=T;else break e}}function i(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ie=q[0],K=q.pop();if(K!==ie){q[0]=K;e:for(var T=0,z=q.length,ue=z>>>1;T<ue;){var he=2*(T+1)-1,ge=q[he],ve=he+1,Se=q[ve];if(0>c(ge,K))ve<z&&0>c(Se,ge)?(q[T]=Se,q[ve]=K,T=ve):(q[T]=ge,q[he]=K,T=he);else if(ve<z&&0>c(Se,K))q[T]=Se,q[ve]=K,T=ve;else break e}}return ie}function c(q,ie){var K=q.sortIndex-ie.sortIndex;return K!==0?K:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],x=[],v=1,w=null,b=3,S=!1,j=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var ie=i(x);ie!==null;){if(ie.callback===null)l(x);else if(ie.startTime<=q)l(x),ie.sortIndex=ie.expirationTime,r(p,ie);else break;ie=i(x)}}function P(q){if(k=!1,A(q),!j)if(i(p)!==null)j=!0,ft(B);else{var ie=i(x);ie!==null&&$e(P,ie.startTime-q)}}function B(q,ie){j=!1,k&&(k=!1,D(pe),pe=-1),S=!0;var K=b;try{for(A(ie),w=i(p);w!==null&&(!(w.expirationTime>ie)||q&&!Ce());){var T=w.callback;if(typeof T=="function"){w.callback=null,b=w.priorityLevel;var z=T(w.expirationTime<=ie);ie=s.unstable_now(),typeof z=="function"?w.callback=z:w===i(p)&&l(p),A(ie)}else l(p);w=i(p)}if(w!==null)var ue=!0;else{var he=i(x);he!==null&&$e(P,he.startTime-ie),ue=!1}return ue}finally{w=null,b=K,S=!1}}var V=!1,ae=null,pe=-1,ee=5,Ne=-1;function Ce(){return!(s.unstable_now()-Ne<ee)}function xe(){if(ae!==null){var q=s.unstable_now();Ne=q;var ie=!0;try{ie=ae(!0,q)}finally{ie?nt():(V=!1,ae=null)}}else V=!1}var nt;if(typeof U=="function")nt=function(){U(xe)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Jt=Dt.port2;Dt.port1.onmessage=xe,nt=function(){Jt.postMessage(null)}}else nt=function(){N(xe,0)};function ft(q){ae=q,V||(V=!0,nt())}function $e(q,ie){pe=N(function(){q(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){j||S||(j=!0,ft(B))},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_getFirstCallbackNode=function(){return i(p)},s.unstable_next=function(q){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var K=b;b=ie;try{return q()}finally{b=K}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=b;b=q;try{return ie()}finally{b=K}},s.unstable_scheduleCallback=function(q,ie,K){var T=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?T+K:T):K=T,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,q={id:v++,callback:ie,priorityLevel:q,startTime:K,expirationTime:z,sortIndex:-1},K>T?(q.sortIndex=K,r(x,q),i(p)===null&&q===i(x)&&(k?(D(pe),pe=-1):k=!0,$e(P,K-T))):(q.sortIndex=z,r(p,q),j||S||(j=!0,ft(B))),q},s.unstable_shouldYield=Ce,s.unstable_wrapCallback=function(q){var ie=b;return function(){var K=b;b=ie;try{return q.apply(this,arguments)}finally{b=K}}}})(Oo)),Oo}var kh;function d0(){return kh||(kh=1,Ro.exports=u0()),Ro.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function h0(){if(Eh)return yt;Eh=1;var s=oc(),r=d0();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function b(e){return p.call(w,e)?!0:p.call(v,e)?!1:x.test(e)?w[e]=!0:(v[e]=!0,!1)}function S(e,t,a,o){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,a,o){if(t===null||typeof t>"u"||S(e,t,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,a,o,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,U);N[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,U);N[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,U);N[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,a,o){var d=N.hasOwnProperty(t)?N[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,a,d,o)&&(a=null),o||d===null?b(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(t=d.attributeName,o=d.attributeNamespace,a===null?e.removeAttribute(t):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,o?e.setAttributeNS(o,t,a):e.setAttribute(t,a))))}var P=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),V=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),Jt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,T;function z(e){if(T===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var ue=!1;function he(e,t){if(!e||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var o=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){o=I}e.call(t.prototype)}else{try{throw Error()}catch(I){o=I}e()}}catch(I){if(I&&o&&typeof I.stack=="string"){for(var d=I.stack.split(`
`),f=o.stack.split(`
`),g=d.length-1,y=f.length-1;1<=g&&0<=y&&d[g]!==f[y];)y--;for(;1<=g&&0<=y;g--,y--)if(d[g]!==f[y]){if(g!==1||y!==1)do if(g--,y--,0>y||d[g]!==f[y]){var _=`
`+d[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=y);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?z(e):""}function ge(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case V:return"Portal";case ee:return"Profiler";case pe:return"StrictMode";case nt:return"Suspense";case Dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ce:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jt:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case ft:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function we(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jt(e){var t=Oe(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function si(e){e._valueTracker||(e._valueTracker=jt(e))}function Ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),o="";return e&&(o=Oe(e)?e.checked?"true":"false":e.value),e=o,e!==a?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var a=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Cc(e,t){var a=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;a=we(t.value!=null?t.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tc(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function Da(e,t){Tc(e,t);var a=we(t.value),o=t.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ua(e,t.type,a):t.hasOwnProperty("defaultValue")&&Ua(e,t.type,we(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pc(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Ua(e,t,a){(t!=="number"||ni(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Qs=Array.isArray;function ds(e,t,a,o){if(e=e.options,t){t={};for(var d=0;d<a.length;d++)t["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=t.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+we(a),t=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function $a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(i(92));if(Qs(a)){if(1<a.length)throw Error(i(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:we(a)}}function Oc(e,t){var a=we(t.value),o=we(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function Ac(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ic(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ic(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Dc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,a,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Uc(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function $c(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=a.indexOf("--")===0,d=Uc(a,t[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,d):e[a]=d}}var om=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ba=null;function Fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,hs=null,fs=null;function zc(e){if(e=bn(e)){if(typeof qa!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Ci(t),qa(e.stateNode,e.type,t))}}function Lc(e){hs?fs?fs.push(e):fs=[e]:hs=e}function Mc(){if(hs){var e=hs,t=fs;if(fs=hs=null,zc(e),t)for(e=0;e<t.length;e++)zc(t[e])}}function Bc(e,t){return e(t)}function Fc(){}var Wa=!1;function qc(e,t,a){if(Wa)return e(t,a);Wa=!0;try{return Bc(e,t,a)}finally{Wa=!1,(hs!==null||fs!==null)&&(Fc(),Mc())}}function en(e,t){var a=e.stateNode;if(a===null)return null;var o=Ci(a);if(o===null)return null;a=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Va=!1;if(m)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Va=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Va=!1}function cm(e,t,a,o,d,f,g,y,_){var I=Array.prototype.slice.call(arguments,3);try{t.apply(a,I)}catch(L){this.onError(L)}}var rn=!1,ai=null,li=!1,Ha=null,um={onError:function(e){rn=!0,ai=e}};function dm(e,t,a,o,d,f,g,y,_){rn=!1,ai=null,cm.apply(um,arguments)}function hm(e,t,a,o,d,f,g,y,_){if(dm.apply(this,arguments),rn){if(rn){var I=ai;rn=!1,ai=null}else throw Error(i(198));li||(li=!0,Ha=I)}}function Fr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Wc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vc(e){if(Fr(e)!==e)throw Error(i(188))}function fm(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,o=t;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return Vc(d),e;if(f===o)return Vc(d),t;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=d,o=f;else{for(var g=!1,y=d.child;y;){if(y===a){g=!0,a=d,o=f;break}if(y===o){g=!0,o=d,a=f;break}y=y.sibling}if(!g){for(y=f.child;y;){if(y===a){g=!0,a=f,o=d;break}if(y===o){g=!0,o=f,a=d;break}y=y.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function Hc(e){return e=fm(e),e!==null?Kc(e):null}function Kc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kc(e);if(t!==null)return t;e=e.sibling}return null}var Jc=r.unstable_scheduleCallback,Gc=r.unstable_cancelCallback,mm=r.unstable_shouldYield,pm=r.unstable_requestPaint,Me=r.unstable_now,xm=r.unstable_getCurrentPriorityLevel,Ka=r.unstable_ImmediatePriority,Yc=r.unstable_UserBlockingPriority,oi=r.unstable_NormalPriority,gm=r.unstable_LowPriority,Qc=r.unstable_IdlePriority,ci=null,Gt=null;function vm(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ci,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:jm,ym=Math.log,wm=Math.LN2;function jm(e){return e>>>=0,e===0?32:31-(ym(e)/wm|0)|0}var ui=64,di=4194304;function sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,f=e.pingedLanes,g=a&268435455;if(g!==0){var y=g&~d;y!==0?o=sn(y):(f&=g,f!==0&&(o=sn(f)))}else g=a&~d,g!==0?o=sn(g):f!==0&&(o=sn(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)a=31-Ut(t),d=1<<a,o|=e[a],t&=~d;return o}function bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(e,t){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Ut(f),y=1<<g,_=d[g];_===-1?((y&a)===0||(y&o)!==0)&&(d[g]=bm(y,t)):_<=t&&(e.expiredLanes|=y),f&=~y}}function Ja(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=ui;return ui<<=1,(ui&4194240)===0&&(ui=64),e}function Ga(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function nn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=a}function Nm(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-Ut(a),f=1<<d;t[d]=0,o[d]=-1,e[d]=-1,a&=~f}}function Ya(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var o=31-Ut(a),d=1<<o;d&t|e[o]&t&&(e[o]|=t),a&=~d}}var je=0;function Zc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var eu,Qa,tu,ru,su,Xa=!1,fi=[],xr=null,gr=null,vr=null,an=new Map,ln=new Map,yr=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":an.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(t.pointerId)}}function on(e,t,a,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=bn(t),t!==null&&Qa(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function km(e,t,a,o,d){switch(t){case"focusin":return xr=on(xr,e,t,a,o,d),!0;case"dragenter":return gr=on(gr,e,t,a,o,d),!0;case"mouseover":return vr=on(vr,e,t,a,o,d),!0;case"pointerover":var f=d.pointerId;return an.set(f,on(an.get(f)||null,e,t,a,o,d)),!0;case"gotpointercapture":return f=d.pointerId,ln.set(f,on(ln.get(f)||null,e,t,a,o,d)),!0}return!1}function iu(e){var t=qr(e.target);if(t!==null){var a=Fr(t);if(a!==null){if(t=a.tag,t===13){if(t=Wc(a),t!==null){e.blockedOn=t,su(e.priority,function(){tu(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=el(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ba=o,a.target.dispatchEvent(o),Ba=null}else return t=bn(a),t!==null&&Qa(t),e.blockedOn=a,!1;t.shift()}return!0}function au(e,t,a){mi(e)&&a.delete(t)}function Em(){Xa=!1,xr!==null&&mi(xr)&&(xr=null),gr!==null&&mi(gr)&&(gr=null),vr!==null&&mi(vr)&&(vr=null),an.forEach(au),ln.forEach(au)}function cn(e,t){e.blockedOn===t&&(e.blockedOn=null,Xa||(Xa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Em)))}function un(e){function t(d){return cn(d,e)}if(0<fi.length){cn(fi[0],e);for(var a=1;a<fi.length;a++){var o=fi[a];o.blockedOn===e&&(o.blockedOn=null)}}for(xr!==null&&cn(xr,e),gr!==null&&cn(gr,e),vr!==null&&cn(vr,e),an.forEach(t),ln.forEach(t),a=0;a<yr.length;a++)o=yr[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)iu(a),a.blockedOn===null&&yr.shift()}var ms=P.ReactCurrentBatchConfig,pi=!0;function Cm(e,t,a,o){var d=je,f=ms.transition;ms.transition=null;try{je=1,Za(e,t,a,o)}finally{je=d,ms.transition=f}}function Tm(e,t,a,o){var d=je,f=ms.transition;ms.transition=null;try{je=4,Za(e,t,a,o)}finally{je=d,ms.transition=f}}function Za(e,t,a,o){if(pi){var d=el(e,t,a,o);if(d===null)gl(e,t,o,xi,a),nu(e,o);else if(km(d,e,t,a,o))o.stopPropagation();else if(nu(e,o),t&4&&-1<Sm.indexOf(e)){for(;d!==null;){var f=bn(d);if(f!==null&&eu(f),f=el(e,t,a,o),f===null&&gl(e,t,o,xi,a),f===d)break;d=f}d!==null&&o.stopPropagation()}else gl(e,t,o,null,a)}}var xi=null;function el(e,t,a,o){if(xi=null,e=Fa(o),e=qr(e),e!==null)if(t=Fr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Wc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xi=e,null}function lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xm()){case Ka:return 1;case Yc:return 4;case oi:case gm:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var wr=null,tl=null,gi=null;function ou(){if(gi)return gi;var e,t=tl,a=t.length,o,d="value"in wr?wr.value:wr.textContent,f=d.length;for(e=0;e<a&&t[e]===d[e];e++);var g=a-e;for(o=1;o<=g&&t[a-o]===d[f-o];o++);return gi=d.slice(e,1<o?1-o:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function cu(){return!1}function bt(e){function t(a,o,d,f,g){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yi:cu,this.isPropagationStopped=cu,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=bt(ps),dn=K({},ps,{view:0,detail:0}),Pm=bt(dn),sl,nl,hn,wi=K({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&e.type==="mousemove"?(sl=e.screenX-hn.screenX,nl=e.screenY-hn.screenY):nl=sl=0,hn=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),uu=bt(wi),Rm=K({},wi,{dataTransfer:0}),Om=bt(Rm),Am=K({},dn,{relatedTarget:0}),il=bt(Am),Im=K({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=bt(Im),Um=K({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$m=bt(Um),zm=K({},ps,{data:0}),du=bt(zm),Lm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bm[e])?!!t[e]:!1}function al(){return Fm}var qm=K({},dn,{key:function(e){if(e.key){var t=Lm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wm=bt(qm),Vm=K({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=bt(Vm),Hm=K({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),Km=bt(Hm),Jm=K({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=bt(Jm),Ym=K({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=bt(Ym),Xm=[9,13,27,32],ll=m&&"CompositionEvent"in window,fn=null;m&&"documentMode"in document&&(fn=document.documentMode);var Zm=m&&"TextEvent"in window&&!fn,fu=m&&(!ll||fn&&8<fn&&11>=fn),mu=" ",pu=!1;function xu(e,t){switch(e){case"keyup":return Xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function ep(e,t){switch(e){case"compositionend":return gu(t);case"keypress":return t.which!==32?null:(pu=!0,mu);case"textInput":return e=t.data,e===mu&&pu?null:e;default:return null}}function tp(e,t){if(xs)return e==="compositionend"||!ll&&xu(e,t)?(e=ou(),gi=tl=wr=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fu&&t.locale!=="ko"?null:t.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rp[e.type]:t==="textarea"}function yu(e,t,a,o){Lc(o),t=Si(t,"onChange"),0<t.length&&(a=new rl("onChange","change",null,a,o),e.push({event:a,listeners:t}))}var mn=null,pn=null;function sp(e){$u(e,0)}function ji(e){var t=js(e);if(Ec(t))return e}function np(e,t){if(e==="change")return t}var wu=!1;if(m){var ol;if(m){var cl="oninput"in document;if(!cl){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),cl=typeof ju.oninput=="function"}ol=cl}else ol=!1;wu=ol&&(!document.documentMode||9<document.documentMode)}function bu(){mn&&(mn.detachEvent("onpropertychange",_u),pn=mn=null)}function _u(e){if(e.propertyName==="value"&&ji(pn)){var t=[];yu(t,pn,e,Fa(e)),qc(sp,t)}}function ip(e,t,a){e==="focusin"?(bu(),mn=t,pn=a,mn.attachEvent("onpropertychange",_u)):e==="focusout"&&bu()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(pn)}function lp(e,t){if(e==="click")return ji(t)}function op(e,t){if(e==="input"||e==="change")return ji(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:cp;function xn(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!p.call(t,d)||!$t(e[d],t[d]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Su(e,t){var a=Nu(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=t&&o>=t)return{node:a,offset:t-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Nu(a)}}function ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ni(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function up(e){var t=Eu(),a=e.focusedElem,o=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&ku(a.ownerDocument.documentElement,a)){if(o!==null&&ul(a)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,f=Math.min(o.start,d);o=o.end===void 0?f:Math.min(o.end,d),!e.extend&&f>o&&(d=o,o=f,f=d),d=Su(a,f);var g=Su(a,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=m&&"documentMode"in document&&11>=document.documentMode,gs=null,dl=null,gn=null,hl=!1;function Cu(e,t,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hl||gs==null||gs!==ni(o)||(o=gs,"selectionStart"in o&&ul(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gn&&xn(gn,o)||(gn=o,o=Si(dl,"onSelect"),0<o.length&&(t=new rl("onSelect","select",null,t,a),e.push({event:t,listeners:o}),t.target=gs)))}function bi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vs={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},fl={},Tu={};m&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function _i(e){if(fl[e])return fl[e];if(!vs[e])return e;var t=vs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Tu)return fl[e]=t[a];return e}var Pu=_i("animationend"),Ru=_i("animationiteration"),Ou=_i("animationstart"),Au=_i("transitionend"),Iu=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Iu.set(e,t),u(t,[e])}for(var ml=0;ml<Du.length;ml++){var pl=Du[ml],hp=pl.toLowerCase(),fp=pl[0].toUpperCase()+pl.slice(1);jr(hp,"on"+fp)}jr(Pu,"onAnimationEnd"),jr(Ru,"onAnimationIteration"),jr(Ou,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Au,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(vn));function Uu(e,t,a){var o=e.type||"unknown-event";e.currentTarget=a,hm(o,t,void 0,e),e.currentTarget=null}function $u(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var y=o[g],_=y.instance,I=y.currentTarget;if(y=y.listener,_!==f&&d.isPropagationStopped())break e;Uu(d,y,I),f=_}else for(g=0;g<o.length;g++){if(y=o[g],_=y.instance,I=y.currentTarget,y=y.listener,_!==f&&d.isPropagationStopped())break e;Uu(d,y,I),f=_}}}if(li)throw e=Ha,li=!1,Ha=null,e}function Te(e,t){var a=t[_l];a===void 0&&(a=t[_l]=new Set);var o=e+"__bubble";a.has(o)||(zu(t,e,2,!1),a.add(o))}function xl(e,t,a){var o=0;t&&(o|=4),zu(a,e,o,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function yn(e){if(!e[Ni]){e[Ni]=!0,l.forEach(function(a){a!=="selectionchange"&&(mp.has(a)||xl(a,!1,e),xl(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,xl("selectionchange",!1,t))}}function zu(e,t,a,o){switch(lu(t)){case 1:var d=Cm;break;case 4:d=Tm;break;default:d=Za}a=d.bind(null,t,a,e),d=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,a,{capture:!0,passive:d}):e.addEventListener(t,a,!0):d!==void 0?e.addEventListener(t,a,{passive:d}):e.addEventListener(t,a,!1)}function gl(e,t,a,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===d||y.nodeType===8&&y.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===d||_.nodeType===8&&_.parentNode===d))return;g=g.return}for(;y!==null;){if(g=qr(y),g===null)return;if(_=g.tag,_===5||_===6){o=f=g;continue e}y=y.parentNode}}o=o.return}qc(function(){var I=f,L=Fa(a),M=[];e:{var $=Iu.get(e);if($!==void 0){var W=rl,J=e;switch(e){case"keypress":if(vi(a)===0)break e;case"keydown":case"keyup":W=Wm;break;case"focusin":J="focus",W=il;break;case"focusout":J="blur",W=il;break;case"beforeblur":case"afterblur":W=il;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Km;break;case Pu:case Ru:case Ou:W=Dm;break;case Au:W=Gm;break;case"scroll":W=Pm;break;case"wheel":W=Qm;break;case"copy":case"cut":case"paste":W=$m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hu}var G=(t&4)!==0,Be=!G&&e==="scroll",R=G?$!==null?$+"Capture":null:$;G=[];for(var C=I,O;C!==null;){O=C;var F=O.stateNode;if(O.tag===5&&F!==null&&(O=F,R!==null&&(F=en(C,R),F!=null&&G.push(wn(C,F,O)))),Be)break;C=C.return}0<G.length&&($=new W($,J,null,a,L),M.push({event:$,listeners:G}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",$&&a!==Ba&&(J=a.relatedTarget||a.fromElement)&&(qr(J)||J[tr]))break e;if((W||$)&&($=L.window===L?L:($=L.ownerDocument)?$.defaultView||$.parentWindow:window,W?(J=a.relatedTarget||a.toElement,W=I,J=J?qr(J):null,J!==null&&(Be=Fr(J),J!==Be||J.tag!==5&&J.tag!==6)&&(J=null)):(W=null,J=I),W!==J)){if(G=uu,F="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(G=hu,F="onPointerLeave",R="onPointerEnter",C="pointer"),Be=W==null?$:js(W),O=J==null?$:js(J),$=new G(F,C+"leave",W,a,L),$.target=Be,$.relatedTarget=O,F=null,qr(L)===I&&(G=new G(R,C+"enter",J,a,L),G.target=O,G.relatedTarget=Be,F=G),Be=F,W&&J)t:{for(G=W,R=J,C=0,O=G;O;O=ys(O))C++;for(O=0,F=R;F;F=ys(F))O++;for(;0<C-O;)G=ys(G),C--;for(;0<O-C;)R=ys(R),O--;for(;C--;){if(G===R||R!==null&&G===R.alternate)break t;G=ys(G),R=ys(R)}G=null}else G=null;W!==null&&Lu(M,$,W,G,!1),J!==null&&Be!==null&&Lu(M,Be,J,G,!0)}}e:{if($=I?js(I):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var X=np;else if(vu($))if(wu)X=op;else{X=ap;var te=ip}else(W=$.nodeName)&&W.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(X=lp);if(X&&(X=X(e,I))){yu(M,X,a,L);break e}te&&te(e,$,I),e==="focusout"&&(te=$._wrapperState)&&te.controlled&&$.type==="number"&&Ua($,"number",$.value)}switch(te=I?js(I):window,e){case"focusin":(vu(te)||te.contentEditable==="true")&&(gs=te,dl=I,gn=null);break;case"focusout":gn=dl=gs=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Cu(M,a,L);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Cu(M,a,L)}var re;if(ll)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else xs?xu(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(fu&&a.locale!=="ko"&&(xs||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&xs&&(re=ou()):(wr=L,tl="value"in wr?wr.value:wr.textContent,xs=!0)),te=Si(I,oe),0<te.length&&(oe=new du(oe,e,null,a,L),M.push({event:oe,listeners:te}),re?oe.data=re:(re=gu(a),re!==null&&(oe.data=re)))),(re=Zm?ep(e,a):tp(e,a))&&(I=Si(I,"onBeforeInput"),0<I.length&&(L=new du("onBeforeInput","beforeinput",null,a,L),M.push({event:L,listeners:I}),L.data=re))}$u(M,t)})}function wn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Si(e,t){for(var a=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=en(e,a),f!=null&&o.unshift(wn(e,f,d)),f=en(e,t),f!=null&&o.push(wn(e,f,d))),e=e.return}return o}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lu(e,t,a,o,d){for(var f=t._reactName,g=[];a!==null&&a!==o;){var y=a,_=y.alternate,I=y.stateNode;if(_!==null&&_===o)break;y.tag===5&&I!==null&&(y=I,d?(_=en(a,f),_!=null&&g.unshift(wn(a,_,y))):d||(_=en(a,f),_!=null&&g.push(wn(a,_,y)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var pp=/\r\n?/g,xp=/\u0000|\uFFFD/g;function Mu(e){return(typeof e=="string"?e:""+e).replace(pp,`
`).replace(xp,"")}function ki(e,t,a){if(t=Mu(t),Mu(e)!==t&&a)throw Error(i(425))}function Ei(){}var vl=null,yl=null;function wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,gp=typeof clearTimeout=="function"?clearTimeout:void 0,Bu=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bu<"u"?function(e){return Bu.resolve(null).then(e).catch(yp)}:jl;function yp(e){setTimeout(function(){throw e})}function bl(e,t){var a=t,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(o===0){e.removeChild(d),un(t);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=d}while(a);un(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ws,jn="__reactProps$"+ws,tr="__reactContainer$"+ws,_l="__reactEvents$"+ws,wp="__reactListeners$"+ws,jp="__reactHandles$"+ws;function qr(e){var t=e[Yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[tr]||a[Yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Fu(e);e!==null;){if(a=e[Yt])return a;e=Fu(e)}return t}e=a,a=e.parentNode}return null}function bn(e){return e=e[Yt]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Ci(e){return e[jn]||null}var Nl=[],bs=-1;function _r(e){return{current:e}}function Pe(e){0>bs||(e.current=Nl[bs],Nl[bs]=null,bs--)}function ke(e,t){bs++,Nl[bs]=e.current,e.current=t}var Nr={},it=_r(Nr),mt=_r(!1),Wr=Nr;function _s(e,t){var a=e.type.contextTypes;if(!a)return Nr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function pt(e){return e=e.childContextTypes,e!=null}function Ti(){Pe(mt),Pe(it)}function qu(e,t,a){if(it.current!==Nr)throw Error(i(168));ke(it,t),ke(mt,a)}function Wu(e,t,a){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(i(108,Se(e)||"Unknown",d));return K({},a,o)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Wr=it.current,ke(it,e),ke(mt,mt.current),!0}function Vu(e,t,a){var o=e.stateNode;if(!o)throw Error(i(169));a?(e=Wu(e,t,Wr),o.__reactInternalMemoizedMergedChildContext=e,Pe(mt),Pe(it),ke(it,e)):Pe(mt),ke(mt,a)}var rr=null,Ri=!1,Sl=!1;function Hu(e){rr===null?rr=[e]:rr.push(e)}function bp(e){Ri=!0,Hu(e)}function Sr(){if(!Sl&&rr!==null){Sl=!0;var e=0,t=je;try{var a=rr;for(je=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}rr=null,Ri=!1}catch(d){throw rr!==null&&(rr=rr.slice(e+1)),Jc(Ka,Sr),d}finally{je=t,Sl=!1}}return null}var Ns=[],Ss=0,Oi=null,Ai=0,Tt=[],Pt=0,Vr=null,sr=1,nr="";function Hr(e,t){Ns[Ss++]=Ai,Ns[Ss++]=Oi,Oi=e,Ai=t}function Ku(e,t,a){Tt[Pt++]=sr,Tt[Pt++]=nr,Tt[Pt++]=Vr,Vr=e;var o=sr;e=nr;var d=32-Ut(o)-1;o&=~(1<<d),a+=1;var f=32-Ut(t)+d;if(30<f){var g=d-d%5;f=(o&(1<<g)-1).toString(32),o>>=g,d-=g,sr=1<<32-Ut(t)+d|a<<d|o,nr=f+e}else sr=1<<f|a<<d|o,nr=e}function kl(e){e.return!==null&&(Hr(e,1),Ku(e,1,0))}function El(e){for(;e===Oi;)Oi=Ns[--Ss],Ns[Ss]=null,Ai=Ns[--Ss],Ns[Ss]=null;for(;e===Vr;)Vr=Tt[--Pt],Tt[Pt]=null,nr=Tt[--Pt],Tt[Pt]=null,sr=Tt[--Pt],Tt[Pt]=null}var _t=null,Nt=null,Ae=!1,zt=null;function Ju(e,t){var a=It(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function Gu(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,Nt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Vr!==null?{id:sr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=It(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,_t=e,Nt=null,!0):!1;default:return!1}}function Cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tl(e){if(Ae){var t=Nt;if(t){var a=t;if(!Gu(e,t)){if(Cl(e))throw Error(i(418));t=br(a.nextSibling);var o=_t;t&&Gu(e,t)?Ju(o,a):(e.flags=e.flags&-4097|2,Ae=!1,_t=e)}}else{if(Cl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ae=!1,_t=e}}}function Yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Ii(e){if(e!==_t)return!1;if(!Ae)return Yu(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wl(e.type,e.memoizedProps)),t&&(t=Nt)){if(Cl(e))throw Qu(),Error(i(418));for(;t;)Ju(e,t),t=br(t.nextSibling)}if(Yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Nt=br(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=_t?br(e.stateNode.nextSibling):null;return!0}function Qu(){for(var e=Nt;e;)e=br(e.nextSibling)}function ks(){Nt=_t=null,Ae=!1}function Pl(e){zt===null?zt=[e]:zt.push(e)}var _p=P.ReactCurrentBatchConfig;function _n(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var o=a.stateNode}if(!o)throw Error(i(147,e));var d=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var y=d.refs;g===null?delete y[f]:y[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function Di(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function Zu(e){function t(R,C){if(e){var O=R.deletions;O===null?(R.deletions=[C],R.flags|=16):O.push(C)}}function a(R,C){if(!e)return null;for(;C!==null;)t(R,C),C=C.sibling;return null}function o(R,C){for(R=new Map;C!==null;)C.key!==null?R.set(C.key,C):R.set(C.index,C),C=C.sibling;return R}function d(R,C){return R=Ar(R,C),R.index=0,R.sibling=null,R}function f(R,C,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<C?(R.flags|=2,C):O):(R.flags|=2,C)):(R.flags|=1048576,C)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function y(R,C,O,F){return C===null||C.tag!==6?(C=bo(O,R.mode,F),C.return=R,C):(C=d(C,O),C.return=R,C)}function _(R,C,O,F){var X=O.type;return X===ae?L(R,C,O.props.children,F,O.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ft&&Xu(X)===C.type)?(F=d(C,O.props),F.ref=_n(R,C,O),F.return=R,F):(F=ia(O.type,O.key,O.props,null,R.mode,F),F.ref=_n(R,C,O),F.return=R,F)}function I(R,C,O,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=_o(O,R.mode,F),C.return=R,C):(C=d(C,O.children||[]),C.return=R,C)}function L(R,C,O,F,X){return C===null||C.tag!==7?(C=es(O,R.mode,F,X),C.return=R,C):(C=d(C,O),C.return=R,C)}function M(R,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=bo(""+C,R.mode,O),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case B:return O=ia(C.type,C.key,C.props,null,R.mode,O),O.ref=_n(R,null,C),O.return=R,O;case V:return C=_o(C,R.mode,O),C.return=R,C;case ft:var F=C._init;return M(R,F(C._payload),O)}if(Qs(C)||ie(C))return C=es(C,R.mode,O,null),C.return=R,C;Di(R,C)}return null}function $(R,C,O,F){var X=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return X!==null?null:y(R,C,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return O.key===X?_(R,C,O,F):null;case V:return O.key===X?I(R,C,O,F):null;case ft:return X=O._init,$(R,C,X(O._payload),F)}if(Qs(O)||ie(O))return X!==null?null:L(R,C,O,F,null);Di(R,O)}return null}function W(R,C,O,F,X){if(typeof F=="string"&&F!==""||typeof F=="number")return R=R.get(O)||null,y(C,R,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return R=R.get(F.key===null?O:F.key)||null,_(C,R,F,X);case V:return R=R.get(F.key===null?O:F.key)||null,I(C,R,F,X);case ft:var te=F._init;return W(R,C,O,te(F._payload),X)}if(Qs(F)||ie(F))return R=R.get(O)||null,L(C,R,F,X,null);Di(C,F)}return null}function J(R,C,O,F){for(var X=null,te=null,re=C,oe=C=0,Ze=null;re!==null&&oe<O.length;oe++){re.index>oe?(Ze=re,re=null):Ze=re.sibling;var ye=$(R,re,O[oe],F);if(ye===null){re===null&&(re=Ze);break}e&&re&&ye.alternate===null&&t(R,re),C=f(ye,C,oe),te===null?X=ye:te.sibling=ye,te=ye,re=Ze}if(oe===O.length)return a(R,re),Ae&&Hr(R,oe),X;if(re===null){for(;oe<O.length;oe++)re=M(R,O[oe],F),re!==null&&(C=f(re,C,oe),te===null?X=re:te.sibling=re,te=re);return Ae&&Hr(R,oe),X}for(re=o(R,re);oe<O.length;oe++)Ze=W(re,R,oe,O[oe],F),Ze!==null&&(e&&Ze.alternate!==null&&re.delete(Ze.key===null?oe:Ze.key),C=f(Ze,C,oe),te===null?X=Ze:te.sibling=Ze,te=Ze);return e&&re.forEach(function(Ir){return t(R,Ir)}),Ae&&Hr(R,oe),X}function G(R,C,O,F){var X=ie(O);if(typeof X!="function")throw Error(i(150));if(O=X.call(O),O==null)throw Error(i(151));for(var te=X=null,re=C,oe=C=0,Ze=null,ye=O.next();re!==null&&!ye.done;oe++,ye=O.next()){re.index>oe?(Ze=re,re=null):Ze=re.sibling;var Ir=$(R,re,ye.value,F);if(Ir===null){re===null&&(re=Ze);break}e&&re&&Ir.alternate===null&&t(R,re),C=f(Ir,C,oe),te===null?X=Ir:te.sibling=Ir,te=Ir,re=Ze}if(ye.done)return a(R,re),Ae&&Hr(R,oe),X;if(re===null){for(;!ye.done;oe++,ye=O.next())ye=M(R,ye.value,F),ye!==null&&(C=f(ye,C,oe),te===null?X=ye:te.sibling=ye,te=ye);return Ae&&Hr(R,oe),X}for(re=o(R,re);!ye.done;oe++,ye=O.next())ye=W(re,R,oe,ye.value,F),ye!==null&&(e&&ye.alternate!==null&&re.delete(ye.key===null?oe:ye.key),C=f(ye,C,oe),te===null?X=ye:te.sibling=ye,te=ye);return e&&re.forEach(function(r0){return t(R,r0)}),Ae&&Hr(R,oe),X}function Be(R,C,O,F){if(typeof O=="object"&&O!==null&&O.type===ae&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case B:e:{for(var X=O.key,te=C;te!==null;){if(te.key===X){if(X=O.type,X===ae){if(te.tag===7){a(R,te.sibling),C=d(te,O.props.children),C.return=R,R=C;break e}}else if(te.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===ft&&Xu(X)===te.type){a(R,te.sibling),C=d(te,O.props),C.ref=_n(R,te,O),C.return=R,R=C;break e}a(R,te);break}else t(R,te);te=te.sibling}O.type===ae?(C=es(O.props.children,R.mode,F,O.key),C.return=R,R=C):(F=ia(O.type,O.key,O.props,null,R.mode,F),F.ref=_n(R,C,O),F.return=R,R=F)}return g(R);case V:e:{for(te=O.key;C!==null;){if(C.key===te)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){a(R,C.sibling),C=d(C,O.children||[]),C.return=R,R=C;break e}else{a(R,C);break}else t(R,C);C=C.sibling}C=_o(O,R.mode,F),C.return=R,R=C}return g(R);case ft:return te=O._init,Be(R,C,te(O._payload),F)}if(Qs(O))return J(R,C,O,F);if(ie(O))return G(R,C,O,F);Di(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(a(R,C.sibling),C=d(C,O),C.return=R,R=C):(a(R,C),C=bo(O,R.mode,F),C.return=R,R=C),g(R)):a(R,C)}return Be}var Es=Zu(!0),ed=Zu(!1),Ui=_r(null),$i=null,Cs=null,Rl=null;function Ol(){Rl=Cs=$i=null}function Al(e){var t=Ui.current;Pe(Ui),e._currentValue=t}function Il(e,t,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===a)break;e=e.return}}function Ts(e,t){$i=e,Rl=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Rl!==e)if(e={context:e,memoizedValue:t,next:null},Cs===null){if($i===null)throw Error(i(308));Cs=e,$i.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Kr=null;function Dl(e){Kr===null?Kr=[e]:Kr.push(e)}function td(e,t,a,o){var d=t.interleaved;return d===null?(a.next=a,Dl(t)):(a.next=d.next,d.next=a),t.interleaved=a,ir(e,o)}function ir(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var kr=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(me&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,ir(e,a)}return d=o.interleaved,d===null?(t.next=t,Dl(o)):(t.next=d.next,d.next=t),o.interleaved=t,ir(e,a)}function zi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Ya(e,a)}}function sd(e,t){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?d=f=t:f=f.next=t}else d=f=t;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Li(e,t,a,o){var d=e.updateQueue;kr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,y=d.shared.pending;if(y!==null){d.shared.pending=null;var _=y,I=_.next;_.next=null,g===null?f=I:g.next=I,g=_;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==g&&(y===null?L.firstBaseUpdate=I:y.next=I,L.lastBaseUpdate=_))}if(f!==null){var M=d.baseState;g=0,L=I=_=null,y=f;do{var $=y.lane,W=y.eventTime;if((o&$)===$){L!==null&&(L=L.next={eventTime:W,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var J=e,G=y;switch($=t,W=a,G.tag){case 1:if(J=G.payload,typeof J=="function"){M=J.call(W,M,$);break e}M=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=G.payload,$=typeof J=="function"?J.call(W,M,$):J,$==null)break e;M=K({},M,$);break e;case 2:kr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,$=d.effects,$===null?d.effects=[y]:$.push(y))}else W={eventTime:W,lane:$,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(I=L=W,_=M):L=L.next=W,g|=$;if(y=y.next,y===null){if(y=d.shared.pending,y===null)break;$=y,y=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(L===null&&(_=M),d.baseState=_,d.firstBaseUpdate=I,d.lastBaseUpdate=L,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Yr|=g,e.lanes=g,e.memoizedState=M}}function nd(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=a,typeof d!="function")throw Error(i(191,d));d.call(o)}}}var Nn={},Qt=_r(Nn),Sn=_r(Nn),kn=_r(Nn);function Jr(e){if(e===Nn)throw Error(i(174));return e}function $l(e,t){switch(ke(kn,t),ke(Sn,e),ke(Qt,Nn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}Pe(Qt),ke(Qt,t)}function Ps(){Pe(Qt),Pe(Sn),Pe(kn)}function id(e){Jr(kn.current);var t=Jr(Qt.current),a=za(t,e.type);t!==a&&(ke(Sn,e),ke(Qt,a))}function zl(e){Sn.current===e&&(Pe(Qt),Pe(Sn))}var Ie=_r(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ll=[];function Ml(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var Bi=P.ReactCurrentDispatcher,Bl=P.ReactCurrentBatchConfig,Gr=0,De=null,He=null,Qe=null,Fi=!1,En=!1,Cn=0,Np=0;function at(){throw Error(i(321))}function Fl(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$t(e[a],t[a]))return!1;return!0}function ql(e,t,a,o,d,f){if(Gr=f,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bi.current=e===null||e.memoizedState===null?Cp:Tp,e=a(o,d),En){f=0;do{if(En=!1,Cn=0,25<=f)throw Error(i(301));f+=1,Qe=He=null,t.updateQueue=null,Bi.current=Pp,e=a(o,d)}while(En)}if(Bi.current=Vi,t=He!==null&&He.next!==null,Gr=0,Qe=He=De=null,Fi=!1,t)throw Error(i(300));return e}function Wl(){var e=Cn!==0;return Cn=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?De.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ot(){if(He===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Qe===null?De.memoizedState:Qe.next;if(t!==null)Qe=t,He=e;else{if(e===null)throw Error(i(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?De.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Tn(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=Ot(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var o=He,d=o.baseQueue,f=a.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}o.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,o=o.baseState;var y=g=null,_=null,I=f;do{var L=I.lane;if((Gr&L)===L)_!==null&&(_=_.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),o=I.hasEagerState?I.eagerState:e(o,I.action);else{var M={lane:L,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};_===null?(y=_=M,g=o):_=_.next=M,De.lanes|=L,Yr|=L}I=I.next}while(I!==null&&I!==f);_===null?g=o:_.next=y,$t(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=_,a.lastRenderedState=o}if(e=a.interleaved,e!==null){d=e;do f=d.lane,De.lanes|=f,Yr|=f,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Hl(e){var t=Ot(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,f=t.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);$t(f,t.memoizedState)||(xt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,o]}function ad(){}function ld(e,t){var a=De,o=Ot(),d=t(),f=!$t(o.memoizedState,d);if(f&&(o.memoizedState=d,xt=!0),o=o.queue,Kl(ud.bind(null,a,o,e),[e]),o.getSnapshot!==t||f||Qe!==null&&Qe.memoizedState.tag&1){if(a.flags|=2048,Pn(9,cd.bind(null,a,o,d,t),void 0,null),Xe===null)throw Error(i(349));(Gr&30)!==0||od(a,t,d)}return d}function od(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function cd(e,t,a,o){t.value=a,t.getSnapshot=o,dd(t)&&hd(e)}function ud(e,t,a){return a(function(){dd(t)&&hd(e)})}function dd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$t(e,a)}catch{return!0}}function hd(e){var t=ir(e,1);t!==null&&Ft(t,e,1,-1)}function fd(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ep.bind(null,De,e),[t.memoizedState,e]}function Pn(e,t,a,o){return e={tag:e,create:t,destroy:a,deps:o,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,t.lastEffect=e)),e}function md(){return Ot().memoizedState}function qi(e,t,a,o){var d=Xt();De.flags|=e,d.memoizedState=Pn(1|t,a,void 0,o===void 0?null:o)}function Wi(e,t,a,o){var d=Ot();o=o===void 0?null:o;var f=void 0;if(He!==null){var g=He.memoizedState;if(f=g.destroy,o!==null&&Fl(o,g.deps)){d.memoizedState=Pn(t,a,f,o);return}}De.flags|=e,d.memoizedState=Pn(1|t,a,f,o)}function pd(e,t){return qi(8390656,8,e,t)}function Kl(e,t){return Wi(2048,8,e,t)}function xd(e,t){return Wi(4,2,e,t)}function gd(e,t){return Wi(4,4,e,t)}function vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yd(e,t,a){return a=a!=null?a.concat([e]):null,Wi(4,4,vd.bind(null,t,e),a)}function Jl(){}function wd(e,t){var a=Ot();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Fl(t,o[1])?o[0]:(a.memoizedState=[e,t],e)}function jd(e,t){var a=Ot();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Fl(t,o[1])?o[0]:(e=e(),a.memoizedState=[e,t],e)}function bd(e,t,a){return(Gr&21)===0?(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=a):($t(a,t)||(a=Xc(),De.lanes|=a,Yr|=a,e.baseState=!0),t)}function Sp(e,t){var a=je;je=a!==0&&4>a?a:4,e(!0);var o=Bl.transition;Bl.transition={};try{e(!1),t()}finally{je=a,Bl.transition=o}}function _d(){return Ot().memoizedState}function kp(e,t,a){var o=Rr(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Nd(e))Sd(t,a);else if(a=td(e,t,a,o),a!==null){var d=ut();Ft(a,e,o,d),kd(a,t,o)}}function Ep(e,t,a){var o=Rr(e),d={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nd(e))Sd(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,y=f(g,a);if(d.hasEagerState=!0,d.eagerState=y,$t(y,g)){var _=t.interleaved;_===null?(d.next=d,Dl(t)):(d.next=_.next,_.next=d),t.interleaved=d;return}}catch{}finally{}a=td(e,t,d,o),a!==null&&(d=ut(),Ft(a,e,o,d),kd(a,t,o))}}function Nd(e){var t=e.alternate;return e===De||t!==null&&t===De}function Sd(e,t){En=Fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function kd(e,t,a){if((a&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Ya(e,a)}}var Vi={readContext:Rt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Cp={readContext:Rt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:pd,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,qi(4194308,4,vd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){return qi(4,2,e,t)},useMemo:function(e,t){var a=Xt();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var o=Xt();return t=a!==void 0?a(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=kp.bind(null,De,e),[o.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:fd,useDebugValue:Jl,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=fd(!1),t=e[0];return e=Sp.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var o=De,d=Xt();if(Ae){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Xe===null)throw Error(i(349));(Gr&30)!==0||od(o,t,a)}d.memoizedState=a;var f={value:a,getSnapshot:t};return d.queue=f,pd(ud.bind(null,o,f,e),[e]),o.flags|=2048,Pn(9,cd.bind(null,o,f,a,t),void 0,null),a},useId:function(){var e=Xt(),t=Xe.identifierPrefix;if(Ae){var a=nr,o=sr;a=(o&~(1<<32-Ut(o)-1)).toString(32)+a,t=":"+t+"R"+a,a=Cn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Np++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tp={readContext:Rt,useCallback:wd,useContext:Rt,useEffect:Kl,useImperativeHandle:yd,useInsertionEffect:xd,useLayoutEffect:gd,useMemo:jd,useReducer:Vl,useRef:md,useState:function(){return Vl(Tn)},useDebugValue:Jl,useDeferredValue:function(e){var t=Ot();return bd(t,He.memoizedState,e)},useTransition:function(){var e=Vl(Tn)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:ld,useId:_d,unstable_isNewReconciler:!1},Pp={readContext:Rt,useCallback:wd,useContext:Rt,useEffect:Kl,useImperativeHandle:yd,useInsertionEffect:xd,useLayoutEffect:gd,useMemo:jd,useReducer:Hl,useRef:md,useState:function(){return Hl(Tn)},useDebugValue:Jl,useDeferredValue:function(e){var t=Ot();return He===null?t.memoizedState=e:bd(t,He.memoizedState,e)},useTransition:function(){var e=Hl(Tn)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:ad,useSyncExternalStore:ld,useId:_d,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Gl(e,t,a,o){t=e.memoizedState,a=a(o,t),a=a==null?t:K({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hi={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var o=ut(),d=Rr(e),f=ar(o,d);f.payload=t,a!=null&&(f.callback=a),t=Er(e,f,d),t!==null&&(Ft(t,e,d,o),zi(t,e,d))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var o=ut(),d=Rr(e),f=ar(o,d);f.tag=1,f.payload=t,a!=null&&(f.callback=a),t=Er(e,f,d),t!==null&&(Ft(t,e,d,o),zi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ut(),o=Rr(e),d=ar(a,o);d.tag=2,t!=null&&(d.callback=t),t=Er(e,d,o),t!==null&&(Ft(t,e,o,a),zi(t,e,o))}};function Ed(e,t,a,o,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!xn(a,o)||!xn(d,f):!0}function Cd(e,t,a){var o=!1,d=Nr,f=t.contextType;return typeof f=="object"&&f!==null?f=Rt(f):(d=pt(t)?Wr:it.current,o=t.contextTypes,f=(o=o!=null)?_s(e,d):Nr),t=new t(a,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Td(e,t,a,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,o),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function Yl(e,t,a,o){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},Ul(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Rt(f):(f=pt(t)?Wr:it.current,d.context=_s(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Gl(e,t,f,a),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Hi.enqueueReplaceState(d,d.state,null),Li(e,a,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var a="",o=t;do a+=ge(o),o=o.return;while(o);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Ql(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Rp=typeof WeakMap=="function"?WeakMap:Map;function Pd(e,t,a){a=ar(-1,a),a.tag=3,a.payload={element:null};var o=t.value;return a.callback=function(){Zi||(Zi=!0,mo=o),Xl(e,t)},a}function Rd(e,t,a){a=ar(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;a.payload=function(){return o(d)},a.callback=function(){Xl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Xl(e,t),typeof o!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),a}function Od(e,t,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Rp;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(a)||(d.add(a),e=Vp.bind(null,e,t,a),t.then(e,e))}function Ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Id(e,t,a,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=ar(-1,1),t.tag=2,Er(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Op=P.ReactCurrentOwner,xt=!1;function ct(e,t,a,o){t.child=e===null?ed(t,null,a,o):Es(t,e.child,a,o)}function Dd(e,t,a,o,d){a=a.render;var f=t.ref;return Ts(t,d),o=ql(e,t,a,o,f,d),a=Wl(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,lr(e,t,d)):(Ae&&a&&kl(t),t.flags|=1,ct(e,t,o,d),t.child)}function Ud(e,t,a,o,d){if(e===null){var f=a.type;return typeof f=="function"&&!jo(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=f,$d(e,t,f,o,d)):(e=ia(a.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:xn,a(g,o)&&e.ref===t.ref)return lr(e,t,d)}return t.flags|=1,e=Ar(f,o),e.ref=t.ref,e.return=t,t.child=e}function $d(e,t,a,o,d){if(e!==null){var f=e.memoizedProps;if(xn(f,o)&&e.ref===t.ref)if(xt=!1,t.pendingProps=o=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,lr(e,t,d)}return Zl(e,t,a,o,d)}function zd(e,t,a){var o=t.pendingProps,d=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(As,St),St|=a;else{if((a&1073741824)===0)return e=f!==null?f.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(As,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:a,ke(As,St),St|=o}else f!==null?(o=f.baseLanes|a,t.memoizedState=null):o=a,ke(As,St),St|=o;return ct(e,t,d,a),t.child}function Ld(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,a,o,d){var f=pt(a)?Wr:it.current;return f=_s(t,f),Ts(t,d),a=ql(e,t,a,o,f,d),o=Wl(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,lr(e,t,d)):(Ae&&o&&kl(t),t.flags|=1,ct(e,t,a,d),t.child)}function Md(e,t,a,o,d){if(pt(a)){var f=!0;Pi(t)}else f=!1;if(Ts(t,d),t.stateNode===null)Ji(e,t),Cd(t,a,o),Yl(t,a,o,d),o=!0;else if(e===null){var g=t.stateNode,y=t.memoizedProps;g.props=y;var _=g.context,I=a.contextType;typeof I=="object"&&I!==null?I=Rt(I):(I=pt(a)?Wr:it.current,I=_s(t,I));var L=a.getDerivedStateFromProps,M=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function";M||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==o||_!==I)&&Td(t,g,o,I),kr=!1;var $=t.memoizedState;g.state=$,Li(t,o,g,d),_=t.memoizedState,y!==o||$!==_||mt.current||kr?(typeof L=="function"&&(Gl(t,a,L,o),_=t.memoizedState),(y=kr||Ed(t,a,y,o,$,_,I))?(M||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=_),g.props=o,g.state=_,g.context=I,o=y):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,rd(e,t),y=t.memoizedProps,I=t.type===t.elementType?y:Lt(t.type,y),g.props=I,M=t.pendingProps,$=g.context,_=a.contextType,typeof _=="object"&&_!==null?_=Rt(_):(_=pt(a)?Wr:it.current,_=_s(t,_));var W=a.getDerivedStateFromProps;(L=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==M||$!==_)&&Td(t,g,o,_),kr=!1,$=t.memoizedState,g.state=$,Li(t,o,g,d);var J=t.memoizedState;y!==M||$!==J||mt.current||kr?(typeof W=="function"&&(Gl(t,a,W,o),J=t.memoizedState),(I=kr||Ed(t,a,I,o,$,J,_)||!1)?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,J,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,J,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=J),g.props=o,g.state=J,g.context=_,o=I):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return eo(e,t,a,o,f,d)}function eo(e,t,a,o,d,f){Ld(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return d&&Vu(t,a,!1),lr(e,t,f);o=t.stateNode,Op.current=t;var y=g&&typeof a.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=Es(t,e.child,null,f),t.child=Es(t,null,y,f)):ct(e,t,y,f),t.memoizedState=o.state,d&&Vu(t,a,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qu(e,t.context,!1),$l(e,t.containerInfo)}function Fd(e,t,a,o,d){return ks(),Pl(d),t.flags|=256,ct(e,t,a,o),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function qd(e,t,a){var o=t.pendingProps,d=Ie.current,f=!1,g=(t.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(d&2)!==0),y?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ke(Ie,d&1),e===null)return Tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=aa(g,o,0,null),e=es(e,o,a,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ro(a),t.memoizedState=to,e):so(t,g));if(d=e.memoizedState,d!==null&&(y=d.dehydrated,y!==null))return Ap(e,t,g,o,y,d,a);if(f){f=o.fallback,g=t.mode,d=e.child,y=d.sibling;var _={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=_,t.deletions=null):(o=Ar(d,_),o.subtreeFlags=d.subtreeFlags&14680064),y!==null?f=Ar(y,f):(f=es(f,g,a,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?ro(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~a,t.memoizedState=to,o}return f=e.child,e=f.sibling,o=Ar(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=a),o.return=t,o.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=o,t.memoizedState=null,o}function so(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ki(e,t,a,o){return o!==null&&Pl(o),Es(t,e.child,null,a),e=so(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ap(e,t,a,o,d,f,g){if(a)return t.flags&256?(t.flags&=-257,o=Ql(Error(i(422))),Ki(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,d=t.mode,o=aa({mode:"visible",children:o.children},d,0,null),f=es(f,d,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&Es(t,e.child,null,g),t.child.memoizedState=ro(g),t.memoizedState=to,f);if((t.mode&1)===0)return Ki(e,t,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var y=o.dgst;return o=y,f=Error(i(419)),o=Ql(f,o,void 0),Ki(e,t,g,o)}if(y=(g&e.childLanes)!==0,xt||y){if(o=Xe,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,ir(e,d),Ft(o,e,d,-1))}return wo(),o=Ql(Error(i(421))),Ki(e,t,g,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Hp.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Nt=br(d.nextSibling),_t=t,Ae=!0,zt=null,e!==null&&(Tt[Pt++]=sr,Tt[Pt++]=nr,Tt[Pt++]=Vr,sr=e.id,nr=e.overflow,Vr=t),t=so(t,o.children),t.flags|=4096,t)}function Wd(e,t,a){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Il(e.return,t,a)}function no(e,t,a,o,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=d)}function Vd(e,t,a){var o=t.pendingProps,d=o.revealOrder,f=o.tail;if(ct(e,t,o.children,a),o=Ie.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,a,t);else if(e.tag===19)Wd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ke(Ie,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(a=t.child,d=null;a!==null;)e=a.alternate,e!==null&&Mi(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=t.child,t.child=null):(d=a.sibling,a.sibling=null),no(t,!1,d,a,f);break;case"backwards":for(a=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Mi(e)===null){t.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}no(t,!0,a,null,f);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=Ar(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ip(e,t,a){switch(t.tag){case 3:Bd(t),ks();break;case 5:id(t);break;case 1:pt(t.type)&&Pi(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;ke(Ui,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ke(Ie,Ie.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?qd(e,t,a):(ke(Ie,Ie.current&1),e=lr(e,t,a),e!==null?e.sibling:null);ke(Ie,Ie.current&1);break;case 19:if(o=(a&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Vd(e,t,a);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(Ie,Ie.current),o)break;return null;case 22:case 23:return t.lanes=0,zd(e,t,a)}return lr(e,t,a)}var Hd,io,Kd,Jd;Hd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},io=function(){},Kd=function(e,t,a,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Jr(Qt.current);var f=null;switch(a){case"input":d=Ia(e,d),o=Ia(e,o),f=[];break;case"select":d=K({},d,{value:void 0}),o=K({},o,{value:void 0}),f=[];break;case"textarea":d=$a(e,d),o=$a(e,o),f=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ei)}La(a,o);var g;a=null;for(I in d)if(!o.hasOwnProperty(I)&&d.hasOwnProperty(I)&&d[I]!=null)if(I==="style"){var y=d[I];for(g in y)y.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(c.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in o){var _=o[I];if(y=d!=null?d[I]:void 0,o.hasOwnProperty(I)&&_!==y&&(_!=null||y!=null))if(I==="style")if(y){for(g in y)!y.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in _)_.hasOwnProperty(g)&&y[g]!==_[g]&&(a||(a={}),a[g]=_[g])}else a||(f||(f=[]),f.push(I,a)),a=_;else I==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(f=f||[]).push(I,_)):I==="children"?typeof _!="string"&&typeof _!="number"||(f=f||[]).push(I,""+_):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(c.hasOwnProperty(I)?(_!=null&&I==="onScroll"&&Te("scroll",e),f||y===_||(f=[])):(f=f||[]).push(I,_))}a&&(f=f||[]).push("style",a);var I=f;(t.updateQueue=I)&&(t.flags|=4)}},Jd=function(e,t,a,o){a!==o&&(t.flags|=4)};function Rn(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(t)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,t}function Dp(e,t,a){var o=t.pendingProps;switch(El(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return pt(t.type)&&Ti(),lt(t),null;case 3:return o=t.stateNode,Ps(),Pe(mt),Pe(it),Ml(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(go(zt),zt=null))),io(e,t),lt(t),null;case 5:zl(t);var d=Jr(kn.current);if(a=t.type,e!==null&&t.stateNode!=null)Kd(e,t,a,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return lt(t),null}if(e=Jr(Qt.current),Ii(t)){o=t.stateNode,a=t.type;var f=t.memoizedProps;switch(o[Yt]=t,o[jn]=f,e=(t.mode&1)!==0,a){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(d=0;d<vn.length;d++)Te(vn[d],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":Cc(o,f),Te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Te("invalid",o);break;case"textarea":Rc(o,f),Te("invalid",o)}La(a,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var y=f[g];g==="children"?typeof y=="string"?o.textContent!==y&&(f.suppressHydrationWarning!==!0&&ki(o.textContent,y,e),d=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(f.suppressHydrationWarning!==!0&&ki(o.textContent,y,e),d=["children",""+y]):c.hasOwnProperty(g)&&y!=null&&g==="onScroll"&&Te("scroll",o)}switch(a){case"input":si(o),Pc(o,f,!0);break;case"textarea":si(o),Ac(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Ei)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ic(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(a,{is:o.is}):(e=g.createElement(a),a==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,a),e[Yt]=t,e[jn]=o,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ma(a,o),a){case"dialog":Te("cancel",e),Te("close",e),d=o;break;case"iframe":case"object":case"embed":Te("load",e),d=o;break;case"video":case"audio":for(d=0;d<vn.length;d++)Te(vn[d],e);d=o;break;case"source":Te("error",e),d=o;break;case"img":case"image":case"link":Te("error",e),Te("load",e),d=o;break;case"details":Te("toggle",e),d=o;break;case"input":Cc(e,o),d=Ia(e,o),Te("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=K({},o,{value:void 0}),Te("invalid",e);break;case"textarea":Rc(e,o),d=$a(e,o),Te("invalid",e);break;default:d=o}La(a,d),y=d;for(f in y)if(y.hasOwnProperty(f)){var _=y[f];f==="style"?$c(e,_):f==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Dc(e,_)):f==="children"?typeof _=="string"?(a!=="textarea"||_!=="")&&Xs(e,_):typeof _=="number"&&Xs(e,""+_):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(c.hasOwnProperty(f)?_!=null&&f==="onScroll"&&Te("scroll",e):_!=null&&A(e,f,_,g))}switch(a){case"input":si(e),Pc(e,o,!1);break;case"textarea":si(e),Ac(e);break;case"option":o.value!=null&&e.setAttribute("value",""+we(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?ds(e,!!o.multiple,f,!1):o.defaultValue!=null&&ds(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Ei)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Jd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(a=Jr(kn.current),Jr(Qt.current),Ii(t)){if(o=t.stateNode,a=t.memoizedProps,o[Yt]=t,(f=o.nodeValue!==a)&&(e=_t,e!==null))switch(e.tag){case 3:ki(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(o.nodeValue,a,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Yt]=t,t.stateNode=o}return lt(t),null;case 13:if(Pe(Ie),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Qu(),ks(),t.flags|=98560,f=!1;else if(f=Ii(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Yt]=t}else ks(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),f=!1}else zt!==null&&(go(zt),zt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Ke===0&&(Ke=3):wo())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Ps(),io(e,t),e===null&&yn(t.stateNode.containerInfo),lt(t),null;case 10:return Al(t.type._context),lt(t),null;case 17:return pt(t.type)&&Ti(),lt(t),null;case 19:if(Pe(Ie),f=t.memoizedState,f===null)return lt(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)Rn(f,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Mi(e),g!==null){for(t.flags|=128,Rn(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=a,a=t.child;a!==null;)f=a,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ke(Ie,Ie.current&1|2),t.child}e=e.sibling}f.tail!==null&&Me()>Is&&(t.flags|=128,o=!0,Rn(f,!1),t.lanes=4194304)}else{if(!o)if(e=Mi(g),e!==null){if(t.flags|=128,o=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Rn(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ae)return lt(t),null}else 2*Me()-f.renderingStartTime>Is&&a!==1073741824&&(t.flags|=128,o=!0,Rn(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(a=f.last,a!==null?a.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Me(),t.sibling=null,a=Ie.current,ke(Ie,o?a&1|2:a&1),t):(lt(t),null);case 22:case 23:return yo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(St&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Up(e,t){switch(El(t),t.tag){case 1:return pt(t.type)&&Ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),Pe(mt),Pe(it),Ml(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return zl(t),null;case 13:if(Pe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ie),null;case 4:return Ps(),null;case 10:return Al(t.type._context),null;case 22:case 23:return yo(),null;case 24:return null;default:return null}}var Gi=!1,ot=!1,$p=typeof WeakSet=="function"?WeakSet:Set,H=null;function Os(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){ze(e,t,o)}else a.current=null}function ao(e,t,a){try{a()}catch(o){ze(e,t,o)}}var Gd=!1;function zp(e,t){if(vl=pi,e=Eu(),ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,y=-1,_=-1,I=0,L=0,M=e,$=null;t:for(;;){for(var W;M!==a||d!==0&&M.nodeType!==3||(y=g+d),M!==f||o!==0&&M.nodeType!==3||(_=g+o),M.nodeType===3&&(g+=M.nodeValue.length),(W=M.firstChild)!==null;)$=M,M=W;for(;;){if(M===e)break t;if($===a&&++I===d&&(y=g),$===f&&++L===o&&(_=g),(W=M.nextSibling)!==null)break;M=$,$=M.parentNode}M=W}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(yl={focusedElem:e,selectionRange:a},pi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var G=J.memoizedProps,Be=J.memoizedState,R=t.stateNode,C=R.getSnapshotBeforeUpdate(t.elementType===t.type?G:Lt(t.type,G),Be);R.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(F){ze(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return J=Gd,Gd=!1,J}function On(e,t,a){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&ao(t,a,f)}d=d.next}while(d!==o)}}function Yi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==t)}}function lo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function Yd(e){var t=e.alternate;t!==null&&(e.alternate=null,Yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[jn],delete t[_l],delete t[wp],delete t[jp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function Xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oo(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ei));else if(o!==4&&(e=e.child,e!==null))for(oo(e,t,a),e=e.sibling;e!==null;)oo(e,t,a),e=e.sibling}function co(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(co(e,t,a),e=e.sibling;e!==null;)co(e,t,a),e=e.sibling}var et=null,Mt=!1;function Cr(e,t,a){for(a=a.child;a!==null;)Zd(e,t,a),a=a.sibling}function Zd(e,t,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ci,a)}catch{}switch(a.tag){case 5:ot||Os(a,t);case 6:var o=et,d=Mt;et=null,Cr(e,t,a),et=o,Mt=d,et!==null&&(Mt?(e=et,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):et.removeChild(a.stateNode));break;case 18:et!==null&&(Mt?(e=et,a=a.stateNode,e.nodeType===8?bl(e.parentNode,a):e.nodeType===1&&bl(e,a),un(e)):bl(et,a.stateNode));break;case 4:o=et,d=Mt,et=a.stateNode.containerInfo,Mt=!0,Cr(e,t,a),et=o,Mt=d;break;case 0:case 11:case 14:case 15:if(!ot&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&ao(a,t,g),d=d.next}while(d!==o)}Cr(e,t,a);break;case 1:if(!ot&&(Os(a,t),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(y){ze(a,t,y)}Cr(e,t,a);break;case 21:Cr(e,t,a);break;case 22:a.mode&1?(ot=(o=ot)||a.memoizedState!==null,Cr(e,t,a),ot=o):Cr(e,t,a);break;default:Cr(e,t,a)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new $p),t.forEach(function(o){var d=Kp.bind(null,e,o);a.has(o)||(a.add(o),o.then(d,d))})}}function Bt(e,t){var a=t.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];try{var f=e,g=t,y=g;e:for(;y!==null;){switch(y.tag){case 5:et=y.stateNode,Mt=!1;break e;case 3:et=y.stateNode.containerInfo,Mt=!0;break e;case 4:et=y.stateNode.containerInfo,Mt=!0;break e}y=y.return}if(et===null)throw Error(i(160));Zd(f,g,d),et=null,Mt=!1;var _=d.alternate;_!==null&&(_.return=null),d.return=null}catch(I){ze(d,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Zt(e),o&4){try{On(3,e,e.return),Yi(3,e)}catch(G){ze(e,e.return,G)}try{On(5,e,e.return)}catch(G){ze(e,e.return,G)}}break;case 1:Bt(t,e),Zt(e),o&512&&a!==null&&Os(a,a.return);break;case 5:if(Bt(t,e),Zt(e),o&512&&a!==null&&Os(a,a.return),e.flags&32){var d=e.stateNode;try{Xs(d,"")}catch(G){ze(e,e.return,G)}}if(o&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=a!==null?a.memoizedProps:f,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&f.type==="radio"&&f.name!=null&&Tc(d,f),Ma(y,g);var I=Ma(y,f);for(g=0;g<_.length;g+=2){var L=_[g],M=_[g+1];L==="style"?$c(d,M):L==="dangerouslySetInnerHTML"?Dc(d,M):L==="children"?Xs(d,M):A(d,L,M,I)}switch(y){case"input":Da(d,f);break;case"textarea":Oc(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var W=f.value;W!=null?ds(d,!!f.multiple,W,!1):$!==!!f.multiple&&(f.defaultValue!=null?ds(d,!!f.multiple,f.defaultValue,!0):ds(d,!!f.multiple,f.multiple?[]:"",!1))}d[jn]=f}catch(G){ze(e,e.return,G)}}break;case 6:if(Bt(t,e),Zt(e),o&4){if(e.stateNode===null)throw Error(i(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(G){ze(e,e.return,G)}}break;case 3:if(Bt(t,e),Zt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{un(t.containerInfo)}catch(G){ze(e,e.return,G)}break;case 4:Bt(t,e),Zt(e);break;case 13:Bt(t,e),Zt(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(fo=Me())),o&4&&eh(e);break;case 22:if(L=a!==null&&a.memoizedState!==null,e.mode&1?(ot=(I=ot)||L,Bt(t,e),ot=I):Bt(t,e),Zt(e),o&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!L&&(e.mode&1)!==0)for(H=e,L=e.child;L!==null;){for(M=H=L;H!==null;){switch($=H,W=$.child,$.tag){case 0:case 11:case 14:case 15:On(4,$,$.return);break;case 1:Os($,$.return);var J=$.stateNode;if(typeof J.componentWillUnmount=="function"){o=$,a=$.return;try{t=o,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(G){ze(o,a,G)}}break;case 5:Os($,$.return);break;case 22:if($.memoizedState!==null){nh(M);continue}}W!==null?(W.return=$,H=W):nh(M)}L=L.sibling}e:for(L=null,M=e;;){if(M.tag===5){if(L===null){L=M;try{d=M.stateNode,I?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(y=M.stateNode,_=M.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=Uc("display",g))}catch(G){ze(e,e.return,G)}}}else if(M.tag===6){if(L===null)try{M.stateNode.nodeValue=I?"":M.memoizedProps}catch(G){ze(e,e.return,G)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;L===M&&(L=null),M=M.return}L===M&&(L=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Bt(t,e),Zt(e),o&4&&eh(e);break;case 21:break;default:Bt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(Qd(a)){var o=a;break e}a=a.return}throw Error(i(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Xs(d,""),o.flags&=-33);var f=Xd(e);co(e,f,d);break;case 3:case 4:var g=o.stateNode.containerInfo,y=Xd(e);oo(e,y,g);break;default:throw Error(i(161))}}catch(_){ze(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lp(e,t,a){H=e,rh(e)}function rh(e,t,a){for(var o=(e.mode&1)!==0;H!==null;){var d=H,f=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Gi;if(!g){var y=d.alternate,_=y!==null&&y.memoizedState!==null||ot;y=Gi;var I=ot;if(Gi=g,(ot=_)&&!I)for(H=d;H!==null;)g=H,_=g.child,g.tag===22&&g.memoizedState!==null?ih(d):_!==null?(_.return=g,H=_):ih(d);for(;f!==null;)H=f,rh(f),f=f.sibling;H=d,Gi=y,ot=I}sh(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,H=f):sh(e)}}function sh(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||Yi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ot)if(a===null)o.componentDidMount();else{var d=t.elementType===t.type?a.memoizedProps:Lt(t.type,a.memoizedProps);o.componentDidUpdate(d,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&nd(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}nd(t,g,a)}break;case 5:var y=t.stateNode;if(a===null&&t.flags&4){a=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&a.focus();break;case"img":_.src&&(a.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var L=I.memoizedState;if(L!==null){var M=L.dehydrated;M!==null&&un(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ot||t.flags&512&&lo(t)}catch($){ze(t,t.return,$)}}if(t===e){H=null;break}if(a=t.sibling,a!==null){a.return=t.return,H=a;break}H=t.return}}function nh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}function ih(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Yi(4,t)}catch(_){ze(t,a,_)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(_){ze(t,d,_)}}var f=t.return;try{lo(t)}catch(_){ze(t,f,_)}break;case 5:var g=t.return;try{lo(t)}catch(_){ze(t,g,_)}}}catch(_){ze(t,t.return,_)}if(t===e){H=null;break}var y=t.sibling;if(y!==null){y.return=t.return,H=y;break}H=t.return}}var Mp=Math.ceil,Qi=P.ReactCurrentDispatcher,uo=P.ReactCurrentOwner,At=P.ReactCurrentBatchConfig,me=0,Xe=null,qe=null,tt=0,St=0,As=_r(0),Ke=0,An=null,Yr=0,Xi=0,ho=0,In=null,gt=null,fo=0,Is=1/0,or=null,Zi=!1,mo=null,Tr=null,ea=!1,Pr=null,ta=0,Dn=0,po=null,ra=-1,sa=0;function ut(){return(me&6)!==0?Me():ra!==-1?ra:ra=Me()}function Rr(e){return(e.mode&1)===0?1:(me&2)!==0&&tt!==0?tt&-tt:_p.transition!==null?(sa===0&&(sa=Xc()),sa):(e=je,e!==0||(e=window.event,e=e===void 0?16:lu(e.type)),e)}function Ft(e,t,a,o){if(50<Dn)throw Dn=0,po=null,Error(i(185));nn(e,a,o),((me&2)===0||e!==Xe)&&(e===Xe&&((me&2)===0&&(Xi|=a),Ke===4&&Or(e,tt)),vt(e,o),a===1&&me===0&&(t.mode&1)===0&&(Is=Me()+500,Ri&&Sr()))}function vt(e,t){var a=e.callbackNode;_m(e,t);var o=hi(e,e===Xe?tt:0);if(o===0)a!==null&&Gc(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(a!=null&&Gc(a),t===1)e.tag===0?bp(lh.bind(null,e)):Hu(lh.bind(null,e)),vp(function(){(me&6)===0&&Sr()}),a=null;else{switch(Zc(o)){case 1:a=Ka;break;case 4:a=Yc;break;case 16:a=oi;break;case 536870912:a=Qc;break;default:a=oi}a=ph(a,ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function ah(e,t){if(ra=-1,sa=0,(me&6)!==0)throw Error(i(327));var a=e.callbackNode;if(Ds()&&e.callbackNode!==a)return null;var o=hi(e,e===Xe?tt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=na(e,o);else{t=o;var d=me;me|=2;var f=ch();(Xe!==e||tt!==t)&&(or=null,Is=Me()+500,Xr(e,t));do try{qp();break}catch(y){oh(e,y)}while(!0);Ol(),Qi.current=f,me=d,qe!==null?t=0:(Xe=null,tt=0,t=Ke)}if(t!==0){if(t===2&&(d=Ja(e),d!==0&&(o=d,t=xo(e,d))),t===1)throw a=An,Xr(e,0),Or(e,o),vt(e,Me()),a;if(t===6)Or(e,o);else{if(d=e.current.alternate,(o&30)===0&&!Bp(d)&&(t=na(e,o),t===2&&(f=Ja(e),f!==0&&(o=f,t=xo(e,f))),t===1))throw a=An,Xr(e,0),Or(e,o),vt(e,Me()),a;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Zr(e,gt,or);break;case 3:if(Or(e,o),(o&130023424)===o&&(t=fo+500-Me(),10<t)){if(hi(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){ut(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=jl(Zr.bind(null,e,gt,or),t);break}Zr(e,gt,or);break;case 4:if(Or(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var g=31-Ut(o);f=1<<g,g=t[g],g>d&&(d=g),o&=~f}if(o=d,o=Me()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Mp(o/1960))-o,10<o){e.timeoutHandle=jl(Zr.bind(null,e,gt,or),o);break}Zr(e,gt,or);break;case 5:Zr(e,gt,or);break;default:throw Error(i(329))}}}return vt(e,Me()),e.callbackNode===a?ah.bind(null,e):null}function xo(e,t){var a=In;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=na(e,t),e!==2&&(t=gt,gt=a,t!==null&&go(t)),e}function go(e){gt===null?gt=e:gt.push.apply(gt,e)}function Bp(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var d=a[o],f=d.getSnapshot;d=d.value;try{if(!$t(f(),d))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~ho,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Ut(t),o=1<<a;e[a]=-1,t&=~o}}function lh(e){if((me&6)!==0)throw Error(i(327));Ds();var t=hi(e,0);if((t&1)===0)return vt(e,Me()),null;var a=na(e,t);if(e.tag!==0&&a===2){var o=Ja(e);o!==0&&(t=o,a=xo(e,o))}if(a===1)throw a=An,Xr(e,0),Or(e,t),vt(e,Me()),a;if(a===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,gt,or),vt(e,Me()),null}function vo(e,t){var a=me;me|=1;try{return e(t)}finally{me=a,me===0&&(Is=Me()+500,Ri&&Sr())}}function Qr(e){Pr!==null&&Pr.tag===0&&(me&6)===0&&Ds();var t=me;me|=1;var a=At.transition,o=je;try{if(At.transition=null,je=1,e)return e()}finally{je=o,At.transition=a,me=t,(me&6)===0&&Sr()}}function yo(){St=As.current,Pe(As)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,gp(a)),qe!==null)for(a=qe.return;a!==null;){var o=a;switch(El(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ti();break;case 3:Ps(),Pe(mt),Pe(it),Ml();break;case 5:zl(o);break;case 4:Ps();break;case 13:Pe(Ie);break;case 19:Pe(Ie);break;case 10:Al(o.type._context);break;case 22:case 23:yo()}a=a.return}if(Xe=e,qe=e=Ar(e.current,null),tt=St=t,Ke=0,An=null,ho=Xi=Yr=0,gt=In=null,Kr!==null){for(t=0;t<Kr.length;t++)if(a=Kr[t],o=a.interleaved,o!==null){a.interleaved=null;var d=o.next,f=a.pending;if(f!==null){var g=f.next;f.next=d,o.next=g}a.pending=o}Kr=null}return e}function oh(e,t){do{var a=qe;try{if(Ol(),Bi.current=Vi,Fi){for(var o=De.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Fi=!1}if(Gr=0,Qe=He=De=null,En=!1,Cn=0,uo.current=null,a===null||a.return===null){Ke=1,An=t,qe=null;break}e:{var f=e,g=a.return,y=a,_=t;if(t=tt,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var I=_,L=y,M=L.tag;if((L.mode&1)===0&&(M===0||M===11||M===15)){var $=L.alternate;$?(L.updateQueue=$.updateQueue,L.memoizedState=$.memoizedState,L.lanes=$.lanes):(L.updateQueue=null,L.memoizedState=null)}var W=Ad(g);if(W!==null){W.flags&=-257,Id(W,g,y,f,t),W.mode&1&&Od(f,I,t),t=W,_=I;var J=t.updateQueue;if(J===null){var G=new Set;G.add(_),t.updateQueue=G}else J.add(_);break e}else{if((t&1)===0){Od(f,I,t),wo();break e}_=Error(i(426))}}else if(Ae&&y.mode&1){var Be=Ad(g);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),Id(Be,g,y,f,t),Pl(Rs(_,y));break e}}f=_=Rs(_,y),Ke!==4&&(Ke=2),In===null?In=[f]:In.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var R=Pd(f,_,t);sd(f,R);break e;case 1:y=_;var C=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Tr===null||!Tr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var F=Rd(f,y,t);sd(f,F);break e}}f=f.return}while(f!==null)}dh(a)}catch(X){t=X,qe===a&&a!==null&&(qe=a=a.return);continue}break}while(!0)}function ch(){var e=Qi.current;return Qi.current=Vi,e===null?Vi:e}function wo(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Xe===null||(Yr&268435455)===0&&(Xi&268435455)===0||Or(Xe,tt)}function na(e,t){var a=me;me|=2;var o=ch();(Xe!==e||tt!==t)&&(or=null,Xr(e,t));do try{Fp();break}catch(d){oh(e,d)}while(!0);if(Ol(),me=a,Qi.current=o,qe!==null)throw Error(i(261));return Xe=null,tt=0,Ke}function Fp(){for(;qe!==null;)uh(qe)}function qp(){for(;qe!==null&&!mm();)uh(qe)}function uh(e){var t=mh(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?dh(e):qe=t,uo.current=null}function dh(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Dp(a,t,St),a!==null){qe=a;return}}else{if(a=Up(a,t),a!==null){a.flags&=32767,qe=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,qe=null;return}}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Ke===0&&(Ke=5)}function Zr(e,t,a){var o=je,d=At.transition;try{At.transition=null,je=1,Wp(e,t,a,o)}finally{At.transition=d,je=o}return null}function Wp(e,t,a,o){do Ds();while(Pr!==null);if((me&6)!==0)throw Error(i(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var f=a.lanes|a.childLanes;if(Nm(e,f),e===Xe&&(qe=Xe=null,tt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ea||(ea=!0,ph(oi,function(){return Ds(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=At.transition,At.transition=null;var g=je;je=1;var y=me;me|=4,uo.current=null,zp(e,a),th(a,e),up(yl),pi=!!vl,yl=vl=null,e.current=a,Lp(a),pm(),me=y,je=g,At.transition=f}else e.current=a;if(ea&&(ea=!1,Pr=e,ta=d),f=e.pendingLanes,f===0&&(Tr=null),vm(a.stateNode),vt(e,Me()),t!==null)for(o=e.onRecoverableError,a=0;a<t.length;a++)d=t[a],o(d.value,{componentStack:d.stack,digest:d.digest});if(Zi)throw Zi=!1,e=mo,mo=null,e;return(ta&1)!==0&&e.tag!==0&&Ds(),f=e.pendingLanes,(f&1)!==0?e===po?Dn++:(Dn=0,po=e):Dn=0,Sr(),null}function Ds(){if(Pr!==null){var e=Zc(ta),t=At.transition,a=je;try{if(At.transition=null,je=16>e?16:e,Pr===null)var o=!1;else{if(e=Pr,Pr=null,ta=0,(me&6)!==0)throw Error(i(331));var d=me;for(me|=4,H=e.current;H!==null;){var f=H,g=f.child;if((H.flags&16)!==0){var y=f.deletions;if(y!==null){for(var _=0;_<y.length;_++){var I=y[_];for(H=I;H!==null;){var L=H;switch(L.tag){case 0:case 11:case 15:On(8,L,f)}var M=L.child;if(M!==null)M.return=L,H=M;else for(;H!==null;){L=H;var $=L.sibling,W=L.return;if(Yd(L),L===I){H=null;break}if($!==null){$.return=W,H=$;break}H=W}}}var J=f.alternate;if(J!==null){var G=J.child;if(G!==null){J.child=null;do{var Be=G.sibling;G.sibling=null,G=Be}while(G!==null)}}H=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,H=g;else e:for(;H!==null;){if(f=H,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:On(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,H=R;break e}H=f.return}}var C=e.current;for(H=C;H!==null;){g=H;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,H=O;else e:for(g=C;H!==null;){if(y=H,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Yi(9,y)}}catch(X){ze(y,y.return,X)}if(y===g){H=null;break e}var F=y.sibling;if(F!==null){F.return=y.return,H=F;break e}H=y.return}}if(me=d,Sr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ci,e)}catch{}o=!0}return o}finally{je=a,At.transition=t}}return!1}function hh(e,t,a){t=Rs(a,t),t=Pd(e,t,1),e=Er(e,t,1),t=ut(),e!==null&&(nn(e,1,t),vt(e,t))}function ze(e,t,a){if(e.tag===3)hh(e,e,a);else for(;t!==null;){if(t.tag===3){hh(t,e,a);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Tr===null||!Tr.has(o))){e=Rs(a,e),e=Rd(t,e,1),t=Er(t,e,1),e=ut(),t!==null&&(nn(t,1,e),vt(t,e));break}}t=t.return}}function Vp(e,t,a){var o=e.pingCache;o!==null&&o.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&a,Xe===e&&(tt&a)===a&&(Ke===4||Ke===3&&(tt&130023424)===tt&&500>Me()-fo?Xr(e,0):ho|=a),vt(e,t)}function fh(e,t){t===0&&((e.mode&1)===0?t=1:(t=di,di<<=1,(di&130023424)===0&&(di=4194304)));var a=ut();e=ir(e,t),e!==null&&(nn(e,t,a),vt(e,a))}function Hp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),fh(e,a)}function Kp(e,t){var a=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),fh(e,a)}var mh;mh=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)xt=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return xt=!1,Ip(e,t,a);xt=(e.flags&131072)!==0}else xt=!1,Ae&&(t.flags&1048576)!==0&&Ku(t,Ai,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ji(e,t),e=t.pendingProps;var d=_s(t,it.current);Ts(t,a),d=ql(null,t,o,e,d,a);var f=Wl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(o)?(f=!0,Pi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ul(t),d.updater=Hi,t.stateNode=d,d._reactInternals=t,Yl(t,o,e,a),t=eo(null,t,o,!0,f,a)):(t.tag=0,Ae&&f&&kl(t),ct(null,t,d,a),t=t.child),t;case 16:o=t.elementType;e:{switch(Ji(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=Gp(o),e=Lt(o,e),d){case 0:t=Zl(null,t,o,e,a);break e;case 1:t=Md(null,t,o,e,a);break e;case 11:t=Dd(null,t,o,e,a);break e;case 14:t=Ud(null,t,o,Lt(o.type,e),a);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Lt(o,d),Zl(e,t,o,d,a);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Lt(o,d),Md(e,t,o,d,a);case 3:e:{if(Bd(t),e===null)throw Error(i(387));o=t.pendingProps,f=t.memoizedState,d=f.element,rd(e,t),Li(t,o,null,a);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Rs(Error(i(423)),t),t=Fd(e,t,o,a,d);break e}else if(o!==d){d=Rs(Error(i(424)),t),t=Fd(e,t,o,a,d);break e}else for(Nt=br(t.stateNode.containerInfo.firstChild),_t=t,Ae=!0,zt=null,a=ed(t,null,o,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ks(),o===d){t=lr(e,t,a);break e}ct(e,t,o,a)}t=t.child}return t;case 5:return id(t),e===null&&Tl(t),o=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,wl(o,d)?g=null:f!==null&&wl(o,f)&&(t.flags|=32),Ld(e,t),ct(e,t,g,a),t.child;case 6:return e===null&&Tl(t),null;case 13:return qd(e,t,a);case 4:return $l(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Es(t,null,o,a):ct(e,t,o,a),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Lt(o,d),Dd(e,t,o,d,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,ke(Ui,o._currentValue),o._currentValue=g,f!==null)if($t(f.value,g)){if(f.children===d.children&&!mt.current){t=lr(e,t,a);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var y=f.dependencies;if(y!==null){g=f.child;for(var _=y.firstContext;_!==null;){if(_.context===o){if(f.tag===1){_=ar(-1,a&-a),_.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var L=I.pending;L===null?_.next=_:(_.next=L.next,L.next=_),I.pending=_}}f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),Il(f.return,a,t),y.lanes|=a;break}_=_.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(i(341));g.lanes|=a,y=g.alternate,y!==null&&(y.lanes|=a),Il(g,a,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ct(e,t,d.children,a),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,Ts(t,a),d=Rt(d),o=o(d),t.flags|=1,ct(e,t,o,a),t.child;case 14:return o=t.type,d=Lt(o,t.pendingProps),d=Lt(o.type,d),Ud(e,t,o,d,a);case 15:return $d(e,t,t.type,t.pendingProps,a);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Lt(o,d),Ji(e,t),t.tag=1,pt(o)?(e=!0,Pi(t)):e=!1,Ts(t,a),Cd(t,o,d),Yl(t,o,d,a),eo(null,t,o,!0,e,a);case 19:return Vd(e,t,a);case 22:return zd(e,t,a)}throw Error(i(156,t.tag))};function ph(e,t){return Jc(e,t)}function Jp(e,t,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,a,o){return new Jp(e,t,a,o)}function jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gp(e){if(typeof e=="function")return jo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===Jt)return 14}return 2}function Ar(e,t){var a=e.alternate;return a===null?(a=It(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function ia(e,t,a,o,d,f){var g=2;if(o=e,typeof e=="function")jo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ae:return es(a.children,d,f,t);case pe:g=8,d|=8;break;case ee:return e=It(12,a,t,d|2),e.elementType=ee,e.lanes=f,e;case nt:return e=It(13,a,t,d),e.elementType=nt,e.lanes=f,e;case Dt:return e=It(19,a,t,d),e.elementType=Dt,e.lanes=f,e;case $e:return aa(a,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:g=10;break e;case Ce:g=9;break e;case xe:g=11;break e;case Jt:g=14;break e;case ft:g=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=It(g,a,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function es(e,t,a,o){return e=It(7,e,o,t),e.lanes=a,e}function aa(e,t,a,o){return e=It(22,e,o,t),e.elementType=$e,e.lanes=a,e.stateNode={isHidden:!1},e}function bo(e,t,a){return e=It(6,e,null,t),e.lanes=a,e}function _o(e,t,a){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yp(e,t,a,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function No(e,t,a,o,d,f,g,y,_){return e=new Yp(e,t,a,y,_),t===1?(t=1,f===!0&&(t|=8)):t=0,f=It(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(f),e}function Qp(e,t,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:o==null?null:""+o,children:e,containerInfo:t,implementation:a}}function xh(e){if(!e)return Nr;e=e._reactInternals;e:{if(Fr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var a=e.type;if(pt(a))return Wu(e,a,t)}return t}function gh(e,t,a,o,d,f,g,y,_){return e=No(a,o,!0,e,d,f,g,y,_),e.context=xh(null),a=e.current,o=ut(),d=Rr(a),f=ar(o,d),f.callback=t??null,Er(a,f,d),e.current.lanes=d,nn(e,d,o),vt(e,o),e}function la(e,t,a,o){var d=t.current,f=ut(),g=Rr(d);return a=xh(a),t.context===null?t.context=a:t.pendingContext=a,t=ar(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Er(d,t,g),e!==null&&(Ft(e,d,g,f),zi(e,d,g)),g}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function So(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function Xp(){return null}var yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ko(e){this._internalRoot=e}ca.prototype.render=ko.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));la(e,t,null,null)},ca.prototype.unmount=ko.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){la(null,e,null,null)}),t[tr]=null}};function ca(e){this._internalRoot=e}ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=ru();e={blockedOn:null,target:e,priority:t};for(var a=0;a<yr.length&&t!==0&&t<yr[a].priority;a++);yr.splice(a,0,e),a===0&&iu(e)}};function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wh(){}function Zp(e,t,a,o,d){if(d){if(typeof o=="function"){var f=o;o=function(){var I=oa(g);f.call(I)}}var g=gh(t,o,e,0,null,!1,!1,"",wh);return e._reactRootContainer=g,e[tr]=g.current,yn(e.nodeType===8?e.parentNode:e),Qr(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var y=o;o=function(){var I=oa(_);y.call(I)}}var _=No(e,0,!1,null,null,!1,!1,"",wh);return e._reactRootContainer=_,e[tr]=_.current,yn(e.nodeType===8?e.parentNode:e),Qr(function(){la(t,_,a,o)}),_}function da(e,t,a,o,d){var f=a._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var y=d;d=function(){var _=oa(g);y.call(_)}}la(t,g,e,d)}else g=Zp(a,t,e,d,o);return oa(g)}eu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=sn(t.pendingLanes);a!==0&&(Ya(t,a|1),vt(t,Me()),(me&6)===0&&(Is=Me()+500,Sr()))}break;case 13:Qr(function(){var o=ir(e,1);if(o!==null){var d=ut();Ft(o,e,1,d)}}),So(e,1)}},Qa=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var a=ut();Ft(t,e,134217728,a)}So(e,134217728)}},tu=function(e){if(e.tag===13){var t=Rr(e),a=ir(e,t);if(a!==null){var o=ut();Ft(a,e,t,o)}So(e,t)}},ru=function(){return je},su=function(e,t){var a=je;try{return je=e,t()}finally{je=a}},qa=function(e,t,a){switch(t){case"input":if(Da(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var o=a[t];if(o!==e&&o.form===e.form){var d=Ci(o);if(!d)throw Error(i(90));Ec(o),Da(o,d)}}}break;case"textarea":Oc(e,a);break;case"select":t=a.value,t!=null&&ds(e,!!a.multiple,t,!1)}},Bc=vo,Fc=Qr;var e0={usingClientEntryPoint:!1,Events:[bn,js,Ci,Lc,Mc,vo]},Un={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t0={bundleType:Un.bundleType,version:Un.version,rendererPackageName:Un.rendererPackageName,rendererConfig:Un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hc(e),e===null?null:e.stateNode},findFiberByHostInstance:Un.findFiberByHostInstance||Xp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{ci=ha.inject(t0),Gt=ha}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e0,yt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eo(t))throw Error(i(200));return Qp(e,t,null,a)},yt.createRoot=function(e,t){if(!Eo(e))throw Error(i(299));var a=!1,o="",d=yh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=No(e,1,!1,null,null,a,!1,o,d),e[tr]=t.current,yn(e.nodeType===8?e.parentNode:e),new ko(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Hc(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return Qr(e)},yt.hydrate=function(e,t,a){if(!ua(t))throw Error(i(200));return da(null,e,t,!0,a)},yt.hydrateRoot=function(e,t,a){if(!Eo(e))throw Error(i(405));var o=a!=null&&a.hydratedSources||null,d=!1,f="",g=yh;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),t=gh(t,null,e,1,a??null,d,!1,f,g),e[tr]=t.current,yn(e),o)for(e=0;e<o.length;e++)a=o[e],d=a._getVersion,d=d(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,d]:t.mutableSourceEagerHydrationData.push(a,d);return new ca(t)},yt.render=function(e,t,a){if(!ua(t))throw Error(i(200));return da(null,e,t,!1,a)},yt.unmountComponentAtNode=function(e){if(!ua(e))throw Error(i(40));return e._reactRootContainer?(Qr(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1},yt.unstable_batchedUpdates=vo,yt.unstable_renderSubtreeIntoContainer=function(e,t,a,o){if(!ua(a))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return da(e,t,a,!1,o)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Ch;function Sf(){if(Ch)return Po.exports;Ch=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Po.exports=h0(),Po.exports}var Th;function f0(){if(Th)return fa;Th=1;var s=Sf();return fa.createRoot=s.createRoot,fa.hydrateRoot=s.hydrateRoot,fa}var m0=f0();Sf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},qn.apply(this,arguments)}var zr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(zr||(zr={}));const Ph="popstate";function p0(s){s===void 0&&(s={});function r(l,c){let{pathname:u,search:h,hash:m}=l.location;return Ho("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:ja(c)}return g0(r,i,null,s)}function Fe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function cc(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function x0(){return Math.random().toString(36).substr(2,8)}function Rh(s,r){return{usr:s.state,key:s.key,idx:r}}function Ho(s,r,i,l){return i===void 0&&(i=null),qn({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Js(r):r,{state:i,key:r&&r.key||l||x0()})}function ja(s){let{pathname:r="/",search:i="",hash:l=""}=s;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Js(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substr(i),s=s.substr(0,i));let l=s.indexOf("?");l>=0&&(r.search=s.substr(l),s=s.substr(0,l)),s&&(r.pathname=s)}return r}function g0(s,r,i,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,m=zr.Pop,p=null,x=v();x==null&&(x=0,h.replaceState(qn({},h.state,{idx:x}),""));function v(){return(h.state||{idx:null}).idx}function w(){m=zr.Pop;let N=v(),D=N==null?null:N-x;x=N,p&&p({action:m,location:k.location,delta:D})}function b(N,D){m=zr.Push;let U=Ho(k.location,N,D);x=v()+1;let A=Rh(U,x),P=k.createHref(U);try{h.pushState(A,"",P)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(P)}u&&p&&p({action:m,location:k.location,delta:1})}function S(N,D){m=zr.Replace;let U=Ho(k.location,N,D);x=v();let A=Rh(U,x),P=k.createHref(U);h.replaceState(A,"",P),u&&p&&p({action:m,location:k.location,delta:0})}function j(N){let D=c.location.origin!=="null"?c.location.origin:c.location.href,U=typeof N=="string"?N:ja(N);return U=U.replace(/ $/,"%20"),Fe(D,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,D)}let k={get action(){return m},get location(){return s(c,h)},listen(N){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Ph,w),p=N,()=>{c.removeEventListener(Ph,w),p=null}},createHref(N){return r(c,N)},createURL:j,encodeLocation(N){let D=j(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:S,go(N){return h.go(N)}};return k}var Oh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Oh||(Oh={}));function v0(s,r,i){return i===void 0&&(i="/"),y0(s,r,i)}function y0(s,r,i,l){let c=typeof r=="string"?Js(r):r,u=uc(c.pathname||"/",i);if(u==null)return null;let h=kf(s);w0(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let x=O0(u);m=T0(h[p],x)}return m}function kf(s,r,i,l){r===void 0&&(r=[]),i===void 0&&(i=[]),l===void 0&&(l="");let c=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Fe(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let x=Lr([l,p.relativePath]),v=i.concat(p);u.children&&u.children.length>0&&(Fe(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),kf(u.children,r,v,x)),!(u.path==null&&!u.index)&&r.push({path:x,score:E0(x,u.index),routesMeta:v})};return s.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,h);else for(let p of Ef(u.path))c(u,h,p)}),r}function Ef(s){let r=s.split("/");if(r.length===0)return[];let[i,...l]=r,c=i.endsWith("?"),u=i.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=Ef(l.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function w0(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:C0(r.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}const j0=/^:[\w-]+$/,b0=3,_0=2,N0=1,S0=10,k0=-2,Ah=s=>s==="*";function E0(s,r){let i=s.split("/"),l=i.length;return i.some(Ah)&&(l+=k0),r&&(l+=_0),i.filter(c=>!Ah(c)).reduce((c,u)=>c+(j0.test(u)?b0:u===""?N0:S0),l)}function C0(s,r){return s.length===r.length&&s.slice(0,-1).every((l,c)=>l===r[c])?s[s.length-1]-r[r.length-1]:0}function T0(s,r,i){let{routesMeta:l}=s,c={},u="/",h=[];for(let m=0;m<l.length;++m){let p=l[m],x=m===l.length-1,v=u==="/"?r:r.slice(u.length)||"/",w=P0({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},v),b=p.route;if(!w)return null;Object.assign(c,w.params),h.push({params:c,pathname:Lr([u,w.pathname]),pathnameBase:$0(Lr([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=Lr([u,w.pathnameBase]))}return h}function P0(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,l]=R0(s.path,s.caseSensitive,s.end),c=r.match(i);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:l.reduce((x,v,w)=>{let{paramName:b,isOptional:S}=v;if(b==="*"){let k=m[w]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const j=m[w];return S&&!j?x[b]=void 0:x[b]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:h,pattern:s}}function R0(s,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),cc(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function O0(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cc(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function uc(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,l=s.charAt(i);return l&&l!=="/"?null:s.slice(i)||"/"}const A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=s=>A0.test(s);function D0(s,r){r===void 0&&(r="/");let{pathname:i,search:l="",hash:c=""}=typeof s=="string"?Js(s):s,u;if(i)if(I0(i))u=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),cc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+i))}i.startsWith("/")?u=Ih(i.substring(1),"/"):u=Ih(i,r)}else u=r;return{pathname:u,search:z0(l),hash:L0(c)}}function Ih(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Ao(s,r,i,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U0(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function dc(s,r){let i=U0(s);return r?i.map((l,c)=>c===i.length-1?l.pathname:l.pathnameBase):i.map(l=>l.pathnameBase)}function hc(s,r,i,l){l===void 0&&(l=!1);let c;typeof s=="string"?c=Js(s):(c=qn({},s),Fe(!c.pathname||!c.pathname.includes("?"),Ao("?","pathname","search",c)),Fe(!c.pathname||!c.pathname.includes("#"),Ao("#","pathname","hash",c)),Fe(!c.search||!c.search.includes("#"),Ao("#","search","hash",c)));let u=s===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=i;else{let w=r.length-1;if(!l&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),w-=1;c.pathname=b.join("/")}m=w>=0?r[w]:"/"}let p=D0(c,m),x=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(x||v)&&(p.pathname+="/"),p}const Lr=s=>s.join("/").replace(/\/\/+/g,"/"),$0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),z0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,L0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function M0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Cf=["post","put","patch","delete"];new Set(Cf);const B0=["get",...Cf];new Set(B0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},Wn.apply(this,arguments)}const fc=E.createContext(null),F0=E.createContext(null),Mr=E.createContext(null),Ta=E.createContext(null),fr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Tf=E.createContext(null);function q0(s,r){let{relative:i}=r===void 0?{}:r;Gs()||Fe(!1);let{basename:l,navigator:c}=E.useContext(Mr),{hash:u,pathname:h,search:m}=Rf(s,{relative:i}),p=h;return l!=="/"&&(p=h==="/"?l:Lr([l,h])),c.createHref({pathname:p,search:m,hash:u})}function Gs(){return E.useContext(Ta)!=null}function Br(){return Gs()||Fe(!1),E.useContext(Ta).location}function Pf(s){E.useContext(Mr).static||E.useLayoutEffect(s)}function mr(){let{isDataRoute:s}=E.useContext(fr);return s?sx():W0()}function W0(){Gs()||Fe(!1);let s=E.useContext(fc),{basename:r,future:i,navigator:l}=E.useContext(Mr),{matches:c}=E.useContext(fr),{pathname:u}=Br(),h=JSON.stringify(dc(c,i.v7_relativeSplatPath)),m=E.useRef(!1);return Pf(()=>{m.current=!0}),E.useCallback(function(x,v){if(v===void 0&&(v={}),!m.current)return;if(typeof x=="number"){l.go(x);return}let w=hc(x,JSON.parse(h),u,v.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Lr([r,w.pathname])),(v.replace?l.replace:l.push)(w,v.state,v)},[r,l,h,u,s])}function V0(){let{matches:s}=E.useContext(fr),r=s[s.length-1];return r?r.params:{}}function Rf(s,r){let{relative:i}=r===void 0?{}:r,{future:l}=E.useContext(Mr),{matches:c}=E.useContext(fr),{pathname:u}=Br(),h=JSON.stringify(dc(c,l.v7_relativeSplatPath));return E.useMemo(()=>hc(s,JSON.parse(h),u,i==="path"),[s,h,u,i])}function H0(s,r){return K0(s,r)}function K0(s,r,i,l){Gs()||Fe(!1);let{navigator:c}=E.useContext(Mr),{matches:u}=E.useContext(fr),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let x=Br(),v;if(r){var w;let N=typeof r=="string"?Js(r):r;p==="/"||(w=N.pathname)!=null&&w.startsWith(p)||Fe(!1),v=N}else v=x;let b=v.pathname||"/",S=b;if(p!=="/"){let N=p.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=v0(s,{pathname:S}),k=X0(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Lr([p,c.encodeLocation?c.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Lr([p,c.encodeLocation?c.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,i,l);return r&&k?E.createElement(Ta.Provider,{value:{location:Wn({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:zr.Pop}},k):k}function J0(){let s=rx(),r=M0(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},r),i?E.createElement("pre",{style:c},i):null,null)}const G0=E.createElement(J0,null);class Y0 extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?E.createElement(fr.Provider,{value:this.props.routeContext},E.createElement(Tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q0(s){let{routeContext:r,match:i,children:l}=s,c=E.useContext(fc);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),E.createElement(fr.Provider,{value:r},l)}function X0(s,r,i,l){var c;if(r===void 0&&(r=[]),i===void 0&&(i=null),l===void 0&&(l=null),s==null){var u;if(!i)return null;if(i.errors)s=i.matches;else if((u=l)!=null&&u.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let h=s,m=(c=i)==null?void 0:c.errors;if(m!=null){let v=h.findIndex(w=>w.route.id&&(m==null?void 0:m[w.route.id])!==void 0);v>=0||Fe(!1),h=h.slice(0,Math.min(h.length,v+1))}let p=!1,x=-1;if(i&&l&&l.v7_partialHydration)for(let v=0;v<h.length;v++){let w=h[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=v),w.route.id){let{loaderData:b,errors:S}=i,j=w.route.loader&&b[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||j){p=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((v,w,b)=>{let S,j=!1,k=null,N=null;i&&(S=m&&w.route.id?m[w.route.id]:void 0,k=w.route.errorElement||G0,p&&(x<0&&b===0?(nx("route-fallback"),j=!0,N=null):x===b&&(j=!0,N=w.route.hydrateFallbackElement||null)));let D=r.concat(h.slice(0,b+1)),U=()=>{let A;return S?A=k:j?A=N:w.route.Component?A=E.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=v,E.createElement(Q0,{match:w,routeContext:{outlet:v,matches:D,isDataRoute:i!=null},children:A})};return i&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?E.createElement(Y0,{location:i.location,revalidation:i.revalidation,component:k,error:S,children:U(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):U()},null)}var Of=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Of||{}),Af=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Af||{});function Z0(s){let r=E.useContext(fc);return r||Fe(!1),r}function ex(s){let r=E.useContext(F0);return r||Fe(!1),r}function tx(s){let r=E.useContext(fr);return r||Fe(!1),r}function If(s){let r=tx(),i=r.matches[r.matches.length-1];return i.route.id||Fe(!1),i.route.id}function rx(){var s;let r=E.useContext(Tf),i=ex(),l=If();return r!==void 0?r:(s=i.errors)==null?void 0:s[l]}function sx(){let{router:s}=Z0(Of.UseNavigateStable),r=If(Af.UseNavigateStable),i=E.useRef(!1);return Pf(()=>{i.current=!0}),E.useCallback(function(c,u){u===void 0&&(u={}),i.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,Wn({fromRouteId:r},u)))},[s,r])}const Dh={};function nx(s,r,i){Dh[s]||(Dh[s]=!0)}function ix(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function mc(s){let{to:r,replace:i,state:l,relative:c}=s;Gs()||Fe(!1);let{future:u,static:h}=E.useContext(Mr),{matches:m}=E.useContext(fr),{pathname:p}=Br(),x=mr(),v=hc(r,dc(m,u.v7_relativeSplatPath),p,c==="path"),w=JSON.stringify(v);return E.useEffect(()=>x(JSON.parse(w),{replace:i,state:l,relative:c}),[x,w,c,i,l]),null}function We(s){Fe(!1)}function ax(s){let{basename:r="/",children:i=null,location:l,navigationType:c=zr.Pop,navigator:u,static:h=!1,future:m}=s;Gs()&&Fe(!1);let p=r.replace(/^\/*/,"/"),x=E.useMemo(()=>({basename:p,navigator:u,static:h,future:Wn({v7_relativeSplatPath:!1},m)}),[p,m,u,h]);typeof l=="string"&&(l=Js(l));let{pathname:v="/",search:w="",hash:b="",state:S=null,key:j="default"}=l,k=E.useMemo(()=>{let N=uc(v,p);return N==null?null:{location:{pathname:N,search:w,hash:b,state:S,key:j},navigationType:c}},[p,v,w,b,S,j,c]);return k==null?null:E.createElement(Mr.Provider,{value:x},E.createElement(Ta.Provider,{children:i,value:k}))}function lx(s){let{children:r,location:i}=s;return H0(Ko(r),i)}new Promise(()=>{});function Ko(s,r){r===void 0&&(r=[]);let i=[];return E.Children.forEach(s,(l,c)=>{if(!E.isValidElement(l))return;let u=[...r,c];if(l.type===E.Fragment){i.push.apply(i,Ko(l.props.children,u));return}l.type!==We&&Fe(!1),!l.props.index||!l.props.children||Fe(!1);let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Ko(l.props.children,u)),i.push(h)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])}return s},Jo.apply(this,arguments)}function ox(s,r){if(s==null)return{};var i={},l=Object.keys(s),c,u;for(u=0;u<l.length;u++)c=l[u],!(r.indexOf(c)>=0)&&(i[c]=s[c]);return i}function cx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ux(s,r){return s.button===0&&(!r||r==="_self")&&!cx(s)}const dx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hx="6";try{window.__reactRouterVersion=hx}catch{}const fx="startTransition",Uh=c0[fx];function mx(s){let{basename:r,children:i,future:l,window:c}=s,u=E.useRef();u.current==null&&(u.current=p0({window:c,v5Compat:!0}));let h=u.current,[m,p]=E.useState({action:h.action,location:h.location}),{v7_startTransition:x}=l||{},v=E.useCallback(w=>{x&&Uh?Uh(()=>p(w)):p(w)},[p,x]);return E.useLayoutEffect(()=>h.listen(v),[h,v]),E.useEffect(()=>ix(l),[l]),E.createElement(ax,{basename:r,children:i,location:m.location,navigationType:m.action,navigator:h,future:l})}const px=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=E.forwardRef(function(r,i){let{onClick:l,relative:c,reloadDocument:u,replace:h,state:m,target:p,to:x,preventScrollReset:v,viewTransition:w}=r,b=ox(r,dx),{basename:S}=E.useContext(Mr),j,k=!1;if(typeof x=="string"&&xx.test(x)&&(j=x,px))try{let A=new URL(window.location.href),P=x.startsWith("//")?new URL(A.protocol+x):new URL(x),B=uc(P.pathname,S);P.origin===A.origin&&B!=null?x=B+P.search+P.hash:k=!0}catch{}let N=q0(x,{relative:c}),D=gx(x,{replace:h,state:m,target:p,preventScrollReset:v,relative:c,viewTransition:w});function U(A){l&&l(A),A.defaultPrevented||D(A)}return E.createElement("a",Jo({},b,{href:j||N,onClick:k||u?l:U,ref:i,target:p}))});var $h;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})($h||($h={}));var zh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(zh||(zh={}));function gx(s,r){let{target:i,replace:l,state:c,preventScrollReset:u,relative:h,viewTransition:m}=r===void 0?{}:r,p=mr(),x=Br(),v=Rf(s,{relative:h});return E.useCallback(w=>{if(ux(w,i)){w.preventDefault();let b=l!==void 0?l:ja(x)===ja(v);p(s,{replace:b,state:c,preventScrollReset:u,relative:h,viewTransition:m})}},[x,p,v,l,c,i,s,u,h,m])}function Pa(s,r){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&r.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)r.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(i[l[c]]=s[l[c]]);return i}function vx(s,r,i,l){function c(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function m(v){try{x(l.next(v))}catch(w){h(w)}}function p(v){try{x(l.throw(v))}catch(w){h(w)}}function x(v){v.done?u(v.value):c(v.value).then(m,p)}x((l=l.apply(s,r||[])).next())})}const yx=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class pc extends Error{constructor(r,i="FunctionsError",l){super(r),this.name=i,this.context=l}}class wx extends pc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Lh extends pc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Mh extends pc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Go;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Go||(Go={}));class jx{constructor(r,{headers:i={},customFetch:l,region:c=Go.Any}={}){this.url=r,this.headers=i,this.region=c,this.fetch=yx(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return vx(this,arguments,void 0,function*(i,l={}){var c;let u,h;try{const{headers:m,method:p,body:x,signal:v,timeout:w}=l;let b={},{region:S}=l;S||(S=this.region);const j=new URL(`${this.url}/${i}`);S&&S!=="any"&&(b["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let k;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",k=x):typeof x=="string"?(b["Content-Type"]="text/plain",k=x):typeof FormData<"u"&&x instanceof FormData?k=x:(b["Content-Type"]="application/json",k=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?k=JSON.stringify(x):k=x;let N=v;w&&(h=new AbortController,u=setTimeout(()=>h.abort(),w),v?(N=h.signal,v.addEventListener("abort",()=>h.abort())):N=h.signal);const D=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:k,signal:N}).catch(B=>{throw new wx(B)}),U=D.headers.get("x-relay-error");if(U&&U==="true")throw new Lh(D);if(!D.ok)throw new Mh(D);let A=((c=D.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield D.json():A==="application/octet-stream"||A==="application/pdf"?P=yield D.blob():A==="text/event-stream"?P=D:A==="multipart/form-data"?P=yield D.formData():P=yield D.text(),{data:P,error:null,response:D}}catch(m){return{data:null,error:m,response:m instanceof Mh||m instanceof Lh?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var bx=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},_x=class{constructor(s){var r,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,m=null,p=null,x=u.status,v=u.statusText;if(u.ok){var w,b;if(i.method!=="HEAD"){var S;const D=await u.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((S=i.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=D:m=JSON.parse(D))}const k=(w=i.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),N=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");k&&N&&N.length>1&&(p=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,x=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var j;const k=await u.text();try{h=JSON.parse(k),Array.isArray(h)&&u.status===404&&(m=[],h=null,x=200,v="OK")}catch{u.status===404&&k===""?(x=204,v="No Content"):h={message:k}}if(h&&i.isMaybeSingle&&(!(h==null||(j=h.details)===null||j===void 0)&&j.includes("0 rows"))&&(h=null,x=200,v="OK"),h&&i.shouldThrowOnError)throw new bx(h)}return{error:h,data:m,count:p,status:x,statusText:v}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let m="";const p=u==null?void 0:u.cause;if(p){var x,v,w,b;const j=(x=p==null?void 0:p.message)!==null&&x!==void 0?x:"",k=(v=p==null?void 0:p.code)!==null&&v!==void 0?v:"";m=`${(w=u==null?void 0:u.name)!==null&&w!==void 0?w:"FetchError"}: ${u==null?void 0:u.message}`,m+=`

Caused by: ${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"Error"}: ${j}`,k&&(m+=` (${k})`),p!=null&&p.stack&&(m+=`
${p.stack}`)}else{var S;m=(S=u==null?void 0:u.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,r)}returns(){return this}overrideTypes(){return this}},Nx=class extends _x{select(s){let r=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:i=r}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,r,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const m=[s?"analyze":null,r?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Bh=new RegExp("[,()]");var Fs=class extends Nx{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const i=Array.from(new Set(r)).map(l=>typeof l=="string"&&Bh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,r){const i=Array.from(new Set(r)).map(l=>typeof l=="string"&&Bh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${c}fts${u}.${r}`),this}match(s){return Object.entries(s).forEach(([r,i])=>{this.url.searchParams.append(r,`eq.${i}`)}),this}not(s,r,i){return this.url.searchParams.append(s,`not.${r}.${i}`),this}or(s,{foreignTable:r,referencedTable:i=r}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,r,i){return this.url.searchParams.append(s,`${r}.${i}`),this}},Sx=class{constructor(s,{headers:r={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(r),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:i=!1,count:l}=r??{},c=i?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(x=>/\s/.test(x)&&!u?"":(x==='"'&&(u=!u),x)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",h),l&&p.append("Prefer",`count=${l}`),new Fs({method:c,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:i=!0}={}){var l;const c="POST",{url:u,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),i||h.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);u.searchParams.set("columns",p.join(","))}}return new Fs({method:c,url:u,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),r!==void 0&&m.searchParams.set("on_conflict",r),l&&p.append("Prefer",`count=${l}`),c||p.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(x.length>0){const v=[...new Set(x)].map(w=>`"${w}"`);m.searchParams.set("columns",v.join(","))}}return new Fs({method:h,url:m,headers:p,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:r}={}){var i;const l="PATCH",{url:c,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Fs({method:l,url:c,headers:u,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var r;const i="DELETE",{url:l,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Fs({method:i,url:l,headers:c,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},kx=class Df{constructor(r,{headers:i={},schema:l,fetch:c}={}){this.url=r,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Sx(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Df(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,i={},{head:l=!1,get:c=!1,count:u}={}){var h;let m;const p=new URL(`${this.url}/rpc/${r}`);let x;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),w=l&&Object.values(i).some(v);w?(m="POST",x=i):l||c?(m=l?"HEAD":"GET",Object.entries(i).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{p.searchParams.append(S,j)})):(m="POST",x=i);const b=new Headers(this.headers);return w?b.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&b.set("Prefer",`count=${u}`),new Fs({method:m,url:p,headers:b,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Ex{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const c=l.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const l=this.getWebSocketConstructor();return new l(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Cx="2.91.0",Tx=`realtime-js/${Cx}`,Px="1.0.0",Uf="2.0.0",Fh=Uf,Yo=1e4,Rx=1e3,Ox=100;var Ur;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ur||(Ur={}));var Je;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Je||(Je={}));var Ht;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ht||(Ht={}));var Qo;(function(s){s.websocket="websocket"})(Qo||(Qo={}));var ns;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ns||(ns={}));class Ax{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,i){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(r));let l=[r.join_ref,r.ref,r.topic,r.event,r.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(r){var i;return this._isArrayBuffer((i=r.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var i,l;const c=(l=(i=r.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(r){var i,l;const c=(l=(i=r.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,i,l){var c,u;const h=r.topic,m=(c=r.ref)!==null&&c!==void 0?c:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",x=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+x.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let j=new DataView(S),k=0;j.setUint8(k++,this.KINDS.userBroadcastPush),j.setUint8(k++,p.length),j.setUint8(k++,m.length),j.setUint8(k++,h.length),j.setUint8(k++,x.length),j.setUint8(k++,w.length),j.setUint8(k++,i),Array.from(p,D=>j.setUint8(k++,D.charCodeAt(0))),Array.from(m,D=>j.setUint8(k++,D.charCodeAt(0))),Array.from(h,D=>j.setUint8(k++,D.charCodeAt(0))),Array.from(x,D=>j.setUint8(k++,D.charCodeAt(0))),Array.from(w,D=>j.setUint8(k++,D.charCodeAt(0)));var N=new Uint8Array(S.byteLength+l.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(l),S.byteLength),N.buffer}decode(r,i){if(this._isArrayBuffer(r)){let l=this._binaryDecode(r);return i(l)}if(typeof r=="string"){const l=JSON.parse(r),[c,u,h,m,p]=l;return i({join_ref:c,ref:u,topic:h,event:m,payload:p})}return i({})}_binaryDecode(r){const i=new DataView(r),l=i.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,i,c)}}_decodeUserBroadcast(r,i,l){const c=i.getUint8(1),u=i.getUint8(2),h=i.getUint8(3),m=i.getUint8(4);let p=this.HEADER_LENGTH+4;const x=l.decode(r.slice(p,p+c));p=p+c;const v=l.decode(r.slice(p,p+u));p=p+u;const w=l.decode(r.slice(p,p+h));p=p+h;const b=r.slice(p,r.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(b)):b,j={type:this.BROADCAST_EVENT,event:v,payload:S};return h>0&&(j.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(r){var i;return r instanceof ArrayBuffer||((i=r==null?void 0:r.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(r,i){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([l])=>i.includes(l)))}}class $f{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ee||(Ee={}));const qh=(s,r,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return r?Object.keys(r).reduce((u,h)=>(u[h]=Ix(h,s,r,c),u),{}):{}},Ix=(s,r,i,l)=>{const c=r.find(m=>m.name===s),u=c==null?void 0:c.type,h=i[s];return u&&!l.includes(u)?zf(u,h):Xo(h)},zf=(s,r)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return zx(r,i)}switch(s){case Ee.bool:return Dx(r);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Ux(r);case Ee.json:case Ee.jsonb:return $x(r);case Ee.timestamp:return Lx(r);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Xo(r);default:return Xo(r)}},Xo=s=>s,Dx=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Ux=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},$x=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},zx=(s,r)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let u;const h=s.slice(1,i);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>zf(r,m))}return s},Lx=s=>typeof s=="string"?s.replace(" ","T"):s,Lf=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Io{constructor(r,i,l={},c=Yo){this.channel=r,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var l;return this._hasReceived(r)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Wh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Wh||(Wh={}));class Bn{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bn.syncState(this.state,c,u,h),this.pendingDiffs.forEach(p=>{this.state=Bn.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Bn.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,l,c){const u=this.cloneDeep(r),h=this.transformState(i),m={},p={};return this.map(u,(x,v)=>{h[x]||(p[x]=v)}),this.map(h,(x,v)=>{const w=u[x];if(w){const b=v.map(N=>N.presence_ref),S=w.map(N=>N.presence_ref),j=v.filter(N=>S.indexOf(N.presence_ref)<0),k=w.filter(N=>b.indexOf(N.presence_ref)<0);j.length>0&&(m[x]=j),k.length>0&&(p[x]=k)}else m[x]=v}),this.syncDiff(u,{joins:m,leaves:p},l,c)}static syncDiff(r,i,l,c){const{joins:u,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(m,p)=>{var x;const v=(x=r[m])!==null&&x!==void 0?x:[];if(r[m]=this.cloneDeep(p),v.length>0){const w=r[m].map(S=>S.presence_ref),b=v.filter(S=>w.indexOf(S.presence_ref)<0);r[m].unshift(...b)}l(m,v,p)}),this.map(h,(m,p)=>{let x=r[m];if(!x)return;const v=p.map(w=>w.presence_ref);x=x.filter(w=>v.indexOf(w.presence_ref)<0),r[m]=x,c(m,x,p),x.length===0&&delete r[m]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(l=>i(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,l)=>{const c=r[l];return"metas"in c?i[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[l]=c,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Vh||(Vh={}));var Fn;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Fn||(Fn={}));var cr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class Vs{constructor(r,i={config:{}},l){var c,u;if(this.topic=r,this.params=i,this.socket=l,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Io(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new $f(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Bn(this),this.broadcastEndpointURL=Lf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,i=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,x=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Fn.PRESENCE]&&this.bindings[Fn.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},b={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:x,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(cr.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){r==null||r(cr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(j=k==null?void 0:k.length)!==null&&j!==void 0?j:0,D=[];for(let U=0;U<N;U++){const A=k[U],{filter:{event:P,schema:B,table:V,filter:ae}}=A,pe=S&&S[U];if(pe&&pe.event===P&&Vs.isFilterValueEqual(pe.schema,B)&&Vs.isFilterValueEqual(pe.table,V)&&Vs.isFilterValueEqual(pe.filter,ae))D.push(Object.assign(Object.assign({},A),{id:pe.id}));else{this.unsubscribe(),this.state=Je.errored,r==null||r(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,r&&r(cr.SUBSCRIBED);return}}).receive("error",S=>{this.state=Je.errored,r==null||r(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,l){return this.state===Je.joined&&r===Fn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,i,l)}async httpSend(r,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const x=await m.json();p=x.error||x.message||p}catch{}return Promise.reject(new Error(p))}async send(r,i={}){var l,c;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=r,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const x=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),x.receive("ok",()=>u("ok")),x.receive("error",()=>u("error")),x.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Je.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Io(this,Ht.leave,{},r),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(r,i,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(u),h}_push(r,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Io(this,r,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Ox){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,l){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,l){var c,u;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:x,join:v}=Ht;if(l&&[m,p,x,v].indexOf(h)>=0&&l!==this._joinRef())return;let b=this._onMessage(h,i,l);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var j,k,N;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(k=S.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(S=>S.callback(b,l)):(u=this.bindings[h])===null||u===void 0||u.filter(S=>{var j,k,N,D,U,A,P,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const V=S.id,ae=(j=S.filter)===null||j===void 0?void 0:j.event;return V&&((k=i.ids)===null||k===void 0?void 0:k.includes(V))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((D=S.filter)===null||D===void 0)&&D.table)||S.filter.table===((U=i.data)===null||U===void 0?void 0:U.table))}else{const V=(P=(A=S==null?void 0:S.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return V==="*"||V===((B=i==null?void 0:i.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:k,table:N,commit_timestamp:D,type:U,errors:A}=j;b=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:D,eventType:U,new:{},old:{},errors:A}),this._getPayloadRecords(j))}S.callback(b,l)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,l){const c=r.toLocaleLowerCase(),u={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(r,i){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Vs.isEqual(c.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const l in r)if(r[l]!==i[l])return!1;return!0}static isFilterValueEqual(r,i){return(r??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Ht.close,{},r)}_onError(r){this._on(Ht.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=qh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=qh(r.columns,r.old_record)),i}}const Do=()=>{},ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mx=[1e3,2e3,5e3,1e4],Bx=1e4,Fx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qx{constructor(r,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yo,this.transport=null,this.heartbeatIntervalMs=ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Do,this.ref=0,this.reconnectTimer=null,this.vsn=Fh,this.logger=Do,this.conn=null,this.sendBuffer=[],this.serializer=new Ax,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=i==null?void 0:i.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Qo.websocket}`,this.httpEndpoint=Lf(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ex.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,l){this.logger(r,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ur.connecting:return ns.Connecting;case Ur.open:return ns.Open;case Ur.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const l=`realtime:${r}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Vs(`realtime:${r}`,i,this);return this.channels.push(u),u}}push(r){const{topic:i,event:l,payload:c,ref:u}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${i} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Rx,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",x)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:u,ref:h}=i,m=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${l} ${c} ${m}`.trim(),u),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(c,u,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===Ur.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ur.open||this.conn.readyState===Ur.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Ht.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const l=r.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${r}${l}${c}`}_workerObjectUrl(r){let i;if(r)i=r;else{const l=new Blob([Fx],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i,l=!1;if(r)i=r,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const u={access_token:i,version:Tx};i&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Ht.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${r} callback`,c)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new $f(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,l,c,u,h,m,p,x,v,w,b,S;switch(this.transport=(i=r==null?void 0:r.transport)!==null&&i!==void 0?i:null,this.timeout=(l=r==null?void 0:r.timeout)!==null&&l!==void 0?l:Yo,this.heartbeatIntervalMs=(c=r==null?void 0:r.heartbeatIntervalMs)!==null&&c!==void 0?c:ma.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r==null?void 0:r.heartbeatCallback)!==null&&m!==void 0?m:Do,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:Fh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=r==null?void 0:r.reconnectAfterMs)!==null&&x!==void 0?x:(j=>Mx[j-1]||Bx),this.vsn){case Px:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:((j,k)=>k(JSON.stringify(j))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((j,k)=>k(JSON.parse(j)));break;case Uf:this.encode=(b=r==null?void 0:r.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=r==null?void 0:r.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var Vn=class extends Error{constructor(s,r){var i;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((i=r.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Wx(s,r,i){const l=new URL(r,s);if(i)for(const[c,u]of Object.entries(i))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function Vx(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Hx(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:u,headers:h}){const m=Wx(s.baseUrl,l,c),p=await Vx(s.auth),x=await r(m,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...p,...h},body:u?JSON.stringify(u):void 0}),v=await x.text(),w=(x.headers.get("content-type")||"").includes("application/json"),b=w&&v?JSON.parse(v):v;if(!x.ok){const S=w?b:void 0,j=S==null?void 0:S.error;throw new Vn((j==null?void 0:j.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:S})}return{status:x.status,headers:x.headers,data:b}}}}function pa(s){return s.join("")}var Kx=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:pa(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,r){const i={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pa(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pa(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pa(s.namespace)}`}),!0}catch(r){if(r instanceof Vn&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(i){if(i instanceof Vn&&i.status===409)return;throw i}}};function Us(s){return s.join("")}var Jx=class{constructor(s,r="",i){this.client=s,this.prefix=r,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables`,body:r,headers:i})).data.metadata}async updateTable(s,r){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(i){if(i instanceof Vn&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(i){if(i instanceof Vn&&i.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw i}}},Gx=class{constructor(s){var l;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Hx({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(l=s.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Kx(this.client,r),this.tableOps=new Jx(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Ra=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ue(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Yx=class extends Ra{constructor(s,r,i){super(s),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zo=class extends Ra{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const xc=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Qx=()=>Response,ec=s=>{if(Array.isArray(s))return s.map(i=>ec(i));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[c]=ec(l)}),r},Xx=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Zx=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Hn(s){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hn(s)}function eg(s,r){if(Hn(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,r);if(Hn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function tg(s){var r=eg(s,"string");return Hn(r)=="symbol"?r:r+""}function rg(s,r,i){return(r=tg(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Hh(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function ne(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Hh(Object(i),!0).forEach(function(l){rg(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Hh(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Uo=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},sg=async(s,r,i)=>{s instanceof await Qx()&&!(i!=null&&i.noResolveJson)?s.json().then(l=>{const c=s.status||500,u=(l==null?void 0:l.statusCode)||c+"";r(new Yx(Uo(l),c,u))}).catch(l=>{r(new Zo(Uo(l),l))}):r(new Zo(Uo(s),s))},ng=(s,r,i,l)=>{const c={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!l?c:(Xx(l)?(c.headers=ne({"Content-Type":"application/json"},r==null?void 0:r.headers),c.body=JSON.stringify(l)):c.body=l,r!=null&&r.duplex&&(c.duplex=r.duplex),ne(ne({},c),i))};async function ri(s,r,i,l,c,u){return new Promise((h,m)=>{s(i,ng(r,l,c,u)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>sg(p,m,l))})}async function Kn(s,r,i,l){return ri(s,"GET",r,i,l)}async function Vt(s,r,i,l,c){return ri(s,"POST",r,l,c,i)}async function tc(s,r,i,l,c){return ri(s,"PUT",r,l,c,i)}async function ig(s,r,i,l){return ri(s,"HEAD",r,ne(ne({},i),{},{noResolveJson:!0}),l)}async function gc(s,r,i,l,c){return ri(s,"DELETE",r,l,c,i)}var ag=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}};let Mf;Mf=Symbol.toStringTag;var lg=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Mf]="BlobDownloadBuilder",this.promise=null}asStream(){return new ag(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}}};const og={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cg=class{constructor(s,r={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=i,this.fetch=xc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,i,l){var c=this;try{let u;const h=ne(ne({},Kh),l);let m=ne(ne({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",c.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),p&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(p))):(u=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(m=ne(ne({},m),l.headers));const x=c._removeEmptyFolders(r),v=c._getFinalPath(x),w=await(s=="PUT"?tc:Vt)(c.fetch,`${c.url}/object/${v}`,u,ne({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:x,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}async upload(s,r,i){return this.uploadOrUpdate("POST",s,r,i)}async uploadToSignedUrl(s,r,i,l){var c=this;const u=c._removeEmptyFolders(s),h=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let p;const x=ne({upsert:Kh.upsert},l),v=ne(ne({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",x.cacheControl)):(p=i,v["cache-control"]=`max-age=${x.cacheControl}`,v["content-type"]=x.contentType),{data:{path:u,fullPath:(await tc(c.fetch,m.toString(),p,{headers:v})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(s,r){var i=this;try{let l=i._getFinalPath(s);const c=ne({},i.headers);r!=null&&r.upsert&&(c["x-upsert"]="true");const u=await Vt(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(i.url+u.url),m=h.searchParams.get("token");if(!m)throw new Ra("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:m},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async update(s,r,i){return this.uploadOrUpdate("PUT",s,r,i)}async move(s,r,i){var l=this;try{return{data:await Vt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}}async copy(s,r,i){var l=this;try{return{data:{path:(await Vt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}}async createSignedUrl(s,r,i){var l=this;try{let c=l._getFinalPath(s),u=await Vt(l.fetch,`${l.url}/object/sign/${c}`,ne({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:l.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${l.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}}async createSignedUrls(s,r,i){var l=this;try{const c=await Vt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:r,paths:s},{headers:l.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>ne(ne({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}}download(s,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"",u=this._getFinalPath(s),h=()=>Kn(this.fetch,`${this.url}/${i}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new lg(h,this.shouldThrowOnError)}async info(s){var r=this;const i=r._getFinalPath(s);try{return{data:ec(await Kn(r.fetch,`${r.url}/object/info/${i}`,{headers:r.headers})),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async exists(s){var r=this;const i=r._getFinalPath(s);try{return await ig(r.fetch,`${r.url}/object/${i}`,{headers:r.headers}),{data:!0,error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ue(l)&&l instanceof Zo){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,r){const i=this._getFinalPath(s),l=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&l.push(c);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${m}`)}}}async remove(s){var r=this;try{return{data:await gc(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async list(s,r,i){var l=this;try{const c=ne(ne(ne({},og),r),{},{prefix:s||""});return{data:await Vt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}}async listV2(s,r){var i=this;try{const l=ne({},s);return{data:await Vt(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},r),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const Bf="2.91.0",Ff={"X-Client-Info":`storage-js/${Bf}`};var ug=class{constructor(s,r={},i,l){this.shouldThrowOnError=!1;const c=new URL(s);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ne(ne({},Ff),r),this.fetch=xc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const i=r.listBucketOptionsToQueryString(s);return{data:await Kn(r.fetch,`${r.url}/bucket${i}`,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async getBucket(s){var r=this;try{return{data:await Kn(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async createBucket(s,r={public:!1}){var i=this;try{return{data:await Vt(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async updateBucket(s,r){var i=this;try{return{data:await tc(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async emptyBucket(s){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async deleteBucket(s){var r=this;try{return{data:await gc(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},dg=class{constructor(s,r={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ne(ne({},Ff),r),this.fetch=xc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async listBuckets(s){var r=this;try{const i=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&i.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&i.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&i.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&i.set("sortOrder",s.sortOrder),s!=null&&s.search&&i.set("search",s.search);const l=i.toString(),c=l?`${r.url}/bucket?${l}`:`${r.url}/bucket`;return{data:await Kn(r.fetch,c,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}async deleteBucket(s){var r=this;try{return{data:await gc(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}}from(s){var r=this;if(!Zx(s))throw new Ra("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Gx({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const vc={"X-Client-Info":`storage-js/${Bf}`,"Content-Type":"application/json"};var qf=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var $o=class extends qf{constructor(s,r,i){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hg=class extends qf{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const yc=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),fg=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Jh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),mg=async(s,r,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(i!=null&&i.noResolveJson)){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";r(new $o(Jh(u),l,h))}).catch(()=>{const u=l+"";r(new $o(c.statusText||`HTTP ${l} error`,l,u))});else{const u=l+"";r(new $o(c.statusText||`HTTP ${l} error`,l,u))}}else r(new hg(Jh(s),s))},pg=(s,r,i,l)=>{const c={method:s,headers:(r==null?void 0:r.headers)||{}};return l?(fg(l)?(c.headers=ne({"Content-Type":"application/json"},r==null?void 0:r.headers),c.body=JSON.stringify(l)):c.body=l,ne(ne({},c),i)):c};async function xg(s,r,i,l,c,u){return new Promise((h,m)=>{s(i,pg(r,l,c,u)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const x=p.headers.get("content-type");return!x||!x.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>mg(p,m,l))})}async function Ct(s,r,i,l,c){return xg(s,"POST",r,l,c,i)}var gg=class{constructor(s,r={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ne(ne({},vc),r),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async getIndex(s,r){var i=this;try{return{data:await Ct(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Et(l))return{data:null,error:l};throw l}}async listIndexes(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async deleteIndex(s,r){var i=this;try{return{data:await Ct(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Et(l))return{data:null,error:l};throw l}}},vg=class{constructor(s,r={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ne(ne({},vc),r),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ct(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async getVectors(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Ct(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async queryVectors(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ct(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}},yg=class{constructor(s,r={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ne(ne({},vc),r),this.fetch=yc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async getBucket(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}async deleteBucket(s){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}}},wg=class extends yg{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new jg(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,i=this;return r().call(i,s)}async getBucket(s){var r=()=>super.getBucket,i=this;return r().call(i,s)}async listBuckets(s={}){var r=()=>super.listBuckets,i=this;return r().call(i,s)}async deleteBucket(s){var r=()=>super.deleteBucket,i=this;return r().call(i,s)}},jg=class extends gg{constructor(s,r,i,l){super(s,r,l),this.vectorBucketName=i}async createIndex(s){var r=()=>super.createIndex,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,i=this;return r().call(i,i.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,i=this;return r().call(i,i.vectorBucketName,s)}index(s){return new bg(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},bg=class extends vg{constructor(s,r,i,l,c){super(s,r,c),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var r=()=>super.putVectors,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var r=()=>super.getVectors,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,i=this;return r().call(i,ne(ne({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},_g=class extends ug{constructor(s,r={},i,l){super(s,r,i,l)}from(s){return new cg(this.url,this.headers,s,this.fetch)}get vectors(){return new wg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dg(this.url+"/iceberg",this.headers,this.fetch)}};const Wf="2.91.0",qs=30*1e3,rc=3,zo=rc*qs,Ng="http://localhost:9999",Sg="supabase.auth.token",kg={"X-Client-Info":`gotrue-js/${Wf}`},sc="X-Supabase-Api-Version",Vf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cg=600*1e3;class Jn extends Error{constructor(r,i,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function Z(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Tg extends Jn{constructor(r,i,l){super(r,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Pg(s){return Z(s)&&s.name==="AuthApiError"}class is extends Jn{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class pr extends Jn{constructor(r,i,l,c){super(r,l,c),this.name=i,this.status=l}}class kt extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rg(s){return Z(s)&&s.name==="AuthSessionMissingError"}class $s extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xa extends pr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ga extends pr{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Og(s){return Z(s)&&s.name==="AuthImplicitGrantRedirectError"}class Gh extends pr{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ag extends pr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nc extends pr{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Lo(s){return Z(s)&&s.name==="AuthRetryableFetchError"}class Yh extends pr{constructor(r,i,l){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class ic extends pr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qh=` 	
\r=`.split(""),Ig=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Qh.length;r+=1)s[Qh[r].charCodeAt(0)]=-2;for(let r=0;r<ba.length;r+=1)s[ba[r].charCodeAt(0)]=r;return s})();function Xh(s,r,i){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;i(ba[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;i(ba[l]),r.queuedBits-=6}}function Hf(s,r,i){const l=Ig[s];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Zh(s){const r=[],i=h=>{r.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{$g(h,l,i)};for(let h=0;h<s.length;h+=1)Hf(s.charCodeAt(h),c,u);return r.join("")}function Dg(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Ug(s,r){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}Dg(l,r)}}function $g(s,r,i){if(r.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function Hs(s){const r=[],i={queue:0,queuedBits:0},l=c=>{r.push(c)};for(let c=0;c<s.length;c+=1)Hf(s.charCodeAt(c),i,l);return new Uint8Array(r)}function zg(s){const r=[];return Ug(s,i=>r.push(i)),new Uint8Array(r)}function as(s){const r=[],i={queue:0,queuedBits:0},l=c=>{r.push(c)};return s.forEach(c=>Xh(c,i,l)),Xh(null,i,l),r.join("")}function Lg(s){return Math.round(Date.now()/1e3)+s}function Mg(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},Kf=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function Bg(s){const r={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,u)=>{r[u]=c})}catch{}return i.searchParams.forEach((l,c)=>{r[c]=l}),r}const Jf=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Fg=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ws=async(s,r,i)=>{await s.setItem(r,JSON.stringify(i))},rs=async(s,r)=>{const i=await s.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},rt=async(s,r)=>{await s.removeItem(r)};class Oa{constructor(){this.promise=new Oa.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}Oa.promiseConstructor=Promise;function Mo(s){const r=s.split(".");if(r.length!==3)throw new ic("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!Eg.test(r[l]))throw new ic("JWT not in base64url format");return{header:JSON.parse(Zh(r[0])),payload:JSON.parse(Zh(r[1])),signature:Hs(r[2]),raw:{header:r[0],payload:r[1]}}}async function qg(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Wg(s,r){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!r(u,null,h)){l(h);return}}catch(h){if(!r(u,h)){c(h);return}}})()})}function Vg(s){return("0"+s.toString(16)).substr(-2)}function Hg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let u=0;u<56;u++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(r),Array.from(r,Vg).join("")}async function Kg(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Jg(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await Kg(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(s,r,i=!1){const l=Hg();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Ws(s,`${r}-code-verifier`,c);const u=await Jg(l);return[u,l===u?"plain":"s256"]}const Gg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(s){const r=s.headers.get(sc);if(!r||!r.match(Gg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Qg(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Xg(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(s){if(!Zg.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bo(){const s={};return new Proxy(s,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ev(s,r){return new Proxy(s,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!r.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(i,l,c)}})}function ef(s){return JSON.parse(JSON.stringify(s))}const ss=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),tv=[502,503,504];async function tf(s){var r;if(!Fg(s))throw new nc(ss(s),0);if(tv.includes(s.status))throw new nc(ss(s),s.status);let i;try{i=await s.json()}catch(u){throw new is(ss(u),u)}let l;const c=Yg(s);if(c&&c.getTime()>=Vf["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Yh(ss(i),s.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new kt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Yh(ss(i),s.status,i.weak_password.reasons);throw new Tg(ss(i),s.status||500,l)}const rv=(s,r,i,l)=>{const c={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function se(s,r,i,l){var c;const u=Object.assign({},l==null?void 0:l.headers);u[sc]||(u[sc]=Vf["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await sv(s,r,i+m,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function sv(s,r,i,l,c,u){const h=rv(r,l,c,u);let m;try{m=await s(i,Object.assign({},h))}catch(p){throw console.error(p),new nc(ss(p),0)}if(m.ok||await tf(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(p){await tf(p)}}function Wt(s){var r;let i=null;av(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=Lg(s.expires_in)));const l=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:i,user:l},error:null}}function rf(s){const r=Wt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(r.data.weak_password=s.weak_password),r}function $r(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function nv(s){return{data:s,error:null}}function iv(s){const{action_link:r,email_otp:i,hashed_token:l,redirect_to:c,verification_type:u}=s,h=Pa(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:i,hashed_token:l,redirect_to:c,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function sf(s){return s}function av(s){return s.access_token&&s.refresh_token&&s.expires_in}const Fo=["global","local","others"];class lv{constructor({url:r="",headers:i={},fetch:l}){this.url=r,this.headers=i,this.fetch=Jf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,i=Fo[0]){if(Fo.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fo.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,i={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:$r})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:i}=r,l=Pa(r,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:iv,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Z(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:$r})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,l,c,u,h,m,p;try{const x={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=r==null?void 0:r.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:sf});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const k=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);x[`${N}Page`]=k}),x.total=parseInt(b)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(Z(x))return{data:{users:[]},error:x};throw x}}async getUserById(r){Ls(r);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:$r})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){Ls(r);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:$r})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,i=!1){Ls(r);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:$r})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Ls(r.userId);try{const{data:i,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _deleteFactor(r){Ls(r.userId),Ls(r.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _listOAuthClients(r){var i,l,c,u,h,m,p;try{const x={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=r==null?void 0:r.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=r==null?void 0:r.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:sf});if(v.error)throw v.error;const w=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const k=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);x[`${N}Page`]=k}),x.total=parseInt(b)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(Z(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _getOAuthClient(r){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _updateOAuthClient(r,i){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(r){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Z(i))return{data:null,error:i};throw i}}}function nf(s={}){return{getItem:r=>s[r]||null,setItem:(r,i)=>{s[r]=i},removeItem:r=>{delete s[r]}}}const Ms={debug:!!(globalThis&&Kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ov extends Gf{}async function cv(s,r,i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await i()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(r===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new ov(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ms.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function uv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yf(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function dv(s){return parseInt(s,16)}function hv(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,l=>l.toString(16).padStart(2,"0")).join("")}function fv(s){var r;const{chainId:i,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:m,requestId:p,resources:x,scheme:v,uri:w,version:b}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Yf(s.address),j=v?`${v}://${l}`:l,k=s.statement?`${s.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${S}

${k}`;let D=`URI: ${w}
Version: ${b}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(D+=`
Expiration Time: ${c.toISOString()}`),m&&(D+=`
Not Before: ${m.toISOString()}`),p&&(D+=`
Request ID: ${p}`),x){let U=`
Resources:`;for(const A of x){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);U+=`
- ${A}`}D+=U}return`${N}
${D}`}class Ve extends Error{constructor({message:r,code:i,cause:l,name:c}){var u;super(r,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class _a extends Ve{constructor(r,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:r}),this.name="WebAuthnUnknownError",this.originalError=i}}function mv({error:s,options:r}){var i,l,c;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Qf(h)){if(u.rp.id!==h)return new Ve({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function pv({error:s,options:r}){const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ve({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Qf(l)){if(i.rpId!==l)return new Ve({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class xv{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const gv=new xv;function vv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:i,excludeCredentials:l}=s,c=Pa(s,["challenge","user","excludeCredentials"]),u=Hs(r).buffer,h=Object.assign(Object.assign({},i),{id:Hs(i.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const x=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},x),{id:Hs(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function yv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:i}=s,l=Pa(s,["challenge","allowCredentials"]),c=Hs(r).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];u.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Hs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function wv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:as(new Uint8Array(s.response.attestationObject)),clientDataJSON:as(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function jv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:as(new Uint8Array(c.authenticatorData)),clientDataJSON:as(new Uint8Array(c.clientDataJSON)),signature:as(new Uint8Array(c.signature)),userHandle:c.userHandle?as(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Qf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function af(){var s,r;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function bv(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",r)}:{data:null,error:new _a("Empty credential response",r)}}catch(r){return{data:null,error:mv({error:r,options:s})}}}async function _v(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",r)}:{data:null,error:new _a("Empty credential response",r)}}catch(r){return{data:null,error:pv({error:r,options:s})}}}const Nv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Sv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Na(...s){const r=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(i(h))l[u]=h;else if(r(h)){const m=l[u];r(m)?l[u]=Na(m,h):l[u]=Na(h)}else l[u]=h}return l}function kv(s,r){return Na(Nv,s,r||{})}function Ev(s,r){return Na(Sv,s,r||{})}class Cv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:i,friendlyName:l,signal:c},u){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:i});if(!h)return{data:null,error:m};const p=c??gv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:x}=h.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${l}`),x.displayName||(x.displayName=x.name)}switch(h.webauthn.type){case"create":{const x=kv(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:w}=await bv({publicKey:x,signal:p});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const x=Ev(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:w}=await _v(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:x,signal:p}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new is("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:r,webauthn:l})}async _authenticate({factorId:r,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!i)return{data:null,error:new Jn("rpId is required for WebAuthn authentication")};try{if(!af())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new is("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!i)return{data:null,error:new Jn("rpId is required for WebAuthn registration")};try{if(!af())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===r&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:m};const{data:p,error:x}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:u});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:x}}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new is("Unexpected error in register",h)}}}}uv();const Tv={url:Ng,storageKey:Sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lf(s,r,i){return await i()}const Bs={};class Gn{get jwks(){var r,i;return(i=(r=Bs[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=Bs[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Bs[this.storageKey]=Object.assign(Object.assign({},Bs[this.storageKey]),{cachedAt:r})}constructor(r){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Tv),r);if(this.storageKey=u.storageKey,this.instanceID=(i=Gn.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Gn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new lv({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Jf(u.fetch),this.lock=u.lock||lf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&st()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=cv:this.lock=lf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Kf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=nf(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let i={},l="none";if(st()&&(i=Bg(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),st()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(i,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Og(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Z(i)?this._returnResult({error:i}):this._returnResult({error:new is("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,l,c;try{const u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=r==null?void 0:r.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=r==null?void 0:r.options)===null||c===void 0?void 0:c.captchaToken}},xform:Wt}),{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(u){if(Z(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var i,l,c;try{let u;if("email"in r){const{email:v,password:w,options:b}=r;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await zs(this.storage,this.storageKey)),u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:w,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:S,code_challenge_method:j},xform:Wt})}else if("phone"in r){const{phone:v,password:w,options:b}=r;u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},channel:(c=b==null?void 0:b.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Wt})}else throw new xa("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return await rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let i;if("email"in r){const{email:u,password:h,options:m}=r;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:rf})}else if("phone"in r){const{phone:u,password:h,options:m}=r;i=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:rf})}else throw new xa("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new $s;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(r){var i,l,c,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;switch(i){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(r){var i,l,c,u,h,m,p,x,v,w,b;let S,j;if("message"in r)S=r.message,j=r.signature;else{const{chain:k,wallet:N,statement:D,options:U}=r;let A;if(st())if(typeof N=="object")A=N;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")A=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const P=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href),B=await A.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=Yf(B[0]);let ae=(l=U==null?void 0:U.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!ae){const ee=await A.request({method:"eth_chainId"});ae=dv(ee)}const pe={domain:P.host,address:V,statement:D,uri:P.href,version:"1",chainId:ae,nonce:(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=U==null?void 0:U.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=U==null?void 0:U.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(x=U==null?void 0:U.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(v=U==null?void 0:U.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=fv(pe),j=await A.request({method:"personal_sign",params:[hv(S),V]})}try{const{data:k,error:N}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Wt});if(N)throw N;if(!k||!k.session||!k.user){const D=new $s;return this._returnResult({data:{user:null,session:null},error:D})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(Z(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(r){var i,l,c,u,h,m,p,x,v,w,b,S;let j,k;if("message"in r)j=r.message,k=r.signature;else{const{chain:N,wallet:D,statement:U,options:A}=r;let P;if(st())if(typeof D=="object")P=D;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))P=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=D}const B=new URL((i=A==null?void 0:A.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in P&&P.signIn){const V=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),U?{statement:U}:null));let ae;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")ae=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)ae=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)j=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),k=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${B.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(c=(l=A==null?void 0:A.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((m=A==null?void 0:A.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((x=A==null?void 0:A.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(v=A==null?void 0:A.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const V=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=V}}try{const{data:N,error:D}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:as(k)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Wt});if(D)throw D;if(!N||!N.session||!N.user){const U=new $s;return this._returnResult({data:{user:null,session:null},error:U})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:D})}catch(N){if(Z(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(r){const i=await rs(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Ag;const{data:u,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Wt});if(await rt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const m=new $s;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",u.session)},0)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:i,provider:l,token:c,access_token:u,nonce:h}=r,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Wt}),{data:p,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!p||!p.session||!p.user){const v=new $s;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:x})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(r){var i,l,c,u,h;try{if("email"in r){const{email:m,options:p}=r;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await zs(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:m,options:p}=r,{data:x,error:v}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:v})}throw new xa("You must provide either an email or phone number.")}catch(m){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var i,l;try{let c,u;"options"in r&&(c=(i=r.options)===null||i===void 0?void 0:i.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Wt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,x=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(c){if(Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(r){var i,l,c,u,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await zs(this.storage,this.storageKey));const x=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=r==null?void 0:r.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:nv});return!((u=x.data)===null||u===void 0)&&u.url&&st()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:l}=r;if(l)throw l;if(!i)throw new kt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:l,type:c,options:u}=r,{error:h}=await se(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:l,type:c,options:u}=r,{data:h,error:m}=await se(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new xa("You must provide either an email or phone number and a type")}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const h=await rs(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Bo()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=ev(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(r){try{return r?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:$r}):await this._useSession(async i=>{var l,c,u;const{data:h,error:m}=i;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:$r})})}catch(i){if(Z(i))return Rg(i)&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new kt;const h=c.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await zs(this.storage,this.storageKey));const{data:x,error:v}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:$r});if(v)throw v;return h.user=x.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new kt;const i=Date.now()/1e3;let l=i,c=!0,u=null;const{payload:h}=Mo(r.access_token);if(h.exp&&(l=h.exp,c=l<=i),c){const{data:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(Z(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var l;if(!r){const{data:h,error:m}=i;if(m)throw m;r=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new kt;const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(r,i){try{if(!st())throw new ga("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ga(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Gh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Gh("No code detected.");const{data:U,error:A}=await this._exchangeCodeForSession(r.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:x}=r;if(!u||!m||!h||!x)throw new ga("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let b=v+w;p&&(b=parseInt(p));const S=b-v;S*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const j=b-w;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,v);const{data:k,error:N}=await this._getUser(u);if(N)throw N;const D={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:w,expires_at:b,refresh_token:h,token_type:x,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:r.type},error:null})}catch(l){if(Z(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:u}=i;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(Pg(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const i=Mg(),l={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async i=>{var l,c;try{const{data:{session:u},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(r))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await zs(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var i;try{const{data:l,error:c}=await this._useSession(async u=>{var h,m,p,x,v;const{data:w,error:b}=u;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return st()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:r.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(Z(l))return this._returnResult({data:{provider:r.provider,url:null},error:l});throw l}}async linkIdentityIdToken(r){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:u}}=i;if(c)throw c;const{options:h,provider:m,token:p,access_token:x,nonce:v}=r,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u==null?void 0:u.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:x,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wt}),{data:b,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new $s}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(c){if(await rt(this.storage,`${this.storageKey}-code-verifier`),Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(r){try{return await this._useSession(async i=>{var l,c;const{data:u,error:h}=i;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Wg(async c=>(c>0&&await qg(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Wt})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Lo(u)&&Date.now()+h-l<qs})}catch(l){if(this._debug(i,"error",l),Z(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",l),st()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await rs(this.storage,this.storageKey);if(c&&this.userStorage){let h=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Ws(this.userStorage,this.storageKey+"-user",h)),c.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Bo()}else if(c&&!c.user&&!c.user){const h=await rs(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await rt(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,c)):c.user=Bo()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<zo;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${zo}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Lo(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var i,l;if(!r)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Oa;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new kt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),Z(u)){const h={data:null,error:u};return Lo(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(r,i,l=!0){const c=`#_notifyAllSubscribers(${r})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:i});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,i)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await rt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},r),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const u=ef(c);await Ws(this.storage,this.storageKey,u)}else{const c=ef(i);await Ws(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rt(this.storage,this.storageKey),await rt(this.storage,this.storageKey+"-code-verifier"),await rt(this.storage,this.storageKey+"-user"),this.userStorage&&await rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-r)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${qs}ms, refresh threshold is ${rc} ticks`),c<=rc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Gf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await zs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${c.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var l;const{data:c,error:u}=i;return u?this._returnResult({data:null,error:u}):await se(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(r){try{return await this._useSession(async i=>{var l,c;const{data:u,error:h}=i;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:x}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(r.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?wv(r.webauthn.credential_response):jv(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:p}=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:u}=i;if(u)return this._returnResult({data:null,error:u});const h=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:vv(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:yv(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(r){const{data:i,error:l}=await this._challenge({factorId:r.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){var r;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=i==null?void 0:i.factors)!==null&&r!==void 0?r:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var r,i;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Mo(l.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const x=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new kt})})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(r,i){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new kt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&st()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(r,i){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new kt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&st()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:i},error:l}=r;return l?this._returnResult({data:null,error:l}):i?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(i){if(Z(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(r,i={keys:[]}){let l=i.keys.find(m=>m.kid===r);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===r),l&&this.jwks_cached_at+Cg>c)return l;const{data:u,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(m=>m.kid===r),!l)?null:l}async getClaims(r,i={}){try{let l=r;if(!l){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});l=S.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:p}}=Mo(l);i!=null&&i.allowExpired||Qg(u.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!x){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:u,header:c,signature:h},error:null}}const v=Xg(c.alg),w=await crypto.subtle.importKey("jwk",x,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,zg(`${m}.${p}`)))throw new ic("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}}Gn.nextInstanceID={};const Pv=Gn,Rv="2.91.0";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const Ov={"X-Client-Info":`supabase-js-${Mn}/${Rv}`},Av={headers:Ov},Iv={schema:"public"},Dv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uv={};function Yn(s){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yn(s)}function $v(s,r){if(Yn(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,r);if(Yn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function zv(s){var r=$v(s,"string");return Yn(r)=="symbol"?r:r+""}function Lv(s,r,i){return(r=zv(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function of(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);r&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,l)}return i}function Le(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?of(Object(i),!0).forEach(function(l){Lv(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):of(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Mv=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Bv=()=>Headers,Fv=(s,r,i)=>{const l=Mv(i),c=Bv();return async(u,h)=>{var m;const p=(m=await r())!==null&&m!==void 0?m:s;let x=new c(h==null?void 0:h.headers);return x.has("apikey")||x.set("apikey",s),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),l(u,Le(Le({},h),{},{headers:x}))}};function qv(s){return s.endsWith("/")?s:s+"/"}function Wv(s,r){var i,l;const{db:c,auth:u,realtime:h,global:m}=s,{db:p,auth:x,realtime:v,global:w}=r,b={db:Le(Le({},p),c),auth:Le(Le({},x),u),realtime:Le(Le({},v),h),storage:{},global:Le(Le(Le({},w),m),{},{headers:Le(Le({},(i=w==null?void 0:w.headers)!==null&&i!==void 0?i:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?b.accessToken=s.accessToken:delete b.accessToken,b}function Vv(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hv=class extends Pv{constructor(s){super(s)}},Kv=class{constructor(s,r,i){var l,c;this.supabaseUrl=s,this.supabaseKey=r;const u=Vv(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Iv,realtime:Uv,auth:Le(Le({},Dv),{},{storageKey:h}),global:Av},p=Wv(i??{},m);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=p.auth)!==null&&x!==void 0?x:{},this.headers,p.global.fetch)}this.fetch=Fv(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new kx(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new _g(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new jx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,i)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(r=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:u,flowType:h,lock:m,debug:p,throwOnError:x},v,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hv({url:this.authUrl.href,headers:Le(Le({},b),v),storageKey:u,autoRefreshToken:s,persistSession:r,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:m,debug:p,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new qx(this.realtimeUrl.href,Le(Le({},s),{},{params:Le(Le({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Jv=(s,r,i)=>new Kv(s,r,i);function Gv(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Gv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yv="https://snnngysmaltnabucdpcn.supabase.co",Qv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A",fe=Jv(Yv,Qv),Xf=E.createContext(void 0);function Xv({children:s}){const[r,i]=E.useState(null),[l,c]=E.useState(null),[u,h]=E.useState(null),[m,p]=E.useState(!0),x=async k=>{const{data:N,error:D}=await fe.from("profiles").select("*").eq("id",k).maybeSingle();return D?(console.error("Error fetching profile:",D),null):N},v=async()=>{if(r){const k=await x(r.id);c(k)}};E.useEffect(()=>{fe.auth.getSession().then(({data:{session:N}})=>{h(N),i((N==null?void 0:N.user)??null),N!=null&&N.user&&x(N.user.id).then(c),p(!1)});const{data:{subscription:k}}=fe.auth.onAuthStateChange((N,D)=>{h(D),i((D==null?void 0:D.user)??null),D!=null&&D.user?x(D.user.id).then(c):c(null)});return()=>k.unsubscribe()},[]);const w=async(k,N,D,U)=>{const{data:A,error:P}=await fe.auth.signUp({email:k,password:N,options:{data:{full_name:D}}});if(!P&&A.user&&U){const B={starter:{min:100,max:1e3},smart:{min:1e3,max:1e4},wealth:{min:1e4,max:1e5},elite:{min:1e5,max:1e6}}[U]||{min:100,max:1e3};await fe.from("profiles").update({investment_plan:U,plan_min_amount:B.min,plan_max_amount:B.max}).eq("id",A.user.id)}return{error:P}},b=async(k,N)=>{const{error:D}=await fe.auth.signInWithPassword({email:k,password:N});return{error:D}},S=async()=>{await fe.auth.signOut(),c(null)},j=async k=>{const{error:N}=await fe.auth.resetPasswordForEmail(k,{redirectTo:`${window.location.origin}/reset-password`});return{error:N}};return n.jsx(Xf.Provider,{value:{user:r,profile:l,session:u,loading:m,signUp:w,signIn:b,signOut:S,resetPassword:j,refreshProfile:v},children:s})}function Ye(){const s=E.useContext(Xf);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zf=(...s)=>s.filter((r,i,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ey={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=E.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:h,...m},p)=>E.createElement("svg",{ref:p,...ey,width:r,height:r,stroke:s,strokeWidth:l?Number(i)*24/Number(r):i,className:Zf("lucide",c),...m},[...h.map(([x,v])=>E.createElement(x,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(s,r)=>{const i=E.forwardRef(({className:l,...c},u)=>E.createElement(ty,{ref:u,iconNode:r,className:Zf(`lucide-${Zv(s)}`,l),...c}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=le("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=le("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=le("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=le("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ce({children:s,variant:r="primary",size:i="md",loading:l=!1,fullWidth:c=!1,className:u="",disabled:h,...m}){const p="inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950",x={primary:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-600/30 hover:shadow-blue-500/40 focus:ring-blue-500",secondary:"bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white shadow-lg shadow-slate-700/25 focus:ring-slate-500",outline:"border-2 border-slate-600 text-slate-300 hover:border-blue-500 hover:text-blue-400 hover:bg-blue-500/5 focus:ring-blue-500",ghost:"text-slate-400 hover:text-white hover:bg-slate-800/50 focus:ring-slate-500",danger:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-600/30 focus:ring-red-500"},v={sm:"px-4 py-2 text-sm gap-2",md:"px-6 py-3 text-base gap-2",lg:"px-8 py-4 text-lg gap-3"};return n.jsxs("button",{className:`${p} ${x[r]} ${v[i]} ${c?"w-full":""} ${h||l?"opacity-50 cursor-not-allowed":""} ${u}`,disabled:h||l,...m,children:[l&&n.jsx(cy,{size:i==="sm"?16:i==="md"?20:24,className:"animate-spin"}),s]})}function py({end:s,duration:r=2e3,decimals:i=0,prefix:l="",suffix:c=""}){const[u,h]=E.useState(0),[m,p]=E.useState(!1),x=E.useRef(null),v=E.useRef(!1);return E.useEffect(()=>{const b=new IntersectionObserver(S=>{S.forEach(j=>{j.isIntersecting&&!v.current&&(p(!0),v.current=!0)})},{threshold:.3});return x.current&&b.observe(x.current),()=>{x.current&&b.unobserve(x.current)}},[]),E.useEffect(()=>{if(!m)return;const b=Date.now(),S=b+r,j=()=>{const k=Date.now(),N=Math.min((k-b)/r,1),U=s*(A=>A*(2-A))(N);h(U),k<S?requestAnimationFrame(j):h(s)};requestAnimationFrame(j)},[m,s,r]),{value:`${l}${u.toFixed(i)}${c}`,ref:x,isVisible:m}}function va({threshold:s=.1,delay:r=0}={}){const[i,l]=E.useState(!1),c=E.useRef(null);return E.useEffect(()=>{const u=new IntersectionObserver(h=>{h.forEach(m=>{m.isIntersecting&&setTimeout(()=>{l(!0)},r)})},{threshold:s});return c.current&&u.observe(c.current),()=>{c.current&&u.unobserve(c.current)}},[s,r]),{ref:c,isVisible:i}}const xy=[{icon:Sa,title:"Portfolio Tracking",description:"Monitor your investment performance with real-time portfolio analytics and comprehensive ROI tracking."},{icon:cs,title:"Secure Platform",description:"Your account information is protected with industry-standard security measures and encryption."},{icon:hr,title:"Easy Transactions",description:"Submit deposit and withdrawal requests seamlessly through our intuitive interface."},{icon:ti,title:"Dedicated Support",description:"Our team of investment professionals is available to assist with your account needs."}],gy=[{end:50,prefix:"$",suffix:"M+",label:"Assets Under Management",decimals:0},{end:1e4,prefix:"",suffix:"+",label:"Active Investors",decimals:0},{end:99.9,prefix:"",suffix:"%",label:"Platform Uptime",decimals:1},{end:24,prefix:"",suffix:"/7",label:"Customer Support",decimals:0}],hf=[{step:"01",title:"Create Account",description:"Register with your email and complete the verification process to get started."},{step:"02",title:"Submit Deposit",description:"Request a deposit to fund your investment account through our secure platform."},{step:"03",title:"Track Performance",description:"Monitor your portfolio growth and investment returns through your personalized dashboard."}];function vy({end:s,prefix:r,suffix:i,label:l,decimals:c}){const{value:u,ref:h,isVisible:m}=py({end:s,prefix:r,suffix:i,decimals:c,duration:2500});return n.jsxs("div",{ref:h,className:"text-center group",children:[n.jsx("div",{className:`text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-br from-blue-400 to-blue-600 bg-clip-text text-transparent mb-2 transition-all duration-700 ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:u}),n.jsx("div",{className:`text-slate-300 text-sm sm:text-base font-medium transition-all duration-700 delay-100 ${m?"opacity-100":"opacity-0"}`,children:l})]})}function yy(){const s=va({threshold:.2}),r=va({threshold:.1}),i=va({threshold:.1}),l=va({threshold:.1});return n.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-slate-800/50 shadow-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[n.jsxs(be,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(dt,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold text-white block",children:"Prime Blocks"}),n.jsx("span",{className:"text-xs text-slate-400 hidden sm:block",children:"Investments"})]})]}),n.jsx("div",{className:"flex items-center gap-3 md:gap-4",children:n.jsx(be,{to:"/login",children:n.jsx(ce,{variant:"ghost",size:"sm",children:"Sign In"})})})]})})}),n.jsxs("section",{className:"relative pt-32 lg:pt-40 pb-20 px-4 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900/95 to-slate-950 z-10"}),n.jsx("img",{src:"https://images.pexels.com/photos/534216/pexels-photo-534216.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-20"}),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-900/20 via-transparent to-transparent z-10"})]}),n.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:n.jsxs("div",{ref:s.ref,className:"text-center max-w-4xl mx-auto",children:[n.jsxs("div",{className:`inline-flex items-center gap-2 px-5 py-2.5 bg-blue-500/10 border border-blue-500/30 rounded-full text-blue-400 text-sm mb-8 backdrop-blur-sm shadow-lg transition-all duration-700 ${s.isVisible?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:[n.jsx(ry,{size:16}),n.jsx("span",{className:"font-medium",children:"Trusted Investment Platform"})]}),n.jsxs("h1",{className:`text-4xl sm:text-5xl lg:text-7xl font-bold text-white leading-tight mb-6 transition-all duration-700 delay-100 ${s.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:["Professional Investment",n.jsx("span",{className:"block bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Management Dashboard"})]}),n.jsx("p",{className:`text-lg sm:text-xl text-slate-300 mb-10 max-w-2xl mx-auto leading-relaxed transition-all duration-700 delay-200 ${s.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Track your portfolio performance, manage transactions, and monitor your investments all in one secure, professional platform."}),n.jsx("div",{className:`flex flex-col sm:flex-row items-center justify-center gap-4 transition-all duration-700 delay-300 ${s.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:n.jsx(be,{to:"/investment-plans",children:n.jsxs(ce,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Start Investment",n.jsx(Xn,{size:20})]})})})]})})]}),n.jsxs("section",{className:"relative py-16 px-4 border-y border-slate-800/50 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-950/90 z-10"}),n.jsx("img",{src:"https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),n.jsx("div",{className:"max-w-7xl mx-auto relative z-20",children:n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:gy.map(c=>n.jsx(vy,{...c},c.label))})})]}),n.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900/95 to-slate-950 z-10"}),n.jsx("img",{src:"https://images.pexels.com/photos/187041/pexels-photo-187041.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[n.jsxs("div",{ref:r.ref,className:`text-center mb-16 transition-all duration-700 ${r.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Why Choose Prime Blocks"}),n.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Our platform provides everything you need to track and manage your investments effectively."})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:xy.map((c,u)=>n.jsxs("div",{className:`p-6 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl hover:border-blue-500/50 hover:bg-slate-800/80 transition-all duration-700 group shadow-xl hover:shadow-2xl hover:shadow-blue-500/10 ${r.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${u*100}ms`},children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-blue-500/30 transition-all",children:n.jsx(c.icon,{className:"text-blue-400",size:24})}),n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:c.title}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:c.description})]},c.title))})]})]}),n.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-950/95 z-10"}),n.jsx("img",{src:"https://images.pexels.com/photos/6801647/pexels-photo-6801647.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-5"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto relative z-20",children:[n.jsxs("div",{ref:i.ref,className:`text-center mb-16 transition-all duration-700 ${i.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[n.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"How It Works"}),n.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Get started with Prime Blocks in three simple steps."})]}),n.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:hf.map((c,u)=>n.jsxs("div",{className:"relative",children:[u<hf.length-1&&n.jsx("div",{className:"hidden lg:block absolute top-12 left-1/2 w-full h-0.5 bg-gradient-to-r from-blue-500/50 to-transparent z-0"}),n.jsxs("div",{className:`relative z-10 p-8 bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl text-center hover:border-blue-500/50 transition-all duration-700 hover:shadow-2xl hover:shadow-blue-500/10 group ${i.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${u*150}ms`},children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30 group-hover:scale-110 transition-transform",children:n.jsx("span",{className:"text-2xl font-bold text-white",children:c.step})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:c.title}),n.jsx("p",{className:"text-slate-400 leading-relaxed",children:c.description})]})]},c.step))})]})]}),n.jsxs("section",{className:"relative py-20 lg:py-32 px-4 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-blue-950/20 to-slate-950 z-10"}),n.jsx("img",{src:"https://images.pexels.com/photos/7413915/pexels-photo-7413915.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Background",className:"w-full h-full object-cover opacity-10"})]}),n.jsxs("div",{ref:l.ref,className:"max-w-4xl mx-auto text-center relative z-20",children:[n.jsx("h2",{className:`text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 transition-all duration-700 ${l.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Ready to Get Started?"}),n.jsx("p",{className:`text-slate-300 text-lg mb-10 max-w-2xl mx-auto transition-all duration-700 delay-100 ${l.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:"Join thousands of investors tracking their portfolio performance with Prime Blocks."}),n.jsx("div",{className:`flex flex-col sm:flex-row items-center justify-center gap-4 transition-all duration-700 delay-200 ${l.isVisible?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:n.jsx(be,{to:"/register",children:n.jsxs(ce,{size:"lg",className:"shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/40",children:["Create Your Account",n.jsx(Xn,{size:20})]})})}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-4 md:gap-6 text-sm text-slate-300",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:16,className:"text-emerald-400"}),"Free to register"]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:16,className:"text-emerald-400"}),"No hidden fees"]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:16,className:"text-emerald-400"}),"Secure platform"]})]})]})]}),n.jsx("footer",{className:"py-12 px-4 border-t border-slate-800/50 bg-slate-950/80 backdrop-blur-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(dt,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-lg font-bold text-white block",children:"Prime Blocks"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Investments"})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[n.jsx(be,{to:"/privacy-policy",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),n.jsx(be,{to:"/terms-conditions",className:"hover:text-blue-400 transition-colors",children:"Terms & Conditions"}),n.jsx(be,{to:"/support",className:"hover:text-blue-400 transition-colors",children:"Contact"})]})]}),n.jsx("div",{className:"mt-8 pt-8 border-t border-slate-800/50 text-center text-sm text-slate-500",children:n.jsx("p",{className:"text-slate-400",children:"2026 Prime Blocks Investments. All rights reserved."})})]})})]})}const wy=[{id:"starter",name:"Starter Growth Plan",icon:cs,investmentRange:"$100+",minAmount:100,maxAmount:1e3,summary:"Perfect for beginners entering the crypto investment world",description:"Start your wealth-building journey with our safeguarded entry plan. Designed for newcomers, this plan offers steady growth with minimal risk exposure.",expectedReturns:"15-25% ROI",monthlyReturns:"5-8% monthly",features:["Diversified portfolio across top 10 cryptocurrencies","Conservative trading with capital protection","Weekly performance reports & market insights","Educational resources & investment guidance","24/7 customer support","No upper deposit limit - grow at your pace"],target:"Build wealth steadily with low risk",color:"from-blue-500 to-cyan-500",badge:"Best for Beginners"},{id:"smart",name:"Smart Builder Plan",icon:dt,investmentRange:"$1,000+",minAmount:1e3,maxAmount:1e4,summary:"Accelerated growth with balanced risk management",description:"Take your portfolio to the next level with professional trading strategies designed to maximize returns while maintaining stability.",expectedReturns:"35-50% ROI",monthlyReturns:"10-15% monthly",features:["Advanced multi-strategy trading approach","Access to emerging altcoins & DeFi projects","Flexible weekly withdrawal options","Dedicated portfolio manager","Priority support & exclusive market updates","Unlimited deposit capacity"],target:"Consistent high returns with managed risk",color:"from-primary-500 to-accent-500",badge:"Most Popular"},{id:"wealth",name:"Wealth Accelerator Plan",icon:Nc,investmentRange:"$10,000+",minAmount:1e4,maxAmount:1e5,summary:"Aggressive growth for serious wealth accumulation",description:"Experience institutional-grade trading with aggressive strategies targeting maximum profit. Your dedicated account manager ensures personalized attention.",expectedReturns:"60-85% ROI",monthlyReturns:"18-25% monthly",features:["Aggressive multi-asset trading strategies","Premium DeFi & high-potential altcoin exposure","Personal account manager with direct line","Real-time portfolio monitoring & daily updates","Express withdrawal processing (24-48hrs)","No maximum deposit restrictions"],target:"Maximum returns for experienced investors",color:"from-orange-500 to-red-500",badge:"High Performance"},{id:"elite",name:"Elite Crypto Fund Plan",icon:jc,investmentRange:"$100,000+",minAmount:1e5,maxAmount:1e6,summary:"Institutional-grade wealth management & exclusive opportunities",description:"Join the elite tier with fully customized investment strategies, AI-powered trading, and access to exclusive opportunities unavailable to regular investors.",expectedReturns:"100-150% ROI",monthlyReturns:"25-40% monthly",features:["Fully personalized investment strategy","AI-powered algorithmic trading & hedge protection","Personal financial advisor & wealth strategist","Priority withdrawals & instant liquidity","Exclusive pre-sale & private investment access","Unlimited investment capacity - scale infinitely"],target:"Elite wealth creation with maximum flexibility",color:"from-purple-500 to-pink-500",badge:"VIP Exclusive"}];function jy(){const s=mr(),[r,i]=E.useState(null),l=c=>{sessionStorage.setItem("selectedPlan",c),s("/register")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary-500/20 to-accent-500/20 border border-primary-500/30 rounded-full mb-6",children:[n.jsx(fy,{className:"text-primary-400",size:18}),n.jsx("span",{className:"text-primary-400 font-semibold text-sm",children:"Trusted by 10,000+ Investors Worldwide"})]}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-white mb-4",children:"Choose Your Path to Financial Freedom"}),n.jsx("p",{className:"text-lg text-slate-400 max-w-2xl mx-auto mb-4",children:"All plans feature professional crypto trading, secure asset management, and proven strategies to grow your wealth. Start with any amount and scale unlimited."}),n.jsxs("p",{className:"text-emerald-400 font-semibold text-xl",children:[n.jsx(dt,{className:"inline mr-2",size:24}),"Average Returns: 35-150% Annual ROI"]})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:wy.map(c=>{const u=c.icon;return n.jsxs("div",{className:`relative bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 hover:border-primary-500/50 hover:shadow-2xl hover:shadow-primary-500/10 transition-all duration-300 ${r===c.id?"ring-2 ring-primary-500":""}`,children:[c.badge&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsx("span",{className:"px-4 py-1 bg-gradient-to-r from-primary-500 to-accent-500 text-white text-xs font-bold rounded-full shadow-lg",children:c.badge})}),n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsx("div",{className:`p-4 bg-gradient-to-br ${c.color} rounded-xl shadow-lg`,children:n.jsx(u,{className:"text-white",size:32})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Starting From"}),n.jsx("p",{className:"text-xl font-bold text-white",children:c.investmentRange})]})]}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:c.name}),n.jsx("p",{className:"text-primary-400 font-semibold mb-3",children:c.summary}),n.jsx("p",{className:"text-slate-400 text-sm mb-6",children:c.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 border border-emerald-500/20 rounded-xl p-4",children:[n.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Expected Returns"}),n.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:c.expectedReturns})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20 rounded-xl p-4",children:[n.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Monthly Avg"}),n.jsx("p",{className:"text-blue-400 font-bold text-lg",children:c.monthlyReturns})]})]}),n.jsx("div",{className:"space-y-3 mb-6",children:c.features.map((h,m)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(sy,{className:"text-emerald-400 flex-shrink-0 mt-1",size:18}),n.jsx("span",{className:"text-slate-300 text-sm",children:h})]},m))}),n.jsxs("div",{className:"bg-gradient-to-r from-slate-900/80 to-slate-900/60 rounded-xl p-4 mb-6 border border-slate-700/50",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Goal"}),n.jsx("p",{className:"text-white font-semibold",children:c.target})]}),n.jsxs(ce,{fullWidth:!0,onClick:()=>l(c.id),className:"bg-gradient-to-r from-primary-500 to-accent-500 hover:from-primary-600 hover:to-accent-600 shadow-lg shadow-primary-500/20",children:["Start Earning with ",c.name.split(" ")[0]]})]},c.id)})}),n.jsx("div",{className:"text-center mt-12",children:n.jsxs("p",{className:"text-slate-400",children:["Already have an account?"," ",n.jsx("button",{onClick:()=>s("/login"),className:"text-primary-400 hover:text-primary-300 font-semibold",children:"Sign in"})]})})]})})}const Ge=E.forwardRef(({label:s,error:r,helpText:i,className:l="",...c},u)=>n.jsxs("div",{className:"space-y-2",children:[s&&n.jsx("label",{className:"block text-sm font-medium text-slate-300",children:s}),n.jsx("input",{ref:u,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${l}`,...c}),i&&!r&&n.jsx("p",{className:"text-sm text-slate-500",children:i}),r&&n.jsx("p",{className:"text-sm text-red-400",children:r})]}));Ge.displayName="Input";function by(){const s=mr(),{signIn:r}=Ye(),[i,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(""),[p,x]=E.useState(!1),v=async w=>{w.preventDefault(),m(""),x(!0);const{error:b}=await r(i,c);b?(m(b.message),x(!1)):s("/dashboard")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs(be,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:n.jsx(dt,{className:"text-white",size:24})}),n.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),n.jsx("p",{className:"text-slate-400",children:"Sign in to access your investment dashboard"})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[h&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:h})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsx(Ge,{label:"Email Address",type:"email",value:i,onChange:w=>l(w.target.value),placeholder:"you@example.com",required:!0}),n.jsx(Ge,{label:"Password",type:"password",value:c,onChange:w=>u(w.target.value),placeholder:"Enter your password",required:!0}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{htmlFor:"remember-me",className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{id:"remember-me",type:"checkbox",className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),n.jsx("span",{className:"text-sm text-slate-400",children:"Remember me"})]}),n.jsx(be,{to:"/forgot-password",className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:"Forgot password?"})]}),n.jsx(ce,{type:"submit",fullWidth:!0,loading:p,children:"Sign In"})]}),n.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Don't have an account?"," ",n.jsx(be,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Create one"})]})]}),n.jsx("p",{className:"mt-8 text-center text-sm text-slate-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})})}const ya={starter:{name:"Starter Growth Plan",range:"$100  $1,000",icon:cs},smart:{name:"Smart Builder Plan",range:"$1,000  $10,000",icon:dt},wealth:{name:"Wealth Accelerator Plan",range:"$10,000  $100,000",icon:Nc},elite:{name:"Elite Crypto Fund Plan",range:"$100,000  $1,000,000",icon:jc}};function _y(){const s=mr(),{signUp:r}=Ye(),[i,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(""),[p,x]=E.useState(""),[v,w]=E.useState(""),[b,S]=E.useState(!1),[j,k]=E.useState(!1),[N,D]=E.useState(null);E.useEffect(()=>{const A=sessionStorage.getItem("selectedPlan");A?D(A):s("/investment-plans")},[s]);const U=async A=>{if(A.preventDefault(),w(""),h!==p){w("Passwords do not match");return}if(h.length<8){w("Password must be at least 8 characters");return}const P=/[A-Z]/.test(h),B=/[a-z]/.test(h),V=/[0-9]/.test(h),ae=/[!@#$%^&*(),.?":{}|<>]/.test(h);if(!P||!B||!V||!ae){w("Password must contain uppercase, lowercase, number, and special character");return}S(!0);const{error:pe}=await r(c,h,i,N||void 0);pe?(w(pe.message),S(!1)):(k(!0),sessionStorage.removeItem("selectedPlan"),setTimeout(()=>s("/dashboard"),1500))};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs(be,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:n.jsx(dt,{className:"text-white",size:24})}),n.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),n.jsx("p",{className:"text-slate-400",children:"Join Prime Blocks Investments today"})]}),N&&ya[N]&&n.jsx("div",{className:"bg-primary-500/10 border border-primary-500/30 rounded-2xl p-4 mb-6 backdrop-blur-sm",children:n.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{const A=ya[N].icon;return n.jsx(A,{className:"text-primary-400",size:24})})(),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Selected Plan"}),n.jsx("p",{className:"text-white font-semibold",children:ya[N].name}),n.jsx("p",{className:"text-sm text-primary-400",children:ya[N].range})]})]})}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[v&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:v})]}),j&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[n.jsx(Re,{size:20}),n.jsx("span",{children:"Account created successfully! Redirecting..."})]}),n.jsxs("form",{onSubmit:U,className:"space-y-6",children:[n.jsx(Ge,{label:"Full Name",type:"text",value:i,onChange:A=>l(A.target.value),placeholder:"John Doe",required:!0}),n.jsx(Ge,{label:"Email Address",type:"email",value:c,onChange:A=>u(A.target.value),placeholder:"you@example.com",required:!0}),n.jsx(Ge,{label:"Password",type:"password",value:h,onChange:A=>m(A.target.value),placeholder:"Create a password",helpText:"Must be at least 6 characters",required:!0}),n.jsx(Ge,{label:"Confirm Password",type:"password",value:p,onChange:A=>x(A.target.value),placeholder:"Confirm your password",required:!0}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-4 h-4 rounded border-slate-600 bg-slate-700 text-primary-500 focus:ring-primary-500 focus:ring-offset-slate-900"}),n.jsxs("span",{className:"text-sm text-slate-400",children:["I agree to the"," ",n.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})]}),n.jsx(ce,{type:"submit",fullWidth:!0,loading:b,children:"Create Account"})]}),n.jsxs("p",{className:"mt-6 text-center text-slate-400",children:["Already have an account?"," ",n.jsx(be,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium transition-colors",children:"Sign in"})]})]})]})})}function Ny(){const{resetPassword:s}=Ye(),[r,i]=E.useState(""),[l,c]=E.useState(""),[u,h]=E.useState(!1),[m,p]=E.useState(!1),x=async v=>{v.preventDefault(),c(""),h(!0);const{error:w}=await s(r);w?c(w.message):p(!0),h(!1)};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs(be,{to:"/",className:"inline-flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-accent-600 rounded-xl flex items-center justify-center",children:n.jsx(dt,{className:"text-white",size:24})}),n.jsx("span",{className:"text-2xl font-bold text-white",children:"Prime Blocks"})]}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Reset Password"}),n.jsx("p",{className:"text-slate-400",children:"Enter your email to receive a reset link"})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[l&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:l})]}),m?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Re,{className:"text-emerald-400",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Check your email"}),n.jsxs("p",{className:"text-slate-400 mb-6",children:["We've sent a password reset link to ",n.jsx("strong",{className:"text-white",children:r})]}),n.jsx(be,{to:"/login",children:n.jsxs(ce,{variant:"outline",fullWidth:!0,children:[n.jsx(ls,{size:20}),"Back to Sign In"]})})]}):n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsx(Ge,{label:"Email Address",type:"email",value:r,onChange:v=>i(v.target.value),placeholder:"you@example.com",required:!0}),n.jsx(ce,{type:"submit",fullWidth:!0,loading:u,children:"Send Reset Link"}),n.jsxs(be,{to:"/login",className:"flex items-center justify-center gap-2 text-slate-400 hover:text-white transition-colors",children:[n.jsx(ls,{size:20}),"Back to Sign In"]})]})]})]})})}function nm(){const{user:s}=Ye(),[r,i]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState(null),m=E.useCallback(async()=>{if(!s)return;c(!0);const{data:p,error:x}=await fe.from("transactions").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});x?h(x.message):i(p||[]),c(!1)},[s]);return E.useEffect(()=>{m()},[m]),{transactions:r,loading:l,error:u,refetch:m}}function im(){const{user:s}=Ye(),[r,i]=E.useState([]),[l,c]=E.useState(null),[u,h]=E.useState(!0),[m,p]=E.useState(null),x=E.useCallback(async()=>{if(!s)return;h(!0);const{data:v,error:w}=await fe.from("portfolio_performance").select("*").eq("user_id",s.id).order("date",{ascending:!1}).limit(30);w?p(w.message):(i(v||[]),c((v==null?void 0:v[0])||null)),h(!1)},[s]);return E.useEffect(()=>{x()},[x]),{performance:r,latestPerformance:l,loading:u,error:m,refetch:x}}function Sc(){const{user:s}=Ye(),[r,i]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState(null),m=E.useCallback(async()=>{if(!s)return;c(!0);const{data:x,error:v}=await fe.from("deposit_requests").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});v?h(v.message):i(x||[]),c(!1)},[s]),p=async(x,v,w,b)=>{if(!s)return{error:new Error("Not authenticated")};const{error:S}=await fe.from("deposit_requests").insert({user_id:s.id,amount:x,payment_method:v,reference_number:w,notes:b});if(!S){await m();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-deposit-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:s.id,amount:x,paymentMethod:v,referenceNumber:w,notes:b})})}catch(j){console.error("Failed to send notification:",j)}}return{error:S}};return E.useEffect(()=>{m()},[m]),{requests:r,loading:l,error:u,createRequest:p,refetch:m}}function kc(){const{user:s}=Ye(),[r,i]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState(null),m=E.useCallback(async()=>{if(!s)return;c(!0);const{data:x,error:v}=await fe.from("withdrawal_requests").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});v?h(v.message):i(x||[]),c(!1)},[s]),p=async(x,v,w,b)=>{if(!s)return{error:new Error("Not authenticated")};const{error:S}=await fe.from("withdrawal_requests").insert({user_id:s.id,amount:x,withdrawal_method:v,account_details:w,notes:b});if(!S){await m();try{await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/notify-withdrawal-request",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({userId:s.id,amount:x,withdrawalMethod:v,accountDetails:w,notes:b})})}catch(j){console.error("Failed to send notification:",j)}}return{error:S}};return E.useEffect(()=>{m()},[m]),{requests:r,loading:l,error:u,createRequest:p,refetch:m}}function am(){const{user:s}=Ye(),[r,i]=E.useState(null),[l,c]=E.useState(!0),[u,h]=E.useState(null),m=E.useCallback(async()=>{if(!s)return;c(!0);const{data:x,error:v}=await fe.from("kyc_verifications").select("*").eq("user_id",s.id).maybeSingle();v?h(v.message):i(x),c(!1)},[s]),p=async(x,v,w,b)=>{if(!s)return{error:new Error("Not authenticated")};const{data:S,error:j}=await fe.from("kyc_verifications").upsert({user_id:s.id,full_name:x,id_type:v,id_number:w,id_image_url:b||null,status:"under_review",submitted_at:new Date().toISOString()},{onConflict:"user_id"}).select().maybeSingle();return j||await m(),{data:S,error:j}};return E.useEffect(()=>{m()},[m]),{kyc:r,loading:l,error:u,submitKyc:p,refetch:m}}const ff=[{path:"/dashboard",label:"Dashboard",icon:oy},{path:"/account",label:"Account Summary",icon:Kt},{path:"/transactions",label:"Transactions",icon:os},{path:"/deposit",label:"Deposit",icon:ur},{path:"/withdraw",label:"Withdraw",icon:dr},{path:"/market",label:"Market Overview",icon:Sa},{path:"/kyc",label:"Verify Identity",icon:ei},{path:"/support",label:"Support & Contact",icon:Ea}],Sy=[{path:"/admin",label:"Admin Panel",icon:hy},{path:"/admin/users",label:"Manage Users",icon:ti}];function ht({children:s}){const{profile:r,signOut:i}=Ye(),l=Br(),c=mr(),[u,h]=E.useState(!1),m=async()=>{await i(),c("/")},p=r!=null&&r.is_admin?[...ff,...Sy]:ff;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[n.jsx("button",{onClick:()=>h(!u),className:"lg:hidden fixed top-3 left-3 z-50 p-2 bg-slate-800/90 backdrop-blur-sm rounded-lg text-white shadow-lg border border-slate-700/50","aria-label":u?"Close menu":"Open menu",children:u?n.jsx(_c,{size:20}):n.jsx(dy,{size:20})}),n.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800/50 shadow-2xl transform transition-transform duration-300 lg:translate-x-0 ${u?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-6 border-b border-slate-800/50",children:n.jsxs(be,{to:"/dashboard",className:"flex items-center gap-3 group",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:shadow-blue-500/40 transition-all",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"PB"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-white font-semibold text-lg",children:"Prime Blocks"}),n.jsx("p",{className:"text-slate-400 text-xs",children:"Investments"})]})]})}),n.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:p.map(x=>{const v=l.pathname===x.path,w=x.icon;return n.jsxs(be,{to:x.path,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${v?"bg-gradient-to-r from-blue-600/20 to-blue-500/20 text-white border border-blue-500/30 shadow-lg shadow-blue-500/10":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[n.jsx(w,{size:20,className:v?"text-blue-400":""}),n.jsx("span",{className:"font-medium",children:x.label}),v&&n.jsx(tm,{size:16,className:"ml-auto text-blue-400"})]},x.path)})}),n.jsxs("div",{className:"p-4 border-t border-slate-800/50",children:[n.jsxs("div",{className:"p-4 bg-slate-800/60 backdrop-blur-sm rounded-xl mb-4 border border-slate-700/30 shadow-lg",children:[n.jsx("p",{className:"text-slate-400 text-sm",children:"Logged in as"}),n.jsx("p",{className:"text-white font-medium truncate",children:(r==null?void 0:r.full_name)||(r==null?void 0:r.email)}),(r==null?void 0:r.is_admin)&&n.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-600/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Administrator"})]}),n.jsxs("button",{onClick:m,className:"flex items-center gap-3 w-full px-4 py-3 text-slate-400 hover:text-white hover:bg-red-500/10 hover:border-red-500/30 rounded-xl transition-all duration-200 border border-transparent",children:[n.jsx(uy,{size:20}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>h(!1)}),n.jsx("main",{className:"lg:ml-64 min-h-screen",children:n.jsx("div",{className:"pt-16 px-3 pb-4 md:pt-6 md:px-6 md:pb-6 lg:p-8",children:s})})]})}function Y({children:s,className:r="",hover:i=!1}){return n.jsx("div",{className:`bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 rounded-2xl shadow-xl ${i?"card-hover":""} ${r}`,children:s})}function _e({children:s,className:r=""}){return n.jsx("div",{className:`p-6 border-b border-slate-700/50 ${r}`,children:s})}function Q({children:s,className:r=""}){return n.jsx("div",{className:`p-6 ${r}`,children:s})}function us({status:s}){const r={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"},i={pending:"Pending",approved:"Approved",rejected:"Rejected"};return n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${r[s]}`,children:i[s]})}const zn={starter:{name:"Starter Growth Plan",range:"$100+",expectedReturns:"15-25% ROI",icon:cs},smart:{name:"Smart Builder Plan",range:"$1,000+",expectedReturns:"35-50% ROI",icon:dt},wealth:{name:"Wealth Accelerator Plan",range:"$10,000+",expectedReturns:"60-85% ROI",icon:Nc},elite:{name:"Elite Crypto Fund Plan",range:"$100,000+",expectedReturns:"100-150% ROI",icon:jc}};function Ln(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function mf(s){return`${s>=0?"+":""}${s.toFixed(2)}%`}function ky(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Ey(){const{profile:s}=Ye(),{transactions:r}=nm(),{latestPerformance:i}=im(),{requests:l}=Sc(),{requests:c}=kc(),{kyc:u}=am(),h=l.filter(k=>k.status==="pending").length,m=c.filter(k=>k.status==="pending").length,p=r.slice(0,5),v=(()=>{if(!u)return{label:"Not Verified",color:"text-slate-400",bg:"bg-slate-500/20",icon:df};switch(u.status){case"verified":return{label:"Verified",color:"text-emerald-400",bg:"bg-emerald-500/20",icon:ei};case"under_review":return{label:"Under Review",color:"text-yellow-400",bg:"bg-yellow-500/20",icon:hr};case"rejected":return{label:"Rejected",color:"text-red-400",bg:"bg-red-500/20",icon:uf};default:return{label:"Not Verified",color:"text-slate-400",bg:"bg-slate-500/20",icon:df}}})(),w=(s==null?void 0:s.balance)||0,b=(s==null?void 0:s.total_deposits)||0,S=(s==null?void 0:s.total_profits)||0,j=(s==null?void 0:s.total_roi_percent)??0;return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:["Welcome back, ",(s==null?void 0:s.full_name)||"Investor"]}),n.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"Here's an overview of your investment portfolio."})]}),(s==null?void 0:s.investment_plan)&&zn[s.investment_plan]&&n.jsx(Y,{className:"mb-6 bg-gradient-to-r from-primary-500/10 to-accent-500/10 border-primary-500/30",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[(()=>{const k=zn[s.investment_plan].icon;return n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:n.jsx(k,{className:"text-primary-400",size:24})})})(),n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Your Investment Plan"}),n.jsx("p",{className:"text-lg font-bold text-white",children:zn[s.investment_plan].name}),n.jsxs("p",{className:"text-sm text-primary-400",children:[zn[s.investment_plan].range," minimum"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Expected Returns"}),n.jsx("p",{className:"text-emerald-400 font-bold text-lg",children:zn[s.investment_plan].expectedReturns})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Min Deposit"}),n.jsx("p",{className:"text-sm font-semibold text-white",children:Ln(s.plan_min_amount)})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 md:mb-8",children:[n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Portfolio Value"}),n.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:Ln(w)}),i&&n.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${i.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:[i.daily_change_percent>=0?n.jsx(dt,{size:14,className:"md:w-4 md:h-4"}):n.jsx(sm,{size:14,className:"md:w-4 md:h-4"}),n.jsxs("span",{className:"truncate",children:[mf(i.daily_change_percent)," today"]})]})]}),n.jsx("div",{className:"p-2 md:p-3 bg-primary-500/20 rounded-xl flex-shrink-0",children:n.jsx(Kt,{className:"text-primary-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Deposits"}),n.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:Ln(b)}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[n.jsx(Qn,{size:14,className:"md:w-4 md:h-4"}),n.jsx("span",{className:"truncate",children:"Lifetime deposits"})]})]}),n.jsx("div",{className:"p-2 md:p-3 bg-emerald-500/20 rounded-xl flex-shrink-0",children:n.jsx(ur,{className:"text-emerald-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total Profits"}),n.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white break-words",children:Ln(S)}),n.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs md:text-sm ${S>=0?"text-emerald-400":"text-red-400"}`,children:[n.jsx(Ys,{size:14,className:"md:w-4 md:h-4"}),n.jsx("span",{className:"truncate",children:"Credited earnings"})]})]}),n.jsx("div",{className:"p-2 md:p-3 bg-accent-500/20 rounded-xl flex-shrink-0",children:n.jsx(dt,{className:"text-accent-400 w-5 h-5 md:w-6 md:h-6"})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[n.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-1",children:"Total ROI"}),n.jsx("p",{className:`text-xl md:text-2xl lg:text-3xl font-bold break-words ${j>=0?"text-emerald-400":"text-red-400"}`,children:mf(j)}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs md:text-sm text-slate-400",children:[n.jsx(Ca,{size:14,className:"md:w-4 md:h-4"}),n.jsx("span",{className:"truncate",children:"Return on investment"})]})]}),n.jsx("div",{className:"p-2 md:p-3 bg-yellow-500/20 rounded-xl flex-shrink-0",children:n.jsx(Ca,{className:"text-yellow-400 w-5 h-5 md:w-6 md:h-6"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8",children:[n.jsxs(Y,{className:"lg:col-span-2",children:[n.jsxs(_e,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Recent Transactions"}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your latest account activity"})]}),n.jsx(be,{to:"/transactions",children:n.jsxs(ce,{variant:"ghost",size:"sm",children:["View All",n.jsx(Xn,{size:16})]})})]}),n.jsx(Q,{className:"p-0",children:p.length>0?n.jsx("div",{className:"divide-y divide-slate-700/50",children:p.map(k=>n.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 hover:bg-slate-700/20 transition-colors gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[n.jsx("div",{className:`p-1.5 md:p-2 rounded-lg flex-shrink-0 ${k.type==="deposit"||k.type==="profit_credit"?"bg-emerald-500/20":"bg-red-500/20"}`,children:k.type==="deposit"||k.type==="profit_credit"?n.jsx(ur,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"}):n.jsx(dr,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-white font-medium capitalize text-sm md:text-base truncate",children:k.type.replace("_"," ")}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:ky(k.created_at)})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`font-semibold text-sm md:text-base ${k.type==="deposit"||k.type==="profit_credit"?"text-emerald-400":"text-red-400"}`,children:[k.type==="deposit"||k.type==="profit_credit"?"+":"-",Ln(k.amount)]}),n.jsx(us,{status:k.status})]})]},k.id))}):n.jsxs("div",{className:"p-6 md:p-8 text-center text-slate-400",children:[n.jsx(Qn,{size:32,className:"md:w-10 md:h-10 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"text-sm md:text-base",children:"No transactions yet"})]})})]}),n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Pending Requests"}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Awaiting processing"})]}),n.jsxs(Q,{className:"space-y-3 md:space-y-4",children:[n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Deposits"}),n.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:h})]}),n.jsx(be,{to:"/deposit",children:n.jsxs(ce,{variant:"outline",size:"sm",fullWidth:!0,children:[n.jsx(ur,{size:16}),"New Deposit"]})})]}),n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Pending Withdrawals"}),n.jsx("span",{className:"text-xl md:text-2xl font-bold text-white",children:m})]}),n.jsx(be,{to:"/withdraw",children:n.jsxs(ce,{variant:"outline",size:"sm",fullWidth:!0,children:[n.jsx(dr,{size:16}),"New Withdrawal"]})})]}),n.jsxs("div",{className:"p-3 md:p-4 bg-primary-500/10 border border-primary-500/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary-400 mb-2",children:[n.jsx(hr,{size:14,className:"md:w-4 md:h-4"}),n.jsx("span",{className:"text-xs md:text-sm font-medium",children:"Processing Time"})]}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Requests are typically processed within 1-3 business days."})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[n.jsx(Y,{className:`border ${v.bg.replace("/20","/30")}`,children:n.jsxs(Q,{className:"p-4 md:p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 md:p-3 ${v.bg} rounded-xl`,children:n.jsx(v.icon,{className:`${v.color} w-5 h-5 md:w-6 md:h-6`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-xs md:text-sm",children:"Identity Verification"}),n.jsx("p",{className:`font-semibold ${v.color}`,children:v.label})]})]})}),n.jsx(be,{to:"/kyc",children:n.jsxs(ce,{variant:"outline",size:"sm",fullWidth:!0,children:[n.jsx(ei,{size:16}),(u==null?void 0:u.status)==="verified"?"View Status":"Verify Identity"]})})]})}),n.jsx(Y,{className:"lg:col-span-2",children:n.jsx(Q,{className:"p-4 md:p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:n.jsx(uf,{className:"text-yellow-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Investment Disclaimer"}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"All investments carry risk. Past performance does not guarantee future results. The value of investments can go down as well as up. Please ensure you understand the risks involved before making investment decisions."})]})]})})})]})]})}function Dr(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function qo(s){return`${s>=0?"+":""}${s.toFixed(2)}%`}function pf(s){return new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function Cy(){var pe,ee,Ne,Ce;const{profile:s,user:r,refreshProfile:i}=Ye(),{performance:l}=im(),[c,u]=E.useState(!1),[h,m]=E.useState(""),[p,x]=E.useState(""),[v,w]=E.useState(!1),[b,S]=E.useState(!1),[j,k]=E.useState("");E.useEffect(()=>{s&&(m(s.full_name||""),x(s.email||""))},[s]);const N=(s==null?void 0:s.balance)||0,D=(s==null?void 0:s.total_deposits)||0,U=(s==null?void 0:s.total_withdrawals)||0,A=(s==null?void 0:s.total_profits)||0,P=D>0?(N-D)/D*100:0,B=()=>{m((s==null?void 0:s.full_name)||""),x((s==null?void 0:s.email)||""),k(""),u(!0)},V=()=>{m((s==null?void 0:s.full_name)||""),x((s==null?void 0:s.email)||""),k(""),u(!1)},ae=async()=>{if(r){k(""),w(!0);try{const{error:xe}=await fe.from("profiles").update({full_name:h,email:p}).eq("id",r.id);if(xe){k(xe.message),w(!1);return}if(p!==(s==null?void 0:s.email)){const{error:nt}=await fe.auth.updateUser({email:p});if(nt){k(nt.message),w(!1);return}}await i(),S(!0),setTimeout(()=>{S(!1),u(!1)},1500)}catch{k("Failed to save changes. Please try again.")}w(!1)}};return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-white mb-2",children:"Account Summary"}),n.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"View your account details and investment summary."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(_e,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Profile Information"}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your account details"})]}),!c&&n.jsx(ce,{variant:"outline",size:"sm",onClick:B,children:"Edit Profile"})]}),n.jsx(Q,{className:"space-y-6",children:c?n.jsxs("div",{className:"space-y-4",children:[j&&n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:j})]}),b&&n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[n.jsx(Re,{size:20}),n.jsx("span",{children:"Profile updated successfully!"})]}),n.jsx(Ge,{label:"Full Name",value:h,onChange:xe=>m(xe.target.value),placeholder:"Enter your full name"}),n.jsx(Ge,{label:"Email Address",type:"email",value:p,onChange:xe=>x(xe.target.value),placeholder:"Enter your email",helpText:"Changing your email will require verification"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ce,{onClick:ae,loading:v,disabled:b,children:b?n.jsxs(n.Fragment,{children:[n.jsx(Re,{size:16}),"Saved"]}):"Save Changes"}),n.jsx(ce,{variant:"ghost",onClick:V,disabled:v,children:"Cancel"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:n.jsx(lc,{className:"text-primary-400",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Full Name"}),n.jsx("p",{className:"text-white font-medium",children:(s==null?void 0:s.full_name)||"Not set"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:n.jsx(bc,{className:"text-accent-400",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Email Address"}),n.jsx("p",{className:"text-white font-medium",children:s==null?void 0:s.email})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:n.jsx(wc,{className:"text-emerald-400",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-400",children:"Member Since"}),n.jsx("p",{className:"text-white font-medium",children:s!=null&&s.created_at?pf(s.created_at):"N/A"})]})]})]})})]}),n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Investment Summary"}),n.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"Your portfolio at a glance"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-primary-500/20 rounded-lg",children:n.jsx(Kt,{className:"text-primary-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Portfolio Value"})]}),n.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Dr(N)})]}),n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:n.jsx(dt,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Deposits"})]}),n.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Dr(D)})]}),n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-red-500/20 rounded-lg",children:n.jsx(sm,{className:"text-red-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Withdrawals"})]}),n.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Dr(U)})]}),n.jsxs("div",{className:"p-3 md:p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 md:mb-3",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-accent-500/20 rounded-lg",children:n.jsx(Ys,{className:"text-accent-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsx("span",{className:"text-slate-400 text-sm md:text-base",children:"Total Profits"})]}),n.jsx("p",{className:`text-xl md:text-2xl font-bold ${A>=0?"text-emerald-400":"text-red-400"}`,children:Dr(A)})]})]})})]}),l.length>0&&n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Performance History"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Recent portfolio performance"})]}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-slate-700/50",children:[n.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"Date"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Value"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Daily Change"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Total ROI"})]})}),n.jsx("tbody",{children:l.slice(0,10).map(xe=>n.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20",children:[n.jsx("td",{className:"p-4 text-white",children:pf(xe.date)}),n.jsx("td",{className:"p-4 text-right text-white font-medium",children:Dr(xe.portfolio_value)}),n.jsx("td",{className:`p-4 text-right font-medium ${xe.daily_change_percent>=0?"text-emerald-400":"text-red-400"}`,children:qo(xe.daily_change_percent)}),n.jsx("td",{className:`p-4 text-right font-medium ${xe.total_roi_percent>=0?"text-emerald-400":"text-red-400"}`,children:qo(xe.total_roi_percent)})]},xe.id))})]})})})]})]}),n.jsxs("div",{className:"space-y-4 md:space-y-6",children:[n.jsx(Y,{children:n.jsxs(Q,{className:"text-center p-6 md:p-8",children:[n.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4",children:n.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:((ee=(pe=s==null?void 0:s.full_name)==null?void 0:pe.charAt(0))==null?void 0:ee.toUpperCase())||((Ce=(Ne=s==null?void 0:s.email)==null?void 0:Ne.charAt(0))==null?void 0:Ce.toUpperCase())||"U"})}),n.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-1",children:(s==null?void 0:s.full_name)||"Investor"}),n.jsx("p",{className:"text-slate-400 text-xs md:text-sm break-words",children:s==null?void 0:s.email}),(s==null?void 0:s.is_admin)&&n.jsx("span",{className:"inline-block mt-3 px-3 py-1 bg-accent-500/20 text-accent-400 text-sm rounded-full",children:"Administrator"})]})}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"ROI Summary"})}),n.jsxs(Q,{children:[n.jsxs("div",{className:"text-center mb-4 md:mb-6",children:[n.jsx("p",{className:`text-3xl md:text-4xl font-bold ${P>=0?"text-emerald-400":"text-red-400"}`,children:qo(P)}),n.jsx("p",{className:"text-slate-400 text-xs md:text-sm mt-1",children:"Total Return on Investment"})]}),n.jsxs("div",{className:"space-y-2 md:space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[n.jsx("span",{className:"text-slate-400",children:"Initial Investment"}),n.jsx("span",{className:"text-white",children:Dr(D)})]}),n.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[n.jsx("span",{className:"text-slate-400",children:"Current Value"}),n.jsx("span",{className:"text-white",children:Dr(N)})]}),n.jsxs("div",{className:"flex justify-between text-xs md:text-sm pt-2 md:pt-3 border-t border-slate-700/50",children:[n.jsx("span",{className:"text-slate-400",children:"Net Gain/Loss"}),n.jsx("span",{className:`font-medium ${N-D>=0?"text-emerald-400":"text-red-400"}`,children:Dr(N-D)})]})]})]})]}),n.jsx(Y,{children:n.jsxs(Q,{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-emerald-500/20 rounded-lg",children:n.jsx(cs,{className:"text-emerald-400 w-4 h-4 md:w-5 md:h-5"})}),n.jsx("span",{className:"font-medium text-white text-sm md:text-base",children:"Account Security"})]}),n.jsxs("div",{className:"space-y-2 text-xs md:text-sm text-slate-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),n.jsx("span",{children:"Email verified"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),n.jsx("span",{children:"Secure connection (HTTPS)"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Re,{size:12,className:"md:w-3.5 md:h-3.5 text-emerald-400 flex-shrink-0"}),n.jsx("span",{children:"Data encryption enabled"})]})]})]})})]})]})]})}function xf(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function gf(s){return new Date(s).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const vf={deposit:"Deposit",withdrawal:"Withdrawal",profit_credit:"Profit Credit",balance_adjustment:"Balance Adjustment",deposit_request:"Deposit Request",withdrawal_request:"Withdrawal Request"},yf={bank_transfer:"Bank Transfer",wire_transfer:"Wire Transfer",crypto:"Cryptocurrency"};function Ty({transaction:s,onClose:r}){const i=mr();if(!s)return null;const l=["deposit","deposit_request","profit_credit"].includes(s.type),c=()=>{const m=`
Transaction ID: ${s.transactionId||s.id}
Type: ${vf[s.type]||s.type}
Amount: ${xf(s.amount)}
Status: ${s.status}
Date: ${gf(s.date)}
${s.paymentMethod?`Payment Method: ${yf[s.paymentMethod]||s.paymentMethod}`:""}
${s.referenceNumber?`Reference: ${s.referenceNumber}`:""}
`.trim(),p=s.type.includes("deposit")?"deposit":"withdrawal";i("/support",{state:{prefillSubject:p,prefillMessage:`I need assistance with the following transaction:

${m}

Description of issue:
`}}),r()},u=()=>l?n.jsx(ur,{className:"text-emerald-400",size:24}):n.jsx(dr,{className:"text-red-400",size:24}),h=()=>l?"bg-emerald-500/20":"bg-red-500/20";return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),n.jsxs("div",{className:"relative w-full max-w-lg bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-xl ${h()}`,children:u()}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Transaction Details"}),n.jsx("p",{className:"text-sm text-slate-400",children:vf[s.type]||s.type})]})]}),n.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:n.jsx(_c,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[s.transactionId&&n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(ac,{size:16}),n.jsx("span",{className:"text-sm",children:"Transaction ID"})]}),n.jsx("p",{className:"text-white font-mono text-lg",children:s.transactionId})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(Ys,{size:16}),n.jsx("span",{className:"text-sm",children:"Amount"})]}),n.jsxs("p",{className:`text-xl font-bold ${l?"text-emerald-400":"text-red-400"}`,children:[l?"+":"-",xf(s.amount)]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(os,{size:16}),n.jsx("span",{className:"text-sm",children:"Status"})]}),n.jsx("div",{className:"mt-1",children:n.jsx(us,{status:s.status})})]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(wc,{size:16}),n.jsx("span",{className:"text-sm",children:"Date & Time"})]}),n.jsx("p",{className:"text-white",children:gf(s.date)})]}),s.paymentMethod&&n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(Zn,{size:16}),n.jsx("span",{className:"text-sm",children:"Payment Method"})]}),n.jsx("p",{className:"text-white",children:yf[s.paymentMethod]||s.paymentMethod})]}),s.referenceNumber&&n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(ac,{size:16}),n.jsx("span",{className:"text-sm",children:"Reference Number"})]}),n.jsx("p",{className:"text-white font-mono",children:s.referenceNumber})]}),s.accountDetails&&n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(Zn,{size:16}),n.jsx("span",{className:"text-sm",children:"Account Details"})]}),n.jsx("p",{className:"text-white",children:s.accountDetails})]}),s.notes&&n.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-1",children:[n.jsx(os,{size:16}),n.jsx("span",{className:"text-sm",children:"Notes"})]}),n.jsx("p",{className:"text-white",children:s.notes})]})]}),n.jsx("div",{className:"p-6 border-t border-slate-700",children:n.jsxs(ce,{onClick:c,variant:"outline",fullWidth:!0,children:[n.jsx(Ea,{size:18}),"Contact Support About This Transaction"]})})]})]})}function wf(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function Py(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ry(){const{transactions:s,loading:r}=nm(),{requests:i,loading:l}=Sc(),{requests:c,loading:u}=kc(),[h,m]=E.useState("all"),[p,x]=E.useState(""),[v,w]=E.useState("all"),[b,S]=E.useState(null),j=r||l||u,N=[...s.map(P=>({id:P.id,type:P.type,amount:P.amount,status:P.status,description:P.description,date:P.created_at,category:"transaction"})),...i.map(P=>{var B;return{id:P.id,transactionId:P.transaction_id,type:"deposit_request",amount:P.amount,status:P.status,description:`${(B=P.payment_method)==null?void 0:B.replace("_"," ")} - ${P.reference_number||"Pending"}`,date:P.created_at,category:"deposit",paymentMethod:P.payment_method,notes:P.notes,referenceNumber:P.reference_number}}),...c.map(P=>{var B;return{id:P.id,transactionId:P.transaction_id,type:"withdrawal_request",amount:P.amount,status:P.status,description:`${(B=P.withdrawal_method)==null?void 0:B.replace("_"," ")}`,date:P.created_at,category:"withdrawal",paymentMethod:P.withdrawal_method,notes:P.notes,accountDetails:P.account_details}})].sort((P,B)=>new Date(B.date).getTime()-new Date(P.date).getTime()).filter(P=>{var B;if(h==="deposits"&&!["deposit","deposit_request","profit_credit"].includes(P.type)||h==="withdrawals"&&!["withdrawal","withdrawal_request"].includes(P.type)||v!=="all"&&P.status!==v)return!1;if(p){const V=p.toLowerCase();return P.type.toLowerCase().includes(V)||P.description.toLowerCase().includes(V)||wf(P.amount).toLowerCase().includes(V)||((B=P.transactionId)==null?void 0:B.toLowerCase().includes(V))}return!0}),D=P=>({deposit:"Deposit",withdrawal:"Withdrawal",profit_credit:"Profit Credit",balance_adjustment:"Balance Adjustment",deposit_request:"Deposit Request",withdrawal_request:"Withdrawal Request"})[P]||P,U=P=>["deposit","deposit_request","profit_credit"].includes(P)?n.jsx(ur,{className:"text-emerald-400",size:20}):["withdrawal","withdrawal_request"].includes(P)?n.jsx(dr,{className:"text-red-400",size:20}):n.jsx(Ys,{className:"text-primary-400",size:20}),A=P=>["deposit","deposit_request","profit_credit"].includes(P)?"bg-emerald-500/20":["withdrawal","withdrawal_request"].includes(P)?"bg-red-500/20":"bg-primary-500/20";return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Transaction History"}),n.jsx("p",{className:"text-slate-400",children:"View all your deposits, withdrawals, and account activity. Click any transaction for details."})]}),n.jsx(Y,{className:"mb-6",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 lg:pb-0",children:[{key:"all",label:"All Transactions"},{key:"deposits",label:"Deposits & Credits"},{key:"withdrawals",label:"Withdrawals"}].map(P=>n.jsx("button",{onClick:()=>m(P.key),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-all ${h===P.key?"bg-primary-500 text-white":"bg-slate-700/50 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:P.label},P.key))}),n.jsxs("div",{className:"flex flex-1 gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(rm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search by ID, type, or amount...",value:p,onChange:P=>x(P.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ay,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),n.jsxs("select",{value:v,onChange:P=>w(P.target.value),className:"pl-10 pr-8 py-2 bg-slate-700/50 border border-slate-600/50 rounded-lg text-white focus:outline-none focus:border-primary-500 appearance-none cursor-pointer",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})]})})}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("h2",{className:"text-lg font-semibold text-white",children:[N.length," Transaction",N.length!==1?"s":""]})}),n.jsx(Q,{className:"p-0",children:j?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-slate-400 mt-4",children:"Loading transactions..."})]}):N.length>0?n.jsx("div",{className:"divide-y divide-slate-700/50",children:N.map(P=>n.jsxs("button",{onClick:()=>S(P),className:"w-full flex items-center justify-between p-4 hover:bg-slate-700/30 transition-colors text-left",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${A(P.type)}`,children:U(P.type)}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:D(P.type)}),P.transactionId&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-0.5",children:[n.jsx(ac,{size:12}),n.jsx("span",{className:"font-mono",children:P.transactionId})]}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:P.description||"No description"}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Py(P.date)})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-lg font-semibold ${["deposit","deposit_request","profit_credit"].includes(P.type)?"text-emerald-400":"text-red-400"}`,children:[["deposit","deposit_request","profit_credit"].includes(P.type)?"+":"-",wf(P.amount)]}),n.jsx(us,{status:P.status})]}),n.jsx(tm,{className:"text-slate-500",size:20})]})]},`${P.category}-${P.id}`))}):n.jsxs("div",{className:"p-8 text-center text-slate-400",children:[n.jsx(Qn,{size:40,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No transactions found"}),n.jsx("p",{className:"text-sm mt-2",children:p||v!=="all"?"Try adjusting your filters":"Your transaction history will appear here"})]})})]}),n.jsx(Ty,{transaction:b,onClose:()=>S(null)})]})}const Oy=[{value:"BTC",label:"Bitcoin (BTC)",icon:em},{value:"ETH",label:"Ethereum (ETH)",icon:Kt},{value:"USDT",label:"USDT (TRC20)",icon:Kt},{value:"SOLANA",label:"Solana (SOL)",icon:Kt}];function Wo(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function Ay(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Iy(){const s=mr(),{profile:r}=Ye(),{requests:i}=Sc(),[l,c]=E.useState(""),[u,h]=E.useState(""),m=x=>{h("");const v=parseFloat(l);if(isNaN(v)||v<=0){h("Please enter a valid amount");return}if(r&&v<r.plan_min_amount){h(`Minimum deposit amount is ${Wo(r.plan_min_amount)} for your plan`);return}s(`/deposit/${x.toLowerCase()}`,{state:{amount:v}})},p=i.filter(x=>x.status==="pending");return i.filter(x=>x.status!=="pending"),n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Deposit Funds"}),n.jsx("p",{className:"text-slate-400",children:"Submit a deposit request to fund your investment account."})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:n.jsx(ur,{className:"text-emerald-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Deposit Request"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a deposit"})]})]})}),n.jsxs(Q,{children:[r&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-blue-500/10 border border-blue-500/30 rounded-xl text-blue-400",children:[n.jsx(ka,{size:20}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Minimum Deposit"}),n.jsxs("p",{className:"text-sm",children:["Your plan requires a minimum deposit of ",Wo(r.plan_min_amount),". You can deposit any amount above this."]})]})]}),u&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ge,{label:"Amount (USD)",type:"number",value:l,onChange:x=>c(x.target.value),placeholder:"Enter amount",min:"0",step:"0.01",required:!0}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Select Cryptocurrency"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Oy.map(x=>{const v=x.icon;return n.jsxs("button",{type:"button",onClick:()=>m(x.value),className:"flex items-center gap-3 p-4 bg-slate-800/50 border border-slate-600/50 rounded-xl text-left hover:bg-slate-700/50 hover:border-primary-500/50 transition-all group",children:[n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-lg group-hover:bg-primary-500/30 transition-colors",children:n.jsx(v,{className:"text-primary-400",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:x.label}),n.jsx("p",{className:"text-xs text-slate-400",children:"Click to continue"})]})]},x.value)})})]})]})]})]}),i.length>0&&n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Deposit Requests"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your deposit request history"})]}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"divide-y divide-slate-700/50",children:i.slice(0,10).map(x=>n.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:n.jsx(ur,{className:"text-emerald-400",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:Wo(x.amount)}),n.jsxs("p",{className:"text-sm text-slate-400",children:[x.payment_method.replace("_"," "),x.reference_number&&` - ${x.reference_number}`]}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Ay(x.created_at)})]})]}),n.jsx(us,{status:x.status})]},x.id))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[p.length>0&&n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[n.jsx(hr,{size:20}),n.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),n.jsxs(Q,{children:[n.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:p.length}),n.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting processing"})]})]}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h3",{className:"font-semibold text-white",children:"How It Works"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center text-xs font-bold",children:"1"}),n.jsx("span",{className:"font-medium text-slate-300",children:"Enter Amount"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Specify the USD amount you wish to deposit."})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center text-xs font-bold",children:"2"}),n.jsx("span",{className:"font-medium text-slate-300",children:"Select Crypto"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Choose your preferred cryptocurrency (BTC, ETH, USDT, or SOL)."})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-400 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500/20 flex items-center justify-center text-xs font-bold",children:"3"}),n.jsx("span",{className:"font-medium text-slate-300",children:"Send Payment"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Transfer funds to the displayed wallet address."})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-amber-400 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-amber-500/20 flex items-center justify-center text-xs font-bold",children:"4"}),n.jsx("span",{className:"font-medium text-slate-300",children:"Confirm & Wait"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Confirm payment and wait for admin approval."})]})]})]}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(ka,{className:"text-primary-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Deposit requests are typically processed within 1-3 business days. You will be notified once your deposit is approved."})]})]})})}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:n.jsx(wt,{className:"text-yellow-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-slate-400",children:"This is a request-only system. Deposits are credited to your account after verification and approval by our team."})]})]})})})]})]})]})}const Dy={btc:{name:"Bitcoin",symbol:"BTC",address:"bc1qznu7cmr8kjz4emanwsa0cta7uhma27ej68zmuw",icon:em,color:"text-orange-400",bgColor:"bg-orange-500/20",instructions:["Copy the Bitcoin wallet address below","Open your Bitcoin wallet app","Send the exact amount in BTC equivalent to your USD deposit","Make sure to use the Bitcoin network",`After sending, click "I've Made the Payment" below`]},eth:{name:"Ethereum",symbol:"ETH",address:"0xB63627E9aC9FFC3fe36bEDc13025C5572953bA8D",icon:Kt,color:"text-blue-400",bgColor:"bg-blue-500/20",instructions:["Copy the Ethereum wallet address below","Open your Ethereum wallet app","Send the exact amount in ETH equivalent to your USD deposit","Make sure to use the Ethereum mainnet",`After sending, click "I've Made the Payment" below`]},usdt:{name:"USDT (TRC20)",symbol:"USDT",address:"0xb50aa42893d507094a1df637647fcc2F6b586633",icon:Kt,color:"text-emerald-400",bgColor:"bg-emerald-500/20",instructions:["Copy the USDT (TRC20) wallet address below","Open your USDT wallet app","Send the exact amount in USDT to the address","IMPORTANT: Use TRC20 network only (Tron network)",`After sending, click "I've Made the Payment" below`]},solana:{name:"Solana",symbol:"SOL",address:"DXEn4ymMHC9CFKUPiB7XzHkFu3d6KELFwuQTJ2fvK5wo",icon:Kt,color:"text-purple-400",bgColor:"bg-purple-500/20",instructions:["Copy the Solana wallet address below","Open your Solana wallet app","Send the exact amount in SOL equivalent to your USD deposit","Make sure to use the Solana network",`After sending, click "I've Made the Payment" below`]}};function jf(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function Uy(){var D;const{crypto:s}=V0(),r=Br(),i=mr(),{profile:l}=Ye(),[c,u]=E.useState(!1),[h,m]=E.useState(!1),[p,x]=E.useState(!1),[v,w]=E.useState(""),b=(D=r.state)==null?void 0:D.amount,S=s?Dy[s.toLowerCase()]:null;if(E.useEffect(()=>{(!b||!S)&&i("/deposit")},[b,S,i]),!S||!b)return null;const j=S.icon,k=async()=>{try{await navigator.clipboard.writeText(S.address),u(!0),setTimeout(()=>u(!1),2e3)}catch(U){console.error("Failed to copy:",U)}},N=async()=>{if(l){m(!0),w("");try{const{error:U}=await fe.from("deposit_requests").insert({user_id:l.id,amount:b,payment_method:S.symbol,status:"pending",reference_number:"",notes:`Crypto deposit via ${S.name}`});if(U)throw U;x(!0),setTimeout(()=>{i("/dashboard")},3e3)}catch(U){console.error("Error creating deposit request:",U),w("Failed to submit deposit request. Please try again."),m(!1)}}};return p?n.jsx(ht,{children:n.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:n.jsx(Y,{className:"max-w-md w-full",children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Re,{className:"text-emerald-400",size:32})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Payment Confirmed!"}),n.jsxs("p",{className:"text-slate-400 mb-4",children:["Your deposit request of ",jf(b)," has been submitted successfully."]}),n.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl text-left",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(ka,{className:"text-blue-400 flex-shrink-0",size:20}),n.jsxs("div",{className:"text-sm text-blue-400",children:[n.jsx("p",{className:"font-semibold mb-1",children:"Pending Admin Approval"}),n.jsx("p",{children:"Your deposit is now pending verification. Once approved by our admin team, the funds will be credited to your account balance."})]})]})}),n.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Redirecting to dashboard..."})]})})})}):n.jsxs(ht,{children:[n.jsx("div",{className:"mb-6",children:n.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>i("/deposit"),children:[n.jsx(ls,{size:16}),"Back to Deposit"]})}),n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:`p-4 ${S.bgColor} rounded-2xl`,children:n.jsx(j,{className:S.color,size:32})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-white",children:[S.name," Deposit"]}),n.jsxs("p",{className:"text-slate-400",children:["Send ",S.symbol," to complete your deposit"]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Deposit Amount"})}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("span",{className:"text-4xl font-bold text-white",children:jf(b)}),n.jsx("span",{className:"text-slate-400",children:"USD"})]})})]}),n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Wallet Address"}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Send ",S.symbol," to this address"]})]}),n.jsxs(Q,{children:[n.jsx("div",{className:"p-4 bg-slate-800/50 border border-slate-600/50 rounded-xl mb-4",children:n.jsx("p",{className:"text-white font-mono text-sm break-all",children:S.address})}),n.jsx(ce,{onClick:k,fullWidth:!0,variant:c?"success":"primary",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Re,{size:20}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(ny,{size:20}),"Copy Wallet Address"]})})]})]}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Instructions"})}),n.jsx(Q,{children:n.jsx("ol",{className:"space-y-3",children:S.instructions.map((U,A)=>n.jsxs("li",{className:"flex gap-3",children:[n.jsx("span",{className:`flex-shrink-0 w-6 h-6 rounded-full ${S.bgColor} ${S.color} flex items-center justify-center text-xs font-bold`,children:A+1}),n.jsx("span",{className:"text-slate-300",children:U})]},A))})})]}),v&&n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:v})]}),n.jsx(Y,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[n.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg",children:n.jsx(wt,{className:"text-amber-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Make sure you send the payment to the correct address and network. Sending to the wrong address or network may result in permanent loss of funds. Your deposit will be credited after admin verification."})]})]}),n.jsxs(ce,{onClick:N,loading:h,fullWidth:!0,size:"lg",children:[n.jsx(Re,{size:20}),"I've Made the Payment"]})]})})]})]})]})}const Aa=E.forwardRef(({label:s,error:r,options:i,className:l="",...c},u)=>n.jsxs("div",{className:"space-y-2",children:[s&&n.jsx("label",{className:"block text-sm font-medium text-slate-300",children:s}),n.jsx("select",{ref:u,className:`w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-colors ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${l}`,...c,children:i.map(h=>n.jsx("option",{value:h.value,className:"bg-slate-800",children:h.label},h.value))}),r&&n.jsx("p",{className:"text-sm text-red-400",children:r})]}));Aa.displayName="Select";const $y=[{value:"bank_transfer",label:"Bank Transfer"},{value:"wire_transfer",label:"Wire Transfer"},{value:"crypto",label:"Cryptocurrency"}];function wa(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function zy(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ly(){const{profile:s}=Ye(),{requests:r,createRequest:i}=kc(),[l,c]=E.useState(""),[u,h]=E.useState("bank_transfer"),[m,p]=E.useState(""),[x,v]=E.useState(""),[w,b]=E.useState(!1),[S,j]=E.useState(!1),[k,N]=E.useState(""),D=(s==null?void 0:s.balance)||0,U=async B=>{B.preventDefault(),N("");const V=parseFloat(l);if(isNaN(V)||V<=0){N("Please enter a valid amount");return}if(V>D){N("Withdrawal amount exceeds available balance");return}if(!m.trim()){N("Please provide account details for the withdrawal");return}b(!0);const{error:ae}=await i(V,u,m,x);ae?N(ae.message):(j(!0),c(""),p(""),v(""),setTimeout(()=>j(!1),3e3)),b(!1)},A=r.filter(B=>B.status==="pending"),P=A.reduce((B,V)=>B+V.amount,0);return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Withdraw Funds"}),n.jsx("p",{className:"text-slate-400",children:"Submit a withdrawal request from your investment account."})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:n.jsx(dr,{className:"text-red-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"New Withdrawal Request"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Fill out the form below to request a withdrawal"})]})]})}),n.jsxs(Q,{children:[S&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[n.jsx(Re,{size:20}),n.jsx("span",{children:"Withdrawal request submitted successfully!"})]}),k&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:k})]}),n.jsxs("form",{onSubmit:U,className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(Kt,{className:"text-primary-400",size:20})}),n.jsx("span",{className:"text-slate-400",children:"Available Balance"})]}),n.jsx("span",{className:"text-2xl font-bold text-white",children:wa(D)})]}),P>0&&n.jsxs("p",{className:"text-sm text-yellow-400 mt-2 flex items-center gap-2",children:[n.jsx(hr,{size:14}),wa(P)," pending withdrawal"]})]}),n.jsx(Ge,{label:"Amount (USD)",type:"number",value:l,onChange:B=>c(B.target.value),placeholder:"Enter amount",min:"0",max:D,step:"0.01",required:!0}),n.jsx(Aa,{label:"Withdrawal Method",value:u,onChange:B=>h(B.target.value),options:$y}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Account Details"}),n.jsx("textarea",{value:m,onChange:B=>p(B.target.value),placeholder:u==="bank_transfer"?"Bank name, account number, routing number...":u==="crypto"?"Wallet address, network (e.g., ERC20, TRC20)...":"SWIFT code, bank details...",rows:3,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"}),n.jsx("p",{className:"text-sm text-slate-500",children:"Provide complete details for receiving your withdrawal"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Additional Notes (Optional)"}),n.jsx("textarea",{value:x,onChange:B=>v(B.target.value),placeholder:"Any additional information",rows:2,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),n.jsxs(ce,{type:"submit",variant:"danger",fullWidth:!0,loading:w,disabled:D<=0,children:[n.jsx(dr,{size:20}),"Submit Withdrawal Request"]})]})]})]}),r.length>0&&n.jsxs(Y,{children:[n.jsxs(_e,{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Withdrawal Requests"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your withdrawal request history"})]}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"divide-y divide-slate-700/50",children:r.slice(0,10).map(B=>n.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-700/20 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:n.jsx(dr,{className:"text-red-400",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:wa(B.amount)}),n.jsx("p",{className:"text-sm text-slate-400",children:B.withdrawal_method.replace("_"," ")}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:zy(B.created_at)})]})]}),n.jsx(us,{status:B.status})]},B.id))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[A.length>0&&n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[n.jsx(hr,{size:20}),n.jsx("h3",{className:"font-semibold",children:"Pending Requests"})]})}),n.jsxs(Q,{children:[n.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:A.length}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Total: ",wa(P)]})]})]}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h3",{className:"font-semibold text-white",children:"Withdrawal Guidelines"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Minimum Withdrawal"}),n.jsx("p",{className:"text-lg text-white font-bold",children:"$100.00"})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Time"}),n.jsx("p",{className:"text-sm text-slate-400",children:"1-5 business days"})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-300 font-medium mb-1",children:"Processing Fees"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Varies by method"})]})]})]}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(ka,{className:"text-primary-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Processing Time"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Withdrawal requests are reviewed and processed within 1-5 business days. You will be notified of the status."})]})]})})}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:n.jsx(Ks,{className:"text-yellow-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Double-check your account details before submitting. Incorrect information may delay your withdrawal or result in lost funds."})]})]})})})]})]})]})}function My({symbol:s,containerId:r}){const i=E.useRef(null);return E.useEffect(()=>{if(!i.current)return;const l=document.createElement("script");return l.src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js",l.type="text/javascript",l.async=!0,l.innerHTML=JSON.stringify({symbol:s,width:"100%",height:"220",locale:"en",dateRange:"12M",colorTheme:"dark",isTransparent:!0,autosize:!0,largeChartUrl:""}),i.current.innerHTML="",i.current.appendChild(l),()=>{i.current&&(i.current.innerHTML="")}},[s]),n.jsx("div",{className:"tradingview-widget-container",ref:i,id:r,children:n.jsx("div",{className:"tradingview-widget-container__widget"})})}function By(){const s=E.useRef(null);return E.useEffect(()=>{if(!s.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({colorTheme:"dark",dateRange:"12M",showChart:!0,locale:"en",width:"100%",height:"500",largeChartUrl:"",isTransparent:!0,showSymbolLogo:!0,showFloatingTooltip:!1,plotLineColorGrowing:"rgba(59, 130, 246, 1)",plotLineColorFalling:"rgba(239, 68, 68, 1)",gridLineColor:"rgba(42, 46, 57, 0)",scaleFontColor:"rgba(134, 137, 147, 1)",belowLineFillColorGrowing:"rgba(59, 130, 246, 0.12)",belowLineFillColorFalling:"rgba(239, 68, 68, 0.12)",belowLineFillColorGrowingBottom:"rgba(59, 130, 246, 0)",belowLineFillColorFallingBottom:"rgba(239, 68, 68, 0)",symbolActiveColor:"rgba(59, 130, 246, 0.12)",tabs:[{title:"Indices",symbols:[{s:"FOREXCOM:SPXUSD",d:"S&P 500"},{s:"FOREXCOM:NSXUSD",d:"Nasdaq 100"},{s:"FOREXCOM:DJI",d:"Dow Jones"}],originalTitle:"Indices"},{title:"Forex",symbols:[{s:"FX:EURUSD",d:"EUR/USD"},{s:"FX:GBPUSD",d:"GBP/USD"},{s:"FX:USDJPY",d:"USD/JPY"}],originalTitle:"Forex"},{title:"Crypto",symbols:[{s:"BITSTAMP:BTCUSD",d:"Bitcoin"},{s:"BITSTAMP:ETHUSD",d:"Ethereum"},{s:"BINANCE:BNBUSDT",d:"BNB"}],originalTitle:"Crypto"}]}),s.current.innerHTML="",s.current.appendChild(r),()=>{s.current&&(s.current.innerHTML="")}},[]),n.jsx("div",{className:"tradingview-widget-container",ref:s,children:n.jsx("div",{className:"tradingview-widget-container__widget"})})}function Fy(){const s=E.useRef(null);return E.useEffect(()=>{if(!s.current)return;const r=document.createElement("script");return r.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",r.type="text/javascript",r.async=!0,r.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"BITSTAMP:BTCUSD",title:"Bitcoin"},{proName:"BITSTAMP:ETHUSD",title:"Ethereum"},{proName:"FX:EURUSD",title:"EUR/USD"},{proName:"COMEX:GC1!",title:"Gold"},{proName:"NYMEX:CL1!",title:"Crude Oil"}],showSymbolLogo:!0,isTransparent:!0,displayMode:"adaptive",colorTheme:"dark",locale:"en"}),s.current.innerHTML="",s.current.appendChild(r),()=>{s.current&&(s.current.innerHTML="")}},[]),n.jsx("div",{className:"tradingview-widget-container",ref:s,children:n.jsx("div",{className:"tradingview-widget-container__widget"})})}const qy=[{symbol:"FOREXCOM:SPXUSD",name:"S&P 500",id:"spx"},{symbol:"BITSTAMP:BTCUSD",name:"Bitcoin",id:"btc"},{symbol:"BITSTAMP:ETHUSD",name:"Ethereum",id:"eth"},{symbol:"FX:EURUSD",name:"EUR/USD",id:"eurusd"}];function Wy(){return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Market Overview"}),n.jsx("p",{className:"text-slate-400",children:"View live market data and global financial trends."})]}),n.jsx(Y,{className:"mb-6 overflow-hidden",children:n.jsx(Q,{className:"p-0",children:n.jsx(Fy,{})})}),n.jsx("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:qy.map(s=>n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(dt,{className:"text-primary-400",size:20})}),n.jsx("span",{className:"font-semibold text-white",children:s.name})]})}),n.jsx(Q,{className:"p-0 overflow-hidden",children:n.jsx(My,{symbol:s.symbol,containerId:`widget-${s.id}`})})]},s.id))}),n.jsxs(Y,{className:"mb-6",children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-accent-500/20 rounded-lg",children:n.jsx(Sa,{className:"text-accent-400",size:20})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Global Markets"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Indices, Forex, and Cryptocurrency"})]})]})}),n.jsx(Q,{className:"p-0 overflow-hidden",children:n.jsx(By,{})})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx(Y,{children:n.jsxs(Q,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(ly,{className:"text-primary-400",size:24})}),n.jsx("h3",{className:"font-semibold text-white mb-2",children:"Global Coverage"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Access market data from major exchanges worldwide."})]})}),n.jsx(Y,{children:n.jsxs(Q,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(dt,{className:"text-emerald-400",size:24})}),n.jsx("h3",{className:"font-semibold text-white mb-2",children:"Real-Time Data"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Live market prices updated in real-time."})]})}),n.jsx(Y,{children:n.jsxs(Q,{className:"p-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Sa,{className:"text-accent-400",size:24})}),n.jsx("h3",{className:"font-semibold text-white mb-2",children:"Interactive Charts"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Powered by TradingView professional charts."})]})})]}),n.jsx(Y,{className:"mt-6",children:n.jsx(Q,{className:"p-6",children:n.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Market data provided by TradingView. Prices may be delayed. This information is for educational and informational purposes only and should not be construed as investment advice. Past performance is not indicative of future results."})})})]})}const Vy=[{value:"general",label:"General Inquiry"},{value:"complaint",label:"Complaint"},{value:"account",label:"Account Issue"},{value:"withdrawal",label:"Withdrawal Issue"},{value:"deposit",label:"Deposit Issue"}];function Hy(){const s=Br(),{profile:r}=Ye(),i=s.state,[l,c]=E.useState((r==null?void 0:r.full_name)||""),[u,h]=E.useState((r==null?void 0:r.email)||""),[m,p]=E.useState((i==null?void 0:i.prefillSubject)||"general"),[x,v]=E.useState((i==null?void 0:i.prefillMessage)||""),[w,b]=E.useState(!1),[S,j]=E.useState(!1),[k,N]=E.useState("");E.useEffect(()=>{r&&(l||c(r.full_name||""),u||h(r.email||""))},[r]),E.useEffect(()=>{i!=null&&i.prefillSubject&&p(i.prefillSubject),i!=null&&i.prefillMessage&&v(i.prefillMessage)},[i]);const D=async U=>{if(U.preventDefault(),N(""),!l.trim()||!u.trim()||!x.trim()){N("Please fill in all required fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){N("Please enter a valid email address");return}b(!0);try{if(!(await fetch("https://snnngysmaltnabucdpcn.supabase.co/functions/v1/send-contact-email",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNubm5neXNtYWx0bmFidWNkcGNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NjY2ODcsImV4cCI6MjA4NDU0MjY4N30.ccJz-3bLrDsiEP0jUP5gWwsAaH1kNsBGUo_iv3Ct82A","Content-Type":"application/json"},body:JSON.stringify({fullName:l,email:u,subject:m,message:x})})).ok)throw new Error("Failed to send message");j(!0),c(""),h(""),p("general"),v(""),setTimeout(()=>j(!1),5e3)}catch{N("Failed to send message. Please try again.")}finally{b(!1)}};return n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Support & Contact"}),n.jsx("p",{className:"text-slate-400",children:"Get in touch with Prime Blocks Investments for support, complaints, or questions."})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:n.jsx(Ea,{className:"text-primary-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Send Us a Message"}),n.jsx("p",{className:"text-sm text-slate-400",children:"We'll get back to you as soon as possible"})]})]})}),n.jsxs(Q,{children:[S&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[n.jsx(Re,{size:20}),n.jsx("span",{children:"Your message has been sent to our support team. We'll get back to you shortly."})]}),k&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:k})]}),n.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n.jsx(Ge,{label:"Full Name",type:"text",value:l,onChange:U=>c(U.target.value),placeholder:"Enter your full name",required:!0}),n.jsx(Ge,{label:"Email Address",type:"email",value:u,onChange:U=>h(U.target.value),placeholder:"your.email@example.com",required:!0}),n.jsx(Aa,{label:"Subject",value:m,onChange:U=>p(U.target.value),options:Vy}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["Message ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{value:x,onChange:U=>v(U.target.value),placeholder:"Describe your inquiry or issue in detail",rows:6,required:!0,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 resize-none"})]}),n.jsxs(ce,{type:"submit",fullWidth:!0,loading:w,children:[n.jsx(Ea,{size:20}),"Send Message"]})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h3",{className:"font-semibold text-white",children:"Contact Information"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:n.jsx(bc,{className:"text-primary-400",size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Email Support"}),n.jsx("p",{className:"text-sm text-slate-400 break-all",children:"support@primeblockinvestment.org"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg mt-1",children:n.jsx(hr,{className:"text-primary-400",size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Business Hours"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Monday - Friday"}),n.jsx("p",{className:"text-sm text-slate-400",children:"9:00 AM - 6:00 PM EST"})]})]})]})]}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(wt,{className:"text-primary-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Response Time"}),n.jsx("p",{className:"text-sm text-slate-400",children:"We typically respond to all inquiries within 24-48 hours during business days. For urgent matters, please mark your subject accordingly."})]})]})})}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:n.jsx(Re,{className:"text-emerald-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"What to Expect"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your message will be directly sent to our support team. We'll review your inquiry and respond with the information or assistance you need."})]})]})})})]})]})]})}const Ky=[{value:"national_id",label:"National ID"},{value:"passport",label:"Passport"},{value:"drivers_license",label:"Driver's License"}],bf={national_id:"National ID",passport:"Passport",drivers_license:"Driver's License"};function Jy(){const{kyc:s,loading:r,submitKyc:i}=am(),[l,c]=E.useState(""),[u,h]=E.useState("national_id"),[m,p]=E.useState(""),[x,v]=E.useState(!1),[w,b]=E.useState(!1),[S,j]=E.useState(""),k=async P=>{if(P.preventDefault(),j(""),!l.trim()||!m.trim()){j("Please fill in all required fields");return}v(!0);const{error:B}=await i(l,u,m);B?j(B.message):(b(!0),setTimeout(()=>b(!1),5e3)),v(!1)},N=()=>{if(!s)return n.jsx(Ks,{className:"text-slate-400",size:24});switch(s.status){case"verified":return n.jsx(Re,{className:"text-emerald-400",size:24});case"under_review":return n.jsx(hr,{className:"text-yellow-400",size:24});case"rejected":return n.jsx(wt,{className:"text-red-400",size:24});default:return n.jsx(Ks,{className:"text-slate-400",size:24})}},D=()=>{if(!s)return"bg-slate-500/20 border-slate-500/30";switch(s.status){case"verified":return"bg-emerald-500/20 border-emerald-500/30";case"under_review":return"bg-yellow-500/20 border-yellow-500/30";case"rejected":return"bg-red-500/20 border-red-500/30";default:return"bg-slate-500/20 border-slate-500/30"}},U=()=>{if(!s)return"Not Submitted";switch(s.status){case"verified":return"Verified";case"under_review":return"Under Review";case"rejected":return"Rejected";default:return"Not Submitted"}},A=()=>{if(!s)return"Submit your identification documents for verification.";switch(s.status){case"verified":return"Your identity has been successfully verified.";case"under_review":return"Your documents are being reviewed. This usually takes 1-3 business days.";case"rejected":return s.rejection_reason||"Your submission was rejected. Please resubmit with valid documents.";default:return"Submit your identification documents for verification."}};return r?n.jsx(ht,{children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full"})})}):n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Identity Verification (KYC)"}),n.jsx("p",{className:"text-slate-400",children:"Verify your identity to unlock full platform features and ensure account security."})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Y,{className:`border ${D()}`,children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-4 rounded-xl ${D()}`,children:N()}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"text-lg font-semibold text-white mb-1",children:["Verification Status: ",U()]}),n.jsx("p",{className:"text-sm text-slate-400",children:A()})]})]})})}),(s==null?void 0:s.status)==="verified"?n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:n.jsx(ei,{className:"text-emerald-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Verified Information"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your identity has been confirmed"})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(lc,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Full Name"})]}),n.jsx("p",{className:"text-white",children:s.full_name})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(Zn,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"ID Type"})]}),n.jsx("p",{className:"text-white",children:bf[s.id_type]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(os,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"ID Number"})]}),n.jsxs("p",{className:"text-white font-mono",children:[s.id_number.slice(0,4),"****",s.id_number.slice(-4)]})]})]})]}):n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:n.jsx(ei,{className:"text-primary-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:(s==null?void 0:s.status)==="under_review"?"Submitted Information":"Submit Verification"}),n.jsx("p",{className:"text-sm text-slate-400",children:(s==null?void 0:s.status)==="under_review"?"Your documents are being reviewed":"Provide your identification details"})]})]})}),n.jsxs(Q,{children:[w&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-emerald-500/10 border border-emerald-500/30 rounded-xl text-emerald-400",children:[n.jsx(Re,{size:20}),n.jsx("span",{children:"Your verification request has been submitted successfully!"})]}),S&&n.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400",children:[n.jsx(wt,{size:20}),n.jsx("span",{children:S})]}),(s==null?void 0:s.status)==="under_review"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(lc,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Full Name"})]}),n.jsx("p",{className:"text-white",children:s.full_name})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(Zn,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"ID Type"})]}),n.jsx("p",{className:"text-white",children:bf[s.id_type]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-1",children:[n.jsx(os,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"ID Number"})]}),n.jsx("p",{className:"text-white font-mono",children:s.id_number})]}),n.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[n.jsx(hr,{size:18}),n.jsx("span",{className:"font-medium",children:"Review in Progress"})]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Your verification is being processed. You'll be notified once the review is complete."})]})]}):n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsx(Ge,{label:"Full Legal Name",type:"text",value:l,onChange:P=>c(P.target.value),placeholder:"Enter your full name as it appears on your ID",required:!0}),n.jsx(Aa,{label:"ID Document Type",value:u,onChange:P=>h(P.target.value),options:Ky}),n.jsx(Ge,{label:"ID Number",type:"text",value:m,onChange:P=>p(P.target.value),placeholder:"Enter your ID document number",required:!0}),n.jsxs(ce,{type:"submit",fullWidth:!0,loading:x,children:[n.jsx(my,{size:20}),"Submit Verification"]})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsx("h3",{className:"font-semibold text-white",children:"Why Verify?"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:n.jsx(Re,{className:"text-emerald-400",size:16})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Secure Withdrawals"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Process withdrawals securely to verified accounts"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:n.jsx(Re,{className:"text-emerald-400",size:16})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Account Protection"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Enhanced security against unauthorized access"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg mt-1",children:n.jsx(Re,{className:"text-emerald-400",size:16})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Regulatory Compliance"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Meet regulatory requirements for investment platforms"})]})]})]})]}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(wt,{className:"text-primary-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Review Time"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Verification typically takes 1-3 business days. You'll receive a notification once your documents have been reviewed."})]})]})})}),n.jsx(Y,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:n.jsx(Ks,{className:"text-yellow-400",size:20})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-white mb-1",children:"Important Notice"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Please ensure all information matches your official ID document exactly. Incorrect information may result in verification delays."})]})]})})})]})]})]})}function Vo(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function _f(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Gy(){const{profile:s}=Ye(),[r,i]=E.useState({totalUsers:0,pendingDeposits:0,pendingWithdrawals:0,totalBalance:0}),[l,c]=E.useState([]),[u,h]=E.useState([]),[m,p]=E.useState(!0),[x,v]=E.useState(null),w=async()=>{p(!0);const[j,k,N]=await Promise.all([fe.from("profiles").select("id, balance"),fe.from("deposit_requests").select(`
          *,
          user:profiles!deposit_requests_user_id_fkey(email, full_name)
        `).eq("status","pending").order("created_at",{ascending:!1}),fe.from("withdrawal_requests").select(`
          *,
          user:profiles!withdrawal_requests_user_id_fkey(email, full_name)
        `).eq("status","pending").order("created_at",{ascending:!1})]),D=j.data||[],U=k.data||[],A=N.data||[];i({totalUsers:D.length,pendingDeposits:U.length,pendingWithdrawals:A.length,totalBalance:D.reduce((P,B)=>P+(B.balance||0),0)}),c(U),h(A),p(!1)};E.useEffect(()=>{s!=null&&s.is_admin&&w()},[s==null?void 0:s.is_admin]);const b=async(j,k)=>{if(s){if(v(j.id),k==="approved"){const{data:N}=await fe.from("profiles").select("balance, total_deposits").eq("id",j.user_id).maybeSingle();N&&(await fe.from("profiles").update({balance:N.balance+j.amount,total_deposits:N.total_deposits+j.amount}).eq("id",j.user_id),await fe.from("transactions").insert({user_id:j.user_id,type:"deposit",amount:j.amount,status:"approved",description:`Deposit via ${j.payment_method}`,processed_at:new Date().toISOString(),processed_by:s.id}))}await fe.from("deposit_requests").update({status:k,processed_at:new Date().toISOString(),processed_by:s.id}).eq("id",j.id),v(null),w()}},S=async(j,k)=>{if(s){if(v(j.id),k==="approved"){const{data:N}=await fe.from("profiles").select("balance, total_withdrawals").eq("id",j.user_id).maybeSingle();N&&N.balance>=j.amount&&(await fe.from("profiles").update({balance:N.balance-j.amount,total_withdrawals:N.total_withdrawals+j.amount}).eq("id",j.user_id),await fe.from("transactions").insert({user_id:j.user_id,type:"withdrawal",amount:j.amount,status:"approved",description:`Withdrawal via ${j.withdrawal_method}`,processed_at:new Date().toISOString(),processed_by:s.id}))}await fe.from("withdrawal_requests").update({status:k,processed_at:new Date().toISOString(),processed_by:s.id}).eq("id",j.id),v(null),w()}};return s!=null&&s.is_admin?n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),n.jsx("p",{className:"text-slate-400",children:"Manage users, deposits, and withdrawals."})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total Users"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.totalUsers})]}),n.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:n.jsx(ti,{className:"text-primary-400",size:24})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Deposits"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingDeposits})]}),n.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:n.jsx(ur,{className:"text-emerald-400",size:24})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Pending Withdrawals"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:r.pendingWithdrawals})]}),n.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:n.jsx(dr,{className:"text-red-400",size:24})})]})})}),n.jsx(Y,{hover:!0,children:n.jsx(Q,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Total AUM"}),n.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white",children:Vo(r.totalBalance)})]}),n.jsx("div",{className:"p-3 bg-accent-500/20 rounded-xl",children:n.jsx(Ys,{className:"text-accent-400",size:24})})]})})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{children:[n.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Deposits"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),n.jsx(be,{to:"/admin/users",children:n.jsxs(ce,{variant:"ghost",size:"sm",children:["View All",n.jsx(Xn,{size:16})]})})]}),n.jsx(Q,{className:"p-0",children:m?n.jsx("div",{className:"p-8 text-center",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):l.length>0?n.jsx("div",{className:"divide-y divide-slate-700/50",children:l.slice(0,5).map(j=>{var k,N,D,U,A,P,B;return n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white text-xs font-medium",children:((D=(N=(k=j.user)==null?void 0:k.full_name)==null?void 0:N.charAt(0))==null?void 0:D.toUpperCase())||((P=(A=(U=j.user)==null?void 0:U.email)==null?void 0:A.charAt(0))==null?void 0:P.toUpperCase())||"U"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-white font-medium",children:Vo(j.amount)}),n.jsx("p",{className:"text-xs text-slate-400 truncate",children:((B=j.user)==null?void 0:B.email)||"Unknown user"})]})]}),n.jsxs("p",{className:"text-sm text-slate-400 mt-2",children:[j.payment_method.replace("_"," "),j.reference_number&&` - ${j.reference_number}`]}),n.jsx("p",{className:"text-xs text-slate-500",children:_f(j.created_at)})]}),n.jsx(us,{status:j.status})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ce,{size:"sm",onClick:()=>b(j,"approved"),loading:x===j.id,children:[n.jsx(Re,{size:16}),"Approve"]}),n.jsxs(ce,{variant:"danger",size:"sm",onClick:()=>b(j,"rejected"),loading:x===j.id,children:[n.jsx(cf,{size:16}),"Reject"]})]})]},j.id)})}):n.jsxs("div",{className:"p-8 text-center text-slate-400",children:[n.jsx(Qn,{size:40,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending deposits"})]})})]}),n.jsxs(Y,{children:[n.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pending Withdrawals"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Awaiting approval"})]}),n.jsx(be,{to:"/admin/users",children:n.jsxs(ce,{variant:"ghost",size:"sm",children:["View All",n.jsx(Xn,{size:16})]})})]}),n.jsx(Q,{className:"p-0",children:m?n.jsx("div",{className:"p-8 text-center",children:n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"})}):u.length>0?n.jsx("div",{className:"divide-y divide-slate-700/50",children:u.slice(0,5).map(j=>{var k,N,D,U,A,P,B;return n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white text-xs font-medium",children:((D=(N=(k=j.user)==null?void 0:k.full_name)==null?void 0:N.charAt(0))==null?void 0:D.toUpperCase())||((P=(A=(U=j.user)==null?void 0:U.email)==null?void 0:A.charAt(0))==null?void 0:P.toUpperCase())||"U"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-white font-medium",children:Vo(j.amount)}),n.jsx("p",{className:"text-xs text-slate-400 truncate",children:((B=j.user)==null?void 0:B.email)||"Unknown user"})]})]}),n.jsx("p",{className:"text-sm text-slate-400 mt-2",children:j.withdrawal_method.replace("_"," ")}),j.account_details&&n.jsx("p",{className:"text-xs text-slate-500 truncate",children:j.account_details}),n.jsx("p",{className:"text-xs text-slate-500",children:_f(j.created_at)})]}),n.jsx(us,{status:j.status})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ce,{size:"sm",onClick:()=>S(j,"approved"),loading:x===j.id,children:[n.jsx(Re,{size:16}),"Approve"]}),n.jsxs(ce,{variant:"danger",size:"sm",onClick:()=>S(j,"rejected"),loading:x===j.id,children:[n.jsx(cf,{size:16}),"Reject"]})]})]},j.id)})}):n.jsxs("div",{className:"p-8 text-center text-slate-400",children:[n.jsx(Qn,{size:40,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending withdrawals"})]})})]})]})]}):n.jsx(ht,{children:n.jsx(Y,{children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx(Ks,{className:"mx-auto text-yellow-400 mb-4",size:48}),n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function er(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s)}function Yy(s){return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Qy(){const{profile:s}=Ye(),[r,i]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState(""),[m,p]=E.useState(null),[x,v]=E.useState(null),[w,b]=E.useState(""),[S,j]=E.useState(""),[k,N]=E.useState(!1),[D,U]=E.useState(!1),[A,P]=E.useState(""),B=async()=>{c(!0);const{data:ee}=await fe.from("profiles").select("*").order("created_at",{ascending:!1});i(ee||[]),c(!1)};E.useEffect(()=>{s!=null&&s.is_admin&&B()},[s==null?void 0:s.is_admin]);const V=r.filter(ee=>{if(!u)return!0;const Ne=u.toLowerCase();return ee.email.toLowerCase().includes(Ne)||ee.full_name.toLowerCase().includes(Ne)}),ae=async ee=>{if(ee.preventDefault(),!m||!x||!s)return;const Ne=parseFloat(w);if(isNaN(Ne)){P("Please enter a valid amount");return}N(!0),P("");try{if(x==="balance"){const{error:Ce}=await fe.from("profiles").update({balance:m.balance+Ne}).eq("id",m.id);if(Ce)throw Ce;const{error:xe}=await fe.from("transactions").insert({user_id:m.id,type:"balance_adjustment",amount:Math.abs(Ne),status:"approved",description:S||"Balance adjustment by admin",processed_at:new Date().toISOString(),processed_by:s.id});if(xe)throw xe}else if(x==="profit"){const{error:Ce}=await fe.from("profiles").update({balance:m.balance+Ne,total_profits:m.total_profits+Ne}).eq("id",m.id);if(Ce)throw Ce;const{error:xe}=await fe.from("transactions").insert({user_id:m.id,type:"profit_credit",amount:Ne,status:"approved",description:S||"Profit credit",processed_at:new Date().toISOString(),processed_by:s.id});if(xe)throw xe}else if(x==="roi"){const{error:Ce}=await fe.from("profiles").update({total_roi_percent:Ne}).eq("id",m.id);if(Ce)throw Ce}U(!0),setTimeout(()=>{U(!1),p(null),v(null),b(""),j("")},1500),B()}catch(Ce){P(Ce instanceof Error?Ce.message:"Failed to process action")}finally{N(!1)}},pe=()=>{p(null),v(null),b(""),j(""),P("")};return s!=null&&s.is_admin?n.jsxs(ht,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Manage Users"}),n.jsx("p",{className:"text-slate-400",children:"View and manage user accounts, balances, and credits."})]}),n.jsx(Y,{className:"mb-6",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(rm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:u,onChange:ee=>h(ee.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-primary-500"})]})})}),n.jsxs(Y,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:n.jsx(ti,{className:"text-primary-400",size:20})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-white",children:[V.length," User",V.length!==1?"s":""]}),n.jsx("p",{className:"text-sm text-slate-400",children:"Click on a user to manage their account"})]})]})}),n.jsx(Q,{className:"p-0",children:l?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-slate-400 mt-4",children:"Loading users..."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-slate-700/50",children:[n.jsx("th",{className:"text-left p-4 text-sm font-medium text-slate-400",children:"User"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Plan"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Balance"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Deposits"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Profits"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"ROI"}),n.jsx("th",{className:"text-right p-4 text-sm font-medium text-slate-400",children:"Actions"})]})}),n.jsx("tbody",{children:V.map(ee=>{var Ne,Ce;return n.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-accent-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium",children:((Ce=(Ne=ee.full_name)==null?void 0:Ne.charAt(0))==null?void 0:Ce.toUpperCase())||ee.email.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:ee.full_name||"No name"}),n.jsx("p",{className:"text-sm text-slate-400",children:ee.email})]}),ee.is_admin&&n.jsx("span",{className:"px-2 py-1 bg-accent-500/20 text-accent-400 text-xs rounded-full",children:"Admin"})]})}),n.jsx("td",{className:"p-4 text-right",children:n.jsx("span",{className:"inline-flex px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full capitalize",children:ee.investment_plan})}),n.jsx("td",{className:"p-4 text-right text-white font-medium",children:er(ee.balance)}),n.jsx("td",{className:"p-4 text-right text-slate-300",children:er(ee.total_deposits)}),n.jsx("td",{className:`p-4 text-right font-medium ${ee.total_profits>=0?"text-emerald-400":"text-red-400"}`,children:er(ee.total_profits)}),n.jsxs("td",{className:`p-4 text-right font-medium ${ee.total_roi_percent>=0?"text-emerald-400":"text-red-400"}`,children:[ee.total_roi_percent>=0?"+":"",ee.total_roi_percent.toFixed(2),"%"]}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("div",{className:"flex justify-end gap-2 flex-wrap",children:[n.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>{p(ee),v("profile")},children:[n.jsx(iy,{size:14}),"View"]}),n.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{p(ee),v("balance")},children:[n.jsx(Kt,{size:14}),"Balance"]}),n.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{p(ee),v("profit")},children:[n.jsx(dt,{size:14}),"Credit"]}),n.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{p(ee),v("roi")},children:[n.jsx(Ca,{size:14}),"ROI"]})]})})]},ee.id)})})]})})})]}),m&&x&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs(Y,{className:"w-full max-w-md",children:[n.jsxs(_e,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:x==="balance"?"Adjust Balance":x==="profit"?"Credit Profit":x==="roi"?"Update ROI":"User Profile"}),n.jsx("p",{className:"text-sm text-slate-400",children:m.email})]}),n.jsx("button",{onClick:pe,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:n.jsx(_c,{className:"text-slate-400",size:20})})]}),n.jsx(Q,{children:D?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Re,{className:"mx-auto text-emerald-400 mb-4",size:48}),n.jsx("p",{className:"text-white font-medium",children:"Action completed successfully!"})]}):x==="profile"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(bc,{className:"text-slate-400",size:16}),n.jsx("p",{className:"text-sm text-slate-400",children:"Email"})]}),n.jsx("p",{className:"text-white font-medium break-all",children:m.email})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ti,{className:"text-slate-400",size:16}),n.jsx("p",{className:"text-sm text-slate-400",children:"Full Name"})]}),n.jsx("p",{className:"text-white font-medium",children:m.full_name||"Not set"})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Zn,{className:"text-slate-400",size:16}),n.jsx("p",{className:"text-sm text-slate-400",children:"Investment Plan"})]}),n.jsx("p",{className:"text-white font-medium capitalize",children:m.investment_plan}),n.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[er(m.plan_min_amount)," - ",er(m.plan_max_amount)]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wc,{className:"text-slate-400",size:16}),n.jsx("p",{className:"text-sm text-slate-400",children:"Joined"})]}),n.jsx("p",{className:"text-white font-medium",children:Yy(m.created_at)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Balance"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:er(m.balance)})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Total Deposits"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:er(m.total_deposits)})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Total Profits"}),n.jsx("p",{className:`text-2xl font-bold ${m.total_profits>=0?"text-emerald-400":"text-red-400"}`,children:er(m.total_profits)})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Total ROI"}),n.jsxs("p",{className:`text-2xl font-bold ${m.total_roi_percent>=0?"text-emerald-400":"text-red-400"}`,children:[m.total_roi_percent>=0?"+":"",m.total_roi_percent.toFixed(2),"%"]})]})]}),n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Total Withdrawals"}),n.jsx("p",{className:"text-xl font-bold text-white",children:er(m.total_withdrawals)})]}),m.is_admin&&n.jsxs("div",{className:"p-3 bg-accent-500/10 border border-accent-500/30 rounded-xl text-accent-400 text-sm flex items-center gap-2",children:[n.jsx(Re,{size:16}),n.jsx("span",{children:"This user has administrator privileges"})]}),n.jsx("div",{className:"flex gap-3 pt-4",children:n.jsx(ce,{type:"button",variant:"ghost",onClick:pe,fullWidth:!0,children:"Close"})})]}):n.jsx("form",{onSubmit:ae,className:"space-y-4",children:x==="roi"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Current ROI"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[m.total_roi_percent>=0?"+":"",m.total_roi_percent.toFixed(2),"%"]})]}),n.jsx(Ge,{label:"New ROI Percentage",type:"number",value:w,onChange:ee=>b(ee.target.value),placeholder:"Enter ROI percentage (e.g., 25.5)",step:"0.01",required:!0}),A&&n.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm",children:A}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs(ce,{type:"submit",fullWidth:!0,loading:k,children:[n.jsx(Ca,{size:16}),"Update ROI"]}),n.jsx(ce,{type:"button",variant:"ghost",onClick:pe,children:"Cancel"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-xl",children:[n.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Current Balance"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:er(m.balance)})]}),n.jsx(Ge,{label:x==="balance"?"Amount (can be negative)":"Profit Amount",type:"number",value:w,onChange:ee=>b(ee.target.value),placeholder:"Enter amount",step:"0.01",required:!0}),n.jsx(Ge,{label:"Description (Optional)",value:S,onChange:ee=>j(ee.target.value),placeholder:"Add a note for this transaction"}),A&&n.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm",children:A}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs(ce,{type:"submit",fullWidth:!0,loading:k,children:[n.jsx(Ys,{size:16}),x==="balance"?"Update Balance":"Credit Profit"]}),n.jsx(ce,{type:"button",variant:"ghost",onClick:pe,children:"Cancel"})]})]})})})]})})]}):n.jsx(ht,{children:n.jsx(Y,{children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx(Ks,{className:"mx-auto text-yellow-400 mb-4",size:48}),n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-slate-400",children:"You do not have permission to access this page."})]})})})}function Xy(){return n.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-slate-800/50 shadow-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[n.jsxs(be,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(cs,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold text-white block",children:"Prime Blocks"}),n.jsx("span",{className:"text-xs text-slate-400 hidden sm:block",children:"Investments"})]})]}),n.jsx(be,{to:"/",children:n.jsxs(ce,{variant:"ghost",size:"sm",children:[n.jsx(ls,{size:16}),"Back to Home"]})})]})})}),n.jsx("main",{className:"pt-32 pb-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-500/20 rounded-2xl mb-6",children:n.jsx(cs,{className:"text-blue-400",size:32})}),n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4",children:"Privacy Policy"}),n.jsx("p",{className:"text-slate-400",children:"Last updated: January 30, 2026"})]}),n.jsxs("div",{className:"bg-slate-900/50 border border-slate-800/50 rounded-2xl p-8 space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Information We Collect"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"We collect information that you provide directly to us, including:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Personal identification information (name, email address)"}),n.jsx("li",{children:"Account credentials and authentication data"}),n.jsx("li",{children:"Financial information related to deposits and withdrawals"}),n.jsx("li",{children:"KYC verification documents and identification information"}),n.jsx("li",{children:"Communication preferences and support interactions"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. How We Use Your Information"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"We use the information we collect to:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Provide, maintain, and improve our investment platform services"}),n.jsx("li",{children:"Process your transactions and manage your account"}),n.jsx("li",{children:"Verify your identity and comply with legal requirements"}),n.jsx("li",{children:"Send you technical notices, updates, and security alerts"}),n.jsx("li",{children:"Respond to your comments, questions, and customer service requests"}),n.jsx("li",{children:"Monitor and analyze trends, usage, and activities"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. Information Sharing and Disclosure"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"With your consent or at your direction"}),n.jsx("li",{children:"To comply with legal obligations and law enforcement requests"}),n.jsx("li",{children:"To protect the rights, property, and safety of Prime Blocks and our users"}),n.jsx("li",{children:"With service providers who perform services on our behalf"}),n.jsx("li",{children:"In connection with a merger, sale, or acquisition"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Data Security"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"We implement industry-standard security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction. This includes encryption, secure socket layer technology, and regular security audits. However, no method of transmission over the Internet is 100% secure, and we cannot guarantee absolute security."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Data Retention"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this privacy policy, unless a longer retention period is required or permitted by law. When we no longer need your information, we will securely delete or anonymize it."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Your Rights and Choices"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"You have certain rights regarding your personal information:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Access and review your personal information"}),n.jsx("li",{children:"Request corrections to inaccurate or incomplete data"}),n.jsx("li",{children:"Request deletion of your personal information"}),n.jsx("li",{children:"Object to or restrict certain processing of your data"}),n.jsx("li",{children:"Export your data in a structured, machine-readable format"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Cookies and Tracking Technologies"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"We use cookies and similar tracking technologies to collect and track information about your browsing activities. You can control cookies through your browser settings. However, disabling cookies may limit your ability to use certain features of our platform."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Changes to This Privacy Policy"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date. You are advised to review this privacy policy periodically for any changes.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Contact Us"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"If you have any questions about this privacy policy or our data practices, please contact us through our support page or email us at privacy@primeblocks.com."})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx(be,{to:"/",children:n.jsxs(ce,{variant:"outline",children:[n.jsx(ls,{size:16}),"Return to Homepage"]})})})]})})]})}function Zy(){return n.jsxs("div",{className:"min-h-screen bg-slate-950",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-slate-800/50 shadow-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[n.jsxs(be,{to:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:n.jsx(os,{className:"text-white",size:20})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xl font-bold text-white block",children:"Prime Blocks"}),n.jsx("span",{className:"text-xs text-slate-400 hidden sm:block",children:"Investments"})]})]}),n.jsx(be,{to:"/",children:n.jsxs(ce,{variant:"ghost",size:"sm",children:[n.jsx(ls,{size:16}),"Back to Home"]})})]})})}),n.jsx("main",{className:"pt-32 pb-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-500/20 rounded-2xl mb-6",children:n.jsx(os,{className:"text-blue-400",size:32})}),n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4",children:"Terms and Conditions"}),n.jsx("p",{className:"text-slate-400",children:"Last updated: January 30, 2026"})]}),n.jsxs("div",{className:"bg-slate-900/50 border border-slate-800/50 rounded-2xl p-8 space-y-8",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"By accessing and using the Prime Blocks investment platform, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, you should not use our services. We reserve the right to modify these terms at any time, and your continued use of the platform constitutes acceptance of any changes."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Eligibility"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"To use our platform, you must:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Be at least 18 years of age or the age of majority in your jurisdiction"}),n.jsx("li",{children:"Have the legal capacity to enter into binding contracts"}),n.jsx("li",{children:"Not be prohibited from using our services under applicable laws"}),n.jsx("li",{children:"Provide accurate and complete registration information"}),n.jsx("li",{children:"Comply with all KYC and identity verification requirements"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. Account Registration and Security"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"When you create an account with Prime Blocks:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),n.jsx("li",{children:"You must provide accurate, current, and complete information"}),n.jsx("li",{children:"You are responsible for all activities that occur under your account"}),n.jsx("li",{children:"You must notify us immediately of any unauthorized access"}),n.jsx("li",{children:"We reserve the right to suspend or terminate accounts that violate our terms"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Investment Services"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"Prime Blocks provides an investment management platform. You acknowledge and agree that:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"All investments carry inherent risks, including potential loss of capital"}),n.jsx("li",{children:"Past performance does not guarantee future results"}),n.jsx("li",{children:"We do not provide financial advice or investment recommendations"}),n.jsx("li",{children:"You are responsible for evaluating the suitability of any investment"}),n.jsx("li",{children:"Investment returns are not guaranteed and may vary"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Deposits and Withdrawals"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"Regarding financial transactions:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"All deposit and withdrawal requests are subject to verification and approval"}),n.jsx("li",{children:"Processing times may vary depending on the payment method and verification requirements"}),n.jsx("li",{children:"We reserve the right to reject or reverse any transaction that appears fraudulent"}),n.jsx("li",{children:"You are responsible for any fees charged by third-party payment processors"}),n.jsx("li",{children:"Minimum deposit and withdrawal amounts may apply"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. KYC and Compliance"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"We are committed to preventing fraud and complying with anti-money laundering regulations. You agree to provide accurate identification documents and information when requested. We reserve the right to suspend or terminate accounts that fail to complete KYC verification or provide false information."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Prohibited Activities"}),n.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Use the platform for any illegal or unauthorized purpose"}),n.jsx("li",{children:"Attempt to gain unauthorized access to our systems or other user accounts"}),n.jsx("li",{children:"Interfere with or disrupt the platform or servers"}),n.jsx("li",{children:"Transmit viruses, malware, or other harmful code"}),n.jsx("li",{children:"Create multiple accounts or impersonate others"}),n.jsx("li",{children:"Engage in market manipulation or fraudulent activities"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Intellectual Property"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"All content, features, and functionality on the Prime Blocks platform are owned by us and are protected by copyright, trademark, and other intellectual property laws. You may not reproduce, distribute, modify, or create derivative works without our express written permission."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Limitation of Liability"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"To the maximum extent permitted by law, Prime Blocks shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or investment returns. Our total liability shall not exceed the amount you paid to us in the twelve months preceding the claim."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Termination"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"We reserve the right to suspend or terminate your account at any time for violation of these terms, suspicious activity, or for any other reason at our discretion. Upon termination, you will be provided with instructions for withdrawing any remaining funds, subject to applicable regulations and verification requirements."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Dispute Resolution"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Any disputes arising from these terms or your use of the platform shall be resolved through binding arbitration in accordance with applicable arbitration rules. You waive any right to participate in class action lawsuits or class-wide arbitration."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Governing Law"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"These Terms and Conditions are governed by and construed in accordance with applicable laws, without regard to conflict of law principles. Any legal action or proceeding shall be brought exclusively in the competent courts of the specified jurisdiction."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Contact Information"}),n.jsx("p",{className:"text-slate-300 leading-relaxed",children:"If you have any questions about these Terms and Conditions, please contact us through our support page or email us at legal@primeblocks.com."})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx(be,{to:"/",children:n.jsxs(ce,{variant:"outline",children:[n.jsx(ls,{size:16}),"Return to Homepage"]})})})]})})]})}function qt({children:s}){const{user:r,loading:i}=Ye();return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?n.jsx(n.Fragment,{children:s}):n.jsx(mc,{to:"/login",replace:!0})}function Nf({children:s}){const{user:r,loading:i}=Ye();return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto"}),n.jsx("p",{className:"text-slate-400 mt-4",children:"Loading..."})]})}):r?n.jsx(mc,{to:"/dashboard",replace:!0}):n.jsx(n.Fragment,{children:s})}function ew(){return n.jsxs(lx,{children:[n.jsx(We,{path:"/",element:n.jsx(yy,{})}),n.jsx(We,{path:"/investment-plans",element:n.jsx(jy,{})}),n.jsx(We,{path:"/privacy-policy",element:n.jsx(Xy,{})}),n.jsx(We,{path:"/terms-conditions",element:n.jsx(Zy,{})}),n.jsx(We,{path:"/login",element:n.jsx(Nf,{children:n.jsx(by,{})})}),n.jsx(We,{path:"/register",element:n.jsx(_y,{})}),n.jsx(We,{path:"/forgot-password",element:n.jsx(Nf,{children:n.jsx(Ny,{})})}),n.jsx(We,{path:"/dashboard",element:n.jsx(qt,{children:n.jsx(Ey,{})})}),n.jsx(We,{path:"/account",element:n.jsx(qt,{children:n.jsx(Cy,{})})}),n.jsx(We,{path:"/transactions",element:n.jsx(qt,{children:n.jsx(Ry,{})})}),n.jsx(We,{path:"/deposit",element:n.jsx(qt,{children:n.jsx(Iy,{})})}),n.jsx(We,{path:"/deposit/:crypto",element:n.jsx(qt,{children:n.jsx(Uy,{})})}),n.jsx(We,{path:"/withdraw",element:n.jsx(qt,{children:n.jsx(Ly,{})})}),n.jsx(We,{path:"/market",element:n.jsx(qt,{children:n.jsx(Wy,{})})}),n.jsx(We,{path:"/support",element:n.jsx(qt,{children:n.jsx(Hy,{})})}),n.jsx(We,{path:"/kyc",element:n.jsx(qt,{children:n.jsx(Jy,{})})}),n.jsx(We,{path:"/admin",element:n.jsx(qt,{children:n.jsx(Gy,{})})}),n.jsx(We,{path:"/admin/users",element:n.jsx(qt,{children:n.jsx(Qy,{})})}),n.jsx(We,{path:"*",element:n.jsx(mc,{to:"/",replace:!0})})]})}function tw(){return n.jsx(mx,{children:n.jsx(Xv,{children:n.jsx(ew,{})})})}m0.createRoot(document.getElementById("root")).render(n.jsx(E.StrictMode,{children:n.jsx(tw,{})}));
